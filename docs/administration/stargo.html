<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-3.1 docs-doc-page docs-doc-id-administration/stargo" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-beta.0">
<title data-rh="true">Deploy and Manage StarRocks with StarGo | StarRocks</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://danroscigno.github.io/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://danroscigno.github.io/doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://danroscigno.github.io/doc/docs/administration/stargo"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="3.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.1"><meta data-rh="true" name="docsearch:version" content="3.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.1"><meta data-rh="true" property="og:title" content="Deploy and Manage StarRocks with StarGo | StarRocks"><meta data-rh="true" name="description" content="This topic describes how to deploy and manage StarRocks clusters with StarGo."><meta data-rh="true" property="og:description" content="This topic describes how to deploy and manage StarRocks clusters with StarGo."><link data-rh="true" rel="icon" href="/doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danroscigno.github.io/doc/docs/administration/stargo"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/doc/docs/administration/stargo" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/doc/zh/docs/administration/stargo" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/doc/docs/administration/stargo" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ER08SJMRY1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="StarRocks" href="/doc/opensearch.xml"><link rel="stylesheet" href="/doc/assets/css/styles.62f01ed5.css">
<script src="/doc/assets/js/runtime~main.349f2cd6.js" defer="defer"></script>
<script src="/doc/assets/js/main.37425b5e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.starrocks.io/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/doc/img/logo.svg" alt="StarRocks Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doc/img/logo.svg" alt="StarRocks Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">StarRocks</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc/docs/introduction/StarRocks_intro">Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/doc/docs/introduction/StarRocks_intro">3.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc/docs/next/examples/introduction">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/doc/docs/administration/stargo">3.1</a></li><li><a class="dropdown__link" href="/doc/docs/3.0/administration/stargo">3.0</a></li><li><a class="dropdown__link" href="/doc/docs/2.5/administration/stargo">2.5</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/doc/docs/administration/stargo" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="/doc/zh/docs/administration/stargo" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/StarRocks/starrocks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/docs/introduction/StarRocks_intro">StarRocks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/introduction-to-starrocks">Introduction to StarRocks</a><button aria-label="Expand sidebar category &#x27;Introduction to StarRocks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/quick_start">Quick Start</a><button aria-label="Expand sidebar category &#x27;Quick Start&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/deployment/deployment_overview">Deployment</a><button aria-label="Expand sidebar category &#x27;Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/table_design/StarRocks_table_design">Table Design</a><button aria-label="Expand sidebar category &#x27;Table Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/loading/Loading_intro">Data Loading</a><button aria-label="Expand sidebar category &#x27;Data Loading&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/data-unloading">Data Unloading</a><button aria-label="Expand sidebar category &#x27;Data Unloading&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/query-data-lakes">Query Data Lakes</a><button aria-label="Expand sidebar category &#x27;Query Data Lakes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/query-acceleration">Query Acceleration</a><button aria-label="Expand sidebar category &#x27;Query Acceleration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/integrations">Integrations</a><button aria-label="Expand sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/administration">Administration</a><button aria-label="Expand sidebar category &#x27;Administration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/reference">Reference</a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/faq">FAQ</a><button aria-label="Expand sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/benchmarks">Benchmarks</a><button aria-label="Expand sidebar category &#x27;Benchmarks&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/developers">Developers</a><button aria-label="Expand sidebar category &#x27;Developers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/docs/category/ecosystem-release-notes">Ecosystem Release Notes</a><button aria-label="Expand sidebar category &#x27;Ecosystem Release Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Deploy and Manage StarRocks with StarGo</h1>
<p>This topic describes how to deploy and manage StarRocks clusters with StarGo.</p>
<p>StarGo is a command line tool for multiple StarRocks clusters management. You can easily deploy, check, upgrade, downgrade, start and stop multiple clusters through StarGo.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-stargo">Install StarGo<a href="#install-stargo" class="hash-link" aria-label="Direct link to Install StarGo" title="Direct link to Install StarGo">​</a></h2>
<p>Download the following files to your central control node:</p>
<ul>
<li><strong>sr-ctl</strong>: The binary file of StarGo. You do not need to install it after downloading it.</li>
<li><strong>sr-c1.yaml</strong>: The template for the deployment configuration file.</li>
<li><strong>repo.yaml</strong>: The configuration file for the download path of StarRocks installer.</li>
</ul>
<blockquote>
<p>Note
You can access <code>http://cdn-thirdparty.starrocks.com</code> to get the corresponding installation index files and installers.</p>
</blockquote>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/wangtianyi2004/starrocks-controller/raw/main/stargo-pkg.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/wangtianyi2004/starrocks-controller/blob/main/sr-c1.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://github.com/wangtianyi2004/starrocks-controller/blob/main/repo.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Grant <strong>sr-ctl</strong> access.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">751</span><span class="token plain"> sr-ctl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-starrocks-cluster">Deploy StarRocks cluster<a href="#deploy-starrocks-cluster" class="hash-link" aria-label="Direct link to Deploy StarRocks cluster" title="Direct link to Deploy StarRocks cluster">​</a></h2>
<p>You can deploy a StarRocks cluster with StarGo.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3>
<ul>
<li>The cluster to be deployed must have at least one central control node and three deployment nodes. All nodes can be deployed on one machine.</li>
<li>You need to deploy StarGo on the central control node.</li>
<li>You need to build mutual SSH authentication between the central control node and three deployment nodes.</li>
</ul>
<p>The following example builds mutual authentication between central control node sr-dev@r0 and three deployment nodes starrocks@r1, starrocks@r2, and starrocks@r3.</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## Build the mutual authentication between sr-dev@r0 and starrocks@r1, 2, 3.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-keygen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-copy-id starrocks@r1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-copy-id starrocks@r2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-copy-id starrocks@r3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Verify the mutual authentication between sr-dev@r0 and starrocks@r1, 2, 3.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh starrocks@r1 date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh starrocks@r2 date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh starrocks@r3 date</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-configuration-file">Create configuration file<a href="#create-configuration-file" class="hash-link" aria-label="Direct link to Create configuration file" title="Direct link to Create configuration file">​</a></h3>
<p>Create the StarRocks deployment topology file based on the following YAML template. See <a href="/doc/docs/administration/Configuration">Configuration</a> for detailed information.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;starrocks&quot;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">## The current OS user.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">fe_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># Specify the unique IP for current node when the machine has multiple IP addresses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># Specify the unique IP for current node when the machine has multiple IP addresses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># Specify the unique IP for current node when the machine has multiple IP addresses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">be_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># Specify the unique IP for current node when the machine has multiple IP addresses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># Specify the unique IP for current node when the machine has multiple IP addresses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># Specify the unique IP for current node when the machine has multiple IP addresses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-deployment-directory-optional">Create deployment directory (Optional)<a href="#create-deployment-directory-optional" class="hash-link" aria-label="Direct link to Create deployment directory (Optional)" title="Direct link to Create deployment directory (Optional)">​</a></h3>
<p>If the paths under which StarRocks to be deployed does not exist, and you have the privilege to create such paths, you do not have create these paths, and StarGo will create them for you based on the configration file. If the the paths already exist, make sure you have the write access to them. You can also create necessary deployment directories on each node by running the following commands.</p>
<ul>
<li>Create <strong>meta</strong> directory on FE nodes.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/fe/meta</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Create <strong>storage</strong> directory on BE nodes.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/be/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Caution
Make sure the above paths are identical with the configuration items <code>meta_dir</code> and <code>storage_dir</code> in the configuration file.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-starrocks">Deploy StarRocks<a href="#deploy-starrocks" class="hash-link" aria-label="Direct link to Deploy StarRocks" title="Direct link to Deploy StarRocks">​</a></h3>
<p>Deploy StarRocks cluster by running the following command.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster deploy </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">version</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">topology_file</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>Prameter</th><th>Description</th></tr></thead><tbody><tr><td>cluster_name</td><td>Name of the cluster to deploy.</td></tr><tr><td>version</td><td>StarRocks version.</td></tr><tr><td>topology_file</td><td>Name of the configuration file.</td></tr></tbody></table>
<p>If the deployment is successful, the cluster will be started automatically. When beStatus and feStatus are true, the cluster is started successfully.</p>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ./sr-ctl cluster deploy sr-c1 v2.0.1 sr-c1.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234817  OUTPUT] Deploy cluster [clusterName = sr-c1, clusterVersion = v2.0.1, metaFile = sr-c1.yaml]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234836  OUTPUT] PRE CHECK DEPLOY ENV:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck FE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         meta dir                   deploy dir                 http port        rpc port         query port       edit log port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  -------------------------  -------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck BE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         storage dir                deploy dir                 webSer port      heartbeat port   brpc port        be port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  -------------------------  -------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234836  OUTPUT] PreCheck successfully. RESPECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234836  OUTPUT] Create the deploy folder ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234838  OUTPUT] Download StarRocks package &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000515    INFO] The file starrocks-2.0.1-quickstart.tar.gz [1227406189] download successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000515  OUTPUT] Download done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000515  OUTPUT] Decompress StarRocks pakcage &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000520    INFO] The tar file /home/sr-dev/.starrocks-controller/download/starrocks-2.0.1-quickstart.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000547    INFO] The tar file /home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000556    INFO] The tar file /home/sr-dev/.starrocks-controller/download/jdk-8u301-linux-x64.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000556  OUTPUT] Distribute FE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000603    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000615    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000615    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000622    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000634    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000634    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000640    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000652    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000652    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000652  OUTPUT] Distribute BE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000728    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000752    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000815    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000815  OUTPUT] Modify configuration for FE nodes &amp; BE nodes ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000816    INFO] Starting leader FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000836    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000836    INFO] Starting follower FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000857    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000857    INFO] Starting follower FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000918    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000918    INFO] List all FE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000918    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000939    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000939    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001000    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001000    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001020    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001020  OUTPUT] List all BE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can test the cluster by <a href="#view-cluster-information">viewing cluster information</a>.</p>
<p>You can also test it by connecting the cluster with MySQL client.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql -h </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1 -P9030 -uroot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-cluster-information">View cluster information<a href="#view-cluster-information" class="hash-link" aria-label="Direct link to View cluster information" title="Direct link to View cluster information">​</a></h2>
<p>You can view the information of the cluster that StarGo manages.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-the-information-of-all-clusters">View the information of all clusters<a href="#view-the-information-of-all-clusters" class="hash-link" aria-label="Direct link to View the information of all clusters" title="Direct link to View the information of all clusters">​</a></h3>
<p>View the information of all clusters by running the following command.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">sr-dev@r0 ~</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ ./sr-ctl cluster list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">20220302</span><span class="token plain">-001640  OUTPUT</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      User        CreateDate                 MetaPath                                                      PrivateKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-c1            starrocks   </span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-03-02 00:08:15        /home/sr-dev/.starrocks-controller/cluster/sr-c1              /home/sr-dev/.ssh/id_rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="view-the-information-of-a-specific-cluster">View the information of a specific cluster<a href="#view-the-information-of-a-specific-cluster" class="hash-link" aria-label="Direct link to View the information of a specific cluster" title="Direct link to View the information of a specific cluster">​</a></h3>
<p>View the information of a specific cluster by running the following command.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster display </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ./sr-ctl cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-002310  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="start-cluster">Start cluster<a href="#start-cluster" class="hash-link" aria-label="Direct link to Start cluster" title="Direct link to Start cluster">​</a></h2>
<p>You can start StarRocks clusters via StarGo.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-all-nodes-in-a-cluster">Start all nodes in a cluster<a href="#start-all-nodes-in-a-cluster" class="hash-link" aria-label="Direct link to Start all nodes in a cluster" title="Direct link to Start all nodes in a cluster">​</a></h3>
<p>Start all nodes in a cluster by running the following command.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster-name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./sr-ctl cluster start sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190404  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190404    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190435    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190446    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190457    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190458    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190458    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-nodes-of-a-specific-role">Start nodes of a specific role<a href="#start-nodes-of-a-specific-role" class="hash-link" aria-label="Direct link to Start nodes of a specific role" title="Direct link to Start nodes of a specific role">​</a></h3>
<ul>
<li>Start all FE nodes in a cluster.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role FE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Start all BE nodes in a cluster.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role BE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./sr-ctl cluster start sr-c1 --role FE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191529  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191529    INFO] Starting FE cluster ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191529    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191600    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191610    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./sr-ctl cluster start sr-c1 --role BE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194215  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194215    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194216    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194217    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194217    INFO] Starting BE cluster ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-a-specific-node">Start a specific node<a href="#start-a-specific-node" class="hash-link" aria-label="Direct link to Start a specific node" title="Direct link to Start a specific node">​</a></h3>
<p>Start a specific node in the cluster. Currently, only BE nodes are supported.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --node </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_ID</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can check the ID of a specific node by <a href="#view-the-information-of-a-specific-cluster">viewing the information of a specific cluster</a>.</p>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./sr-ctl cluster start sr-c1 --node 192.168.xx.xx:9060</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194714  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194714    INFO] Start BE node. [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="stop-cluster">Stop cluster<a href="#stop-cluster" class="hash-link" aria-label="Direct link to Stop cluster" title="Direct link to Stop cluster">​</a></h2>
<p>You can stop StarRocks clusters via StarGo.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stop-all-nodes-in-a-cluster">Stop all nodes in a cluster<a href="#stop-all-nodes-in-a-cluster" class="hash-link" aria-label="Direct link to Stop all nodes in a cluster" title="Direct link to Stop all nodes in a cluster">​</a></h3>
<p>Stop all nodes in a cluster by running the following command.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster stop sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180140  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180140  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180140    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180143  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180143    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180145  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180145    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180149    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180149    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180149    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stop-nodes-of-a-specific-role">Stop nodes of a specific role<a href="#stop-nodes-of-a-specific-role" class="hash-link" aria-label="Direct link to Stop nodes of a specific role" title="Direct link to Stop nodes of a specific role">​</a></h3>
<ul>
<li>Stop all FE nodes in a cluster.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role FE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Stop all BE nodes in a cluster.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role BE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster stop sr-c1 --role BE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] Stopping BE cluster ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">###########################################################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster stop sr-c1 --role FE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849    INFO] Stopping FE cluster ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180851  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180851    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180854  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180854    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180856  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stop-a-specific-node">Stop a specific node<a href="#stop-a-specific-node" class="hash-link" aria-label="Direct link to Stop a specific node" title="Direct link to Stop a specific node">​</a></h3>
<p>Stop a specific node in the cluster.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --node </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_ID</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can check the ID of a specific node by <a href="#view-the-information-of-a-specific-cluster">viewing the information of a specific cluster</a>.</p>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./sr-ctl cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185400  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185400    WARN] All FE nodes are down, please start FE node and display the cluster status again.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        DOWN        StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        DOWN        StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        DOWN        StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        DOWN        StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        DOWN        StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        DOWN        StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./sr-ctl cluster stop sr-c1 --node 192.168.xx.xx:9060</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185510  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185510    INFO] Stopping BE node. [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185510    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scale-cluster-out">Scale cluster out<a href="#scale-cluster-out" class="hash-link" aria-label="Direct link to Scale cluster out" title="Direct link to Scale cluster out">​</a></h2>
<p>You can scale a cluster out via StarGo.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-configuration-file-1">Create configuration file<a href="#create-configuration-file-1" class="hash-link" aria-label="Direct link to Create configuration file" title="Direct link to Create configuration file">​</a></h3>
<p>Create the scale-out task topology file based on the following template. You can specify the file to add FE and/or BE nodes based on your demand. See <a href="/doc/docs/administration/Configuration">Configuration</a> for detailed information.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Add an FE node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">fe_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.xx.xx </span><span class="token comment" style="color:#999988;font-style:italic"># The IP address of the new FE node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.xx.xx/24 </span><span class="token comment" style="color:#999988;font-style:italic"># Specify the unique IP for current node when the machine has multiple IP addresses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_delete_age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1d&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add a BE node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">be_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.xx.xx </span><span class="token comment" style="color:#999988;font-style:italic"># The IP address of the new BE node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-ssh-mutual-authentication">Build SSH mutual authentication<a href="#build-ssh-mutual-authentication" class="hash-link" aria-label="Direct link to Build SSH mutual authentication" title="Direct link to Build SSH mutual authentication">​</a></h3>
<p>If you are adding a new node to the cluster, you must build mutual authentication between the new node and the central control node. See <a href="#prerequisites">Prerequisites</a> for detailed instruction.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-deployment-directory-optional-1">Create deployment directory (Optional)<a href="#create-deployment-directory-optional-1" class="hash-link" aria-label="Direct link to Create deployment directory (Optional)" title="Direct link to Create deployment directory (Optional)">​</a></h3>
<p>If the path under which the new node to be deployed does not exist, and you have the privilege to create such path, you do not have create these path, and StarGo will create them for you based on the configuration file. If the the paths already exist, make sure you have the write access to them. You can also create necessary deployment directories on each node by running the following commands.</p>
<ul>
<li>Create <strong>meta</strong> directory on FE nodes.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/fe/meta</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Create <strong>storage</strong> directory on BE nodes.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/be/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Caution
Make sure the above paths are identical with the configuration items <code>meta_dir</code> and <code>storage_dir</code> in the configuration file.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scale-the-cluster-out">Scale the cluster out<a href="#scale-the-cluster-out" class="hash-link" aria-label="Direct link to Scale the cluster out" title="Direct link to Scale the cluster out">​</a></h3>
<p>Scale the cluster out by running the following command.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster scale-out </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">topology_file</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Status of the cluster before scale-out.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./sr-ctl cluster display sr-test       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-210047  OUTPUT] Display cluster [clusterName = sr-test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = v2.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          /opt/starrocks-test/fe                              /opt/starrocks-test/fe/meta                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          /opt/starrocks-test/be                              /opt/starrocks-test/be/storage                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Scale the cluster out.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster scale-out sr-test sr-out.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213725  OUTPUT] Scale out cluster. [ClusterName = sr-test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213731  OUTPUT] PRE CHECK DEPLOY ENV:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck FE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         meta dir                        deploy dir                      http port        rpc port         query port       edit log port  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  ------------------------------  ------------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                            PASS                            PASS             PASS             PASS             PASS           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck BE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         storage dir                     deploy dir                      webSer port      heartbeat port   brpc port        be port        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  ------------------------------  ------------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                            PASS                            PASS             PASS             PASS             PASS           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213731  OUTPUT] PreCheck successfully. RESPECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213731  OUTPUT] Create the deploy folder ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732  OUTPUT] Download StarRocks package &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732    INFO] The package has already exist [fileName = starrocks-2.0.1-quickstart.tar.gz, fileSize = 1227406189, fileModTime = 2022-05-03 17:32:03.478661923 +0800 CST]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732  OUTPUT] Download done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732  OUTPUT] Decompress StarRocks pakage &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213741    INFO] The tar file /home/sr-dev/.starrocks-controller/download/starrocks-2.0.1-quickstart.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213837    INFO] The tar file /home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213837    INFO] The tar file /home/sr-dev/.starrocks-controller/download/jdk-8u301-linux-x64.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213837  OUTPUT] Distribute FE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213845    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213857    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213857    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213857  OUTPUT] Distribute BE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213924    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213924  OUTPUT] Modify configuration for FE nodes &amp; BE nodes ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# SCALE OUT FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# SCALE OUT FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213925    INFO] Starting follower FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213945    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213945    INFO] List all FE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213945    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-214016    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-214016  OUTPUT] List all BE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Status of the cluster after scale-out.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster display sr-test </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-214302  OUTPUT] Display cluster [clusterName = sr-test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = v2.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          /opt/starrocks-test/fe                              /opt/starrocks-test/fe/meta                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   StarRocks/fe/meta                            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          /opt/starrocks-test/be                              /opt/starrocks-test/be/storage                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   StarRocks/be/storage                         </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scale-cluster-in">Scale cluster in<a href="#scale-cluster-in" class="hash-link" aria-label="Direct link to Scale cluster in" title="Direct link to Scale cluster in">​</a></h2>
<p>Remove a node in the cluster by running the following command.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster scale-in </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --node </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can check the ID of a specific node by <a href="#view-the-information-of-a-specific-cluster">viewing the information of a specific cluster</a>.</p>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220505-145649  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = v2.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster scale-in sr-c1 --node 192.168.88.83:9010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010553  OUTPUT] Scale in cluster [clusterName = sr-c1, nodeId = 192.168.88.83:9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010553    INFO] Waiting for stoping FE node [FeHost = 192.168.88.83]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010606  OUTPUT] Scale in FE node successfully. [clusterName = sr-c1, nodeId = 192.168.88.83:9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010623  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.84:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.85:9010          FE      192.168.xx.xx         9010/9030        UP/L        StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.83:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.84:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.85:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage              </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-or-downgrade-the-cluster">Upgrade or downgrade the cluster<a href="#upgrade-or-downgrade-the-cluster" class="hash-link" aria-label="Direct link to Upgrade or downgrade the cluster" title="Direct link to Upgrade or downgrade the cluster">​</a></h2>
<p>You can upgrade or downgrade a cluster via StarGo.</p>
<ul>
<li>Upgrade a cluster.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster upgrade </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">target_version</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Downgrade a cluster.</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./sr-ctl cluster downgrade </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">target_version</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Example:</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220515-195827  OUTPUT] List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      Version     User        CreateDate                 MetaPath                                                      PrivateKey                                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-test2         v2.0.1      test222     2022-05-15 19:35:36        /home/sr-dev/.starrocks-controller/cluster/sr-test2           /home/sr-dev/.ssh/id_rsa                          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster upgrade sr-test2 v2.1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220515-200358  OUTPUT] List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      Version     User        CreateDate                 MetaPath                                                      PrivateKey                                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-test2         v2.1.3      test222     2022-05-15 20:03:01        /home/sr-dev/.starrocks-controller/cluster/sr-test2           /home/sr-dev/.ssh/id_rsa                          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster downgrade sr-test2 v2.0.1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./sr-ctl cluster list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220515-200915  OUTPUT] List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      Version     User        CreateDate                 MetaPath                                                      PrivateKey                                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-test2         v2.0.1      test222     2022-05-15 20:08:40        /home/sr-dev/.starrocks-controller/cluster/sr-test2           /home/sr-dev/.ssh/id_rsa                </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="relevant-commands">Relevant commands<a href="#relevant-commands" class="hash-link" aria-label="Direct link to Relevant commands" title="Direct link to Relevant commands">​</a></h2>
<table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td>deploy</td><td>Deploy a cluster.</td></tr><tr><td>start</td><td>Start a cluster.</td></tr><tr><td>stop</td><td>Stop a cluster.</td></tr><tr><td>scale-in</td><td>Scale in a cluster.</td></tr><tr><td>scale-out</td><td>Scale out a cluster.</td></tr><tr><td>upgrade</td><td>Upgrade a cluster.</td></tr><tr><td>downgrade</td><td>Downgrade a cluster</td></tr><tr><td>display</td><td>View the information of a specific cluater.</td></tr><tr><td>list</td><td>View all clusters.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/StarRocks/starrocks/edit/main/docs/administration/stargo.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install-stargo" class="table-of-contents__link toc-highlight">Install StarGo</a></li><li><a href="#deploy-starrocks-cluster" class="table-of-contents__link toc-highlight">Deploy StarRocks cluster</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#create-configuration-file" class="table-of-contents__link toc-highlight">Create configuration file</a></li><li><a href="#create-deployment-directory-optional" class="table-of-contents__link toc-highlight">Create deployment directory (Optional)</a></li><li><a href="#deploy-starrocks" class="table-of-contents__link toc-highlight">Deploy StarRocks</a></li></ul></li><li><a href="#view-cluster-information" class="table-of-contents__link toc-highlight">View cluster information</a><ul><li><a href="#view-the-information-of-all-clusters" class="table-of-contents__link toc-highlight">View the information of all clusters</a></li><li><a href="#view-the-information-of-a-specific-cluster" class="table-of-contents__link toc-highlight">View the information of a specific cluster</a></li></ul></li><li><a href="#start-cluster" class="table-of-contents__link toc-highlight">Start cluster</a><ul><li><a href="#start-all-nodes-in-a-cluster" class="table-of-contents__link toc-highlight">Start all nodes in a cluster</a></li><li><a href="#start-nodes-of-a-specific-role" class="table-of-contents__link toc-highlight">Start nodes of a specific role</a></li><li><a href="#start-a-specific-node" class="table-of-contents__link toc-highlight">Start a specific node</a></li></ul></li><li><a href="#stop-cluster" class="table-of-contents__link toc-highlight">Stop cluster</a><ul><li><a href="#stop-all-nodes-in-a-cluster" class="table-of-contents__link toc-highlight">Stop all nodes in a cluster</a></li><li><a href="#stop-nodes-of-a-specific-role" class="table-of-contents__link toc-highlight">Stop nodes of a specific role</a></li><li><a href="#stop-a-specific-node" class="table-of-contents__link toc-highlight">Stop a specific node</a></li></ul></li><li><a href="#scale-cluster-out" class="table-of-contents__link toc-highlight">Scale cluster out</a><ul><li><a href="#create-configuration-file-1" class="table-of-contents__link toc-highlight">Create configuration file</a></li><li><a href="#build-ssh-mutual-authentication" class="table-of-contents__link toc-highlight">Build SSH mutual authentication</a></li><li><a href="#create-deployment-directory-optional-1" class="table-of-contents__link toc-highlight">Create deployment directory (Optional)</a></li><li><a href="#scale-the-cluster-out" class="table-of-contents__link toc-highlight">Scale the cluster out</a></li></ul></li><li><a href="#scale-cluster-in" class="table-of-contents__link toc-highlight">Scale cluster in</a></li><li><a href="#upgrade-or-downgrade-the-cluster" class="table-of-contents__link toc-highlight">Upgrade or downgrade the cluster</a></li><li><a href="#relevant-commands" class="table-of-contents__link toc-highlight">Relevant commands</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc/docs/introduction/StarRocks_intro">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 StarRocks, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>