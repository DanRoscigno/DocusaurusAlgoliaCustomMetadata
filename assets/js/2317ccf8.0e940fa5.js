"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[63325],{84182:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var t=s(85893),r=s(11151);const i={displayed_sidebar:"English"},l="SELECT",a={id:"sql-reference/sql-statements/data-manipulation/SELECT",title:"SELECT",description:"Description",source:"@site/versioned_docs/version-2.5/sql-reference/sql-statements/data-manipulation/SELECT.md",sourceDirName:"sql-reference/sql-statements/data-manipulation",slug:"/sql-reference/sql-statements/data-manipulation/SELECT",permalink:"/doc/docs/2.5/sql-reference/sql-statements/data-manipulation/SELECT",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/edit/main/docs/sql-reference/sql-statements/data-manipulation/SELECT.md",tags:[],version:"2.5",frontMatter:{displayed_sidebar:"English"},sidebar:"English",previous:{title:"RESUME ROUTINE LOAD",permalink:"/doc/docs/2.5/sql-reference/sql-statements/data-manipulation/RESUME_ROUTINE_LOAD"},next:{title:"SHOW ALTER TABLE",permalink:"/doc/docs/2.5/sql-reference/sql-statements/data-manipulation/SHOW_ALTER"}},o={},c=[{value:"Description",id:"description",level:2},{value:"WITH",id:"with",level:3},{value:"Join",id:"join",level:3},{value:"Self Join",id:"self-join",level:4},{value:"Cross Join",id:"cross-join",level:4},{value:"Inner Join",id:"inner-join",level:4},{value:"Outer Join",id:"outer-join",level:4},{value:"Equivalent and unequal join",id:"equivalent-and-unequal-join",level:4},{value:"Semi Join",id:"semi-join",level:4},{value:"Anti Join",id:"anti-join",level:4},{value:"Equi-join and Non-equi-join",id:"equi-join-and-non-equi-join",level:4},{value:"ORDER BY",id:"order-by",level:3},{value:"GROUP BY",id:"group-by",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Note",id:"note",level:4},{value:"Examples",id:"examples",level:4},{value:"HAVING",id:"having",level:3},{value:"LIMIT",id:"limit",level:3},{value:"OFFSET",id:"offset",level:3},{value:"UNION",id:"union",level:3},{value:"<strong>INTERSECT</strong>",id:"intersect",level:3},{value:"<strong>EXCEPT/MINUS</strong>",id:"exceptminus",level:3},{value:"DISTINCT",id:"distinct",level:3},{value:"Subquery",id:"subquery",level:3},{value:"Noncorrelated subquery",id:"noncorrelated-subquery",level:4},{value:"Correlated subquery",id:"correlated-subquery",level:4},{value:"Where and Operators",id:"where-and-operators",level:3},{value:"Arithmetic operator",id:"arithmetic-operator",level:4},{value:"Between Operator",id:"between-operator",level:4},{value:"Comparison operators",id:"comparison-operators",level:4},{value:"In Operator",id:"in-operator",level:4},{value:"Like Operator",id:"like-operator",level:4},{value:"Logical Operator",id:"logical-operator",level:4},{value:"Regular Expression Operator",id:"regular-expression-operator",level:4},{value:"Alias",id:"alias",level:3}];function d(e){const n=Object.assign({h1:"h1",h2:"h2",p:"p",ul:"ul",li:"li",a:"a",h3:"h3",pre:"pre",code:"code",h4:"h4",table:"table",thead:"thead",tr:"tr",th:"th",strong:"strong",tbody:"tbody",td:"td",blockquote:"blockquote",ol:"ol"},(0,r.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"select",children:"SELECT"}),"\n",(0,t.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,t.jsx)(n.p,{children:"Queries data from one or more tables, views, or materialized views. The SELECT statement generally consists of the following clauses:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#with",children:"WITH"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#where-and-operators",children:"WHERE and operators"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#group-by",children:"GROUP BY"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#having",children:"HAVING"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#union",children:"UNION"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#intersect",children:"INTERSECT"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#exceptminus",children:"EXCEPT/MINUS"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#order-by",children:"ORDER BY"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#limit",children:"LIMIT"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#offset",children:"OFFSET"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#join",children:"Joins"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#subquery",children:"Subqueries"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#distinct",children:"DISTINCT"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#alias",children:"Alias"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"SELECT can work as an independent statement or a clause nested in other statements. The output of the SELECT clause can be used as the input of other statements."}),"\n",(0,t.jsx)(n.p,{children:"StarRocks' query statement basically conforms to the SQL92 standard. Here is a brief description of the supported select usage."}),"\n",(0,t.jsx)(n.h3,{id:"with",children:"WITH"}),"\n",(0,t.jsx)(n.p,{children:"A clause that can be added before a SELECT statement to define an alias for a complex expression that is referenced multiple times inside SELECT."}),"\n",(0,t.jsx)(n.p,{children:"Similar to CRATE VIEW, but the table and column names defined in the clause do not persist after the query ends and do not conflict with names in the actual table or VIEW."}),"\n",(0,t.jsx)(n.p,{children:"The benefits of using a WITH clause are:"}),"\n",(0,t.jsx)(n.p,{children:"Convenient and easy to maintain, reducing duplication within queries."}),"\n",(0,t.jsx)(n.p,{children:"It is easier to read and understand SQL code by abstracting the most complex parts of a query into separate blocks."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"-- Define one subquery at the outer level, and another at the inner level as part of the\n-- initial stage of the UNION ALL query.\n\nwith t1 as (select 1),t2 as (select 2)\nselect * from t1 union all select * from t2;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"join",children:"Join"}),"\n",(0,t.jsx)(n.p,{children:"Join operations combine data from two or more tables and then return a result set of some columns from some of them."}),"\n",(0,t.jsx)(n.p,{children:"StarRocks supports self joins, cross joins, inner joins, outer joins, semi joins, and anti joins. Outer joins include left joins, right joins, and full joins."}),"\n",(0,t.jsx)(n.p,{children:"Syntax:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT select_list FROM\ntable_or_subquery1 [INNER] JOIN table_or_subquery2 |\ntable_or_subquery1 {LEFT [OUTER] | RIGHT [OUTER] | FULL [OUTER]} JOIN table_or_subquery2 |\ntable_or_subquery1 {LEFT | RIGHT} SEMI JOIN table_or_subquery2 |\ntable_or_subquery1 {LEFT | RIGHT} ANTI JOIN table_or_subquery2 |\n[ ON col1 = col2 [AND col3 = col4 ...] |\nUSING (col1 [, col2 ...]) ]\n[other_join_clause ...]\n[ WHERE where_clauses ]\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT select_list FROM\ntable_or_subquery1, table_or_subquery2 [, table_or_subquery3 ...]\n[other_join_clause ...]\nWHERE\ncol1 = col2 [AND col3 = col4 ...]\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT select_list FROM\ntable_or_subquery1 CROSS JOIN table_or_subquery2\n[other_join_clause ...]\n[ WHERE where_clauses ]\n"})}),"\n",(0,t.jsx)(n.h4,{id:"self-join",children:"Self Join"}),"\n",(0,t.jsx)(n.p,{children:"StarRocks supports self-joins, which are self-joins and self-joins. For example, different columns of the same table are joined."}),"\n",(0,t.jsx)(n.p,{children:"There is actually no special syntax to identify self-join. The conditions on both sides of a join in a self-join come from the same table."}),"\n",(0,t.jsx)(n.p,{children:"We need to assign them different aliases."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT lhs.id, rhs.parent, lhs.c1, rhs.c2 FROM tree_data lhs, tree_data rhs WHERE lhs.id = rhs.parent;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"cross-join",children:"Cross Join"}),"\n",(0,t.jsx)(n.p,{children:"Cross join can produce a lot of results, so cross join should be used with caution."}),"\n",(0,t.jsx)(n.p,{children:"Even if you need to use cross join, you need to use filter conditions and ensure that fewer results are returned. Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM t1, t2;\n\nSELECT * FROM t1 CROSS JOIN t2;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"inner-join",children:"Inner Join"}),"\n",(0,t.jsx)(n.p,{children:"Inner join is the most well-known and commonly used join. Returns results from columns requested by two similar tables, joined if the columns of both tables contain the same value."}),"\n",(0,t.jsx)(n.p,{children:"If a column name of both tables is the same, we need to use the full name (in the form of table_name.column_name) or alias the column name."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.p,{children:"The following three queries are equivalent."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT t1.id, c1, c2 FROM t1, t2 WHERE t1.id = t2.id;\n\nSELECT t1.id, c1, c2 FROM t1 JOIN t2 ON t1.id = t2.id;\n\nSELECT t1.id, c1, c2 FROM t1 INNER JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"outer-join",children:"Outer Join"}),"\n",(0,t.jsx)(n.p,{children:"Outer join returns the left or right table or all rows of both. If there is no matching data in another table, set it to NULL. Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM t1 LEFT OUTER JOIN t2 ON t1.id = t2.id;\n\nSELECT * FROM t1 RIGHT OUTER JOIN t2 ON t1.id = t2.id;\n\nSELECT * FROM t1 FULL OUTER JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"equivalent-and-unequal-join",children:"Equivalent and unequal join"}),"\n",(0,t.jsx)(n.p,{children:"Usually, users use the most equal join, which requires the operator of the join condition to be an equal sign."}),"\n",(0,t.jsx)(n.p,{children:"Unequal join can be used on join conditions!=, Equal sign. Unequal joins produce a large number of results and may exceed the memory limit during calculation."}),"\n",(0,t.jsx)(n.p,{children:"Use with caution. Unequal join only supports inner join. Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT t1.id, c1, c2 FROM t1 INNER JOIN t2 ON t1.id = t2.id;\n\nSELECT t1.id, c1, c2 FROM t1 INNER JOIN t2 ON t1.id > t2.id;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"semi-join",children:"Semi Join"}),"\n",(0,t.jsx)(n.p,{children:"Left semi join returns only the rows in the left table that match the data in the right table, regardless of how many rows match the data in the right table."}),"\n",(0,t.jsx)(n.p,{children:"This row of the left table is returned at most once. Right semi join works similarly, except that the data returned is a right table."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT t1.c1, t1.c2, t1.c2 FROM t1 LEFT SEMI JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"anti-join",children:"Anti Join"}),"\n",(0,t.jsx)(n.p,{children:"Left anti join only returns rows from the left table that do not match the right table."}),"\n",(0,t.jsx)(n.p,{children:"Right anti join reverses this comparison, returning only rows from the right table that do not match the left table. Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT t1.c1, t1.c2, t1.c2 FROM t1 LEFT ANTI JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"equi-join-and-non-equi-join",children:"Equi-join and Non-equi-join"}),"\n",(0,t.jsx)(n.p,{children:"The various joins supported by StarRocks can be classified as equi-joins and non-equi-joins depending on the join conditions specified in the joins."}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.th,{children:[(0,t.jsx)(n.strong,{children:"Equi"}),"**-joins**"]}),(0,t.jsx)(n.th,{children:"Self joins, cross joins, inner joins, outer joins, semi joins, and anti joins"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsxs)(n.strong,{children:["Non-",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.strong,{children:"equi"})}),"-joins"]})}),(0,t.jsx)(n.td,{children:"cross joins, inner joins, left semi joins, left anti joins, and outer joins"})]})})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Equi-joins"}),"\n",(0,t.jsxs)(n.p,{children:["An equi-join uses a join condition in which two join items are combined by the ",(0,t.jsx)(n.code,{children:"="})," operator. Example: ",(0,t.jsx)(n.code,{children:"a JOIN b ON a.id = b.id"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Non-equi-joins"}),"\n",(0,t.jsxs)(n.p,{children:["A non-equi-join uses a join condition in which two join items are combined by a comparison operator such as ",(0,t.jsx)(n.code,{children:"<"}),", ",(0,t.jsx)(n.code,{children:"<="}),", ",(0,t.jsx)(n.code,{children:">"}),", ",(0,t.jsx)(n.code,{children:">="}),", or ",(0,t.jsx)(n.code,{children:"<>"}),". Example: ",(0,t.jsx)(n.code,{children:"a JOIN b ON a.id < b.id"}),". Non-equi-joins run slower than equi-joins. We recommend that you exercise caution when you use non-equi-joins."]}),"\n",(0,t.jsx)(n.p,{children:"The following two examples show how to run non-equi-joins:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"SELECT t1.id, c1, c2 \nFROM t1 \nINNER JOIN t2 ON t1.id < t2.id;\n  \nSELECT t1.id, c1, c2 \nFROM t1 \nLEFT JOIN t2 ON t1.id > t2.id;\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"order-by",children:"ORDER BY"}),"\n",(0,t.jsx)(n.p,{children:"The ORDER BY clause of a SELECT statement sorts the result set by comparing the values from one or more columns."}),"\n",(0,t.jsx)(n.p,{children:"ORDER BY is a time- and resource-consuming operation because all the results must be sent to one node for merging before the results can be sorted. Sorting consumes more memory resources than a query without ORDER BY."}),"\n",(0,t.jsxs)(n.p,{children:["Therefore, if you only need the first ",(0,t.jsx)(n.code,{children:"N"})," results from the sorted result set, you can use the LIMIT clause, which reduces memory usage and network overhead. If the LIMIT clause is not specified, the first 65535 results are returned by default."]}),"\n",(0,t.jsx)(n.p,{children:"Syntax:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"ORDER BY <column_name> \n    [ASC | DESC]\n    [NULLS FIRST | NULLS LAST]\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ASC"})," specifies that the results should be returned in ascending order. ",(0,t.jsx)(n.code,{children:"DESC"})," specifies that the results should be returned in descending order. If the order is not specified, ASC (ascending) is the default. Example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select * from big_table order by tiny_column, short_column desc;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Sort order for NULL values: ",(0,t.jsx)(n.code,{children:"NULLS FIRST"})," indicates that NULL values should be returned before non-NULL values. ",(0,t.jsx)(n.code,{children:"NULLS LAST"})," indicates that NULL values should be returned after non-NULL values."]}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select  *  from  sales_record  order by  employee_id  nulls first;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"group-by",children:"GROUP BY"}),"\n",(0,t.jsx)(n.p,{children:"The GROUP BY clause is often used with aggregate functions such as COUNT(), SUM(), AVG(), MIN(), and MAX()."}),"\n",(0,t.jsx)(n.p,{children:"The column specified by GROUP BY will not participate in the aggregation operation. The GROUP BY clause can be added with the Having clause to filter the results produced by the aggregate function."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select tiny_column, sum(short_column)\nfrom small_table \ngroup by tiny_column;\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"+-------------+---------------------+\n| tiny_column |  sum('short_column')|\n+-------------+---------------------+\n|      1      |        2            |\n|      2      |        1            |\n+-------------+---------------------+\n"})}),"\n",(0,t.jsx)(n.h4,{id:"syntax",children:"Syntax"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT ...\nFROM ...\n[ ... ]\nGROUP BY [\n    , ... |\n    GROUPING SETS [, ...] (  groupSet [ , groupSet [ , ... ] ] ) |\n    ROLLUP(expr  [ , expr [ , ... ] ]) |\n    expr  [ , expr [ , ... ] ] WITH ROLLUP |\n    CUBE(expr  [ , expr [ , ... ] ]) |\n    expr  [ , expr [ , ... ] ] WITH CUBE\n    ]\n[ ... ]\n"})}),"\n",(0,t.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"groupSet"})," represents a set composed of columns, aliases or expressions in the select list.  ",(0,t.jsx)(n.code,{children:"groupSet ::= { ( expr  [ , expr [ , ... ] ] )}"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"expr"}),"  indicates the column, alias or expression in the select list."]}),"\n",(0,t.jsx)(n.h4,{id:"note",children:"Note"}),"\n",(0,t.jsx)(n.p,{children:"StarRocks supports syntax like PostgreSQL. The syntax examples are as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT a, b, SUM( c ) FROM tab1 GROUP BY GROUPING SETS ( (a, b), (a), (b), ( ) );\nSELECT a, b,c, SUM( d ) FROM tab1 GROUP BY ROLLUP(a,b,c)\nSELECT a, b,c, SUM( d ) FROM tab1 GROUP BY CUBE(a,b,c)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ROLLUP(a,b,c)"})," is equivalent to the following",(0,t.jsx)(n.code,{children:"GROUPING SETS"})," statement:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"GROUPING SETS (\n(a,b,c),\n( a, b ),\n( a),\n( )\n)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"CUBE ( a, b, c )"}),"  is equivalent to the following",(0,t.jsx)(n.code,{children:"GROUPING SETS"})," statement:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"GROUPING SETS (\n( a, b, c ),\n( a, b ),\n( a,    c ),\n( a       ),\n(    b, c ),\n(    b    ),\n(       c ),\n(         )\n)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.p,{children:"The following is an example of actual data:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"SELECT * FROM t;\n+------+------+------+\n| k1   | k2   | k3   |\n+------+------+------+\n| a    | A    |    1 |\n| a    | A    |    2 |\n| a    | B    |    1 |\n| a    | B    |    3 |\n| b    | A    |    1 |\n| b    | A    |    4 |\n| b    | B    |    1 |\n| b    | B    |    5 |\n+------+------+------+\n8 rows in set (0.01 sec)\n\nSELECT k1, k2, SUM(k3) FROM t GROUP BY GROUPING SETS ( (k1, k2), (k2), (k1), ( ) );\n+------+------+-----------+\n| k1   | k2   | sum(`k3`) |\n+------+------+-----------+\n| b    | B    |         6 |\n| a    | B    |         4 |\n| a    | A    |         3 |\n| b    | A    |         5 |\n| NULL | B    |        10 |\n| NULL | A    |         8 |\n| a    | NULL |         7 |\n| b    | NULL |        11 |\n| NULL | NULL |        18 |\n+------+------+-----------+\n9 rows in set (0.06 sec)\n\n> SELECT k1, k2, GROUPING_ID(k1,k2), SUM(k3) FROM t GROUP BY GROUPING SETS ((k1, k2), (k1), (k2), ());\n+------+------+---------------+----------------+\n| k1   | k2   | grouping_id(k1,k2) | sum(`k3`) |\n+------+------+---------------+----------------+\n| a    | A    |             0 |              3 |\n| a    | B    |             0 |              4 |\n| a    | NULL |             1 |              7 |\n| b    | A    |             0 |              5 |\n| b    | B    |             0 |              6 |\n| b    | NULL |             1 |             11 |\n| NULL | A    |             2 |              8 |\n| NULL | B    |             2 |             10 |\n| NULL | NULL |             3 |             18 |\n+------+------+---------------+----------------+\n9 rows in set (0.02 sec)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["GROUP BY ",(0,t.jsx)(n.code,{children:"GROUPING SETS"})," \uff5c ",(0,t.jsx)(n.code,{children:"CUBE"})," \uff5c ",(0,t.jsx)(n.code,{children:"ROLLUP"})," is an extension of the GROUP BY clause. It can realize the aggregation of groups of multiple sets in a GROUP BY clause. The result is equivalent to the UNION operation of multiple corresponding GROUP BY clauses."]}),"\n",(0,t.jsx)(n.p,{children:"GROUP BY clause is a special case of GROUP BY GROUPING SETS containing only one element. For example, the GROUPING SETS statement:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT a, b, SUM( c ) FROM tab1 GROUP BY GROUPING SETS ( (a, b), (a), (b), ( ) );\n"})}),"\n",(0,t.jsx)(n.p,{children:"The query result is equivalent to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT a, b, SUM( c ) FROM tab1 GROUP BY a, b\nUNION\nSELECT a, null, SUM( c ) FROM tab1 GROUP BY a\nUNION\nSELECT null, b, SUM( c ) FROM tab1 GROUP BY b\nUNION\nSELECT null, null, SUM( c ) FROM tab1\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"GROUPING(expr)"})," indicates whether a column is an aggregate column. If it is an aggregate column, it is 0, otherwise it is 1."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"GROUPING_ID(expr  [ , expr [ , ... ] ])"})," is similar to GROUPING. GROUPING_ ID calculates the bitmap value of a column list according to the specified column order, and each bit is the value of GROUPING."]}),"\n",(0,t.jsx)(n.p,{children:"GROUPING_ID() function returns the decimal value of the bit vector."}),"\n",(0,t.jsx)(n.h3,{id:"having",children:"HAVING"}),"\n",(0,t.jsx)(n.p,{children:"The HAVING clause does not filter row data in a table, but filters the results of aggregate functions."}),"\n",(0,t.jsx)(n.p,{children:"Generally speaking, HAVING is used with aggregate functions (such as COUNT(), SUM(), AVG(), MIN(), MAX()) and GROUP BY clauses."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select tiny_column, sum(short_column) \nfrom small_table \ngroup by tiny_column \nhaving sum(short_column) = 1;\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"+-------------+---------------------+\n|tiny_column  | sum('short_column') |\n+-------------+---------------------+\n|         2   |        1            |\n+-------------+---------------------+\n\n1 row in set (0.07 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select tiny_column, sum(short_column) \nfrom small_table \ngroup by tiny_column \nhaving tiny_column > 1;\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"+-------------+---------------------+\n|tiny_column  | sum('short_column') |\n+-------------+---------------------+\n|      2      |          1          |\n+-------------+---------------------+\n\n1 row in set (0.07 sec)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"limit",children:"LIMIT"}),"\n",(0,t.jsx)(n.p,{children:"LIMIT clauses are used to limit the maximum number of rows returned. Setting the maximum number of rows returned can help StarRocks optimize memory usage."}),"\n",(0,t.jsx)(n.p,{children:"This clause is mainly used in the following scenarios:"}),"\n",(0,t.jsx)(n.p,{children:"Returns the result of the top-N query."}),"\n",(0,t.jsx)(n.p,{children:"Think about what's included in the table below."}),"\n",(0,t.jsx)(n.p,{children:"The size of the query result set needs to be limited because of the large amount of data in the table or because the where clause does not filter too much data."}),"\n",(0,t.jsx)(n.p,{children:"Instructions for use: The value of the LIMIT clause must be a numeric literal constant."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select tiny_column from small_table limit 1;\n\n+-------------+\n|tiny_column  |\n+-------------+\n|     1       |\n+-------------+\n\n1 row in set (0.02 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select tiny_column from small_table limit 10000;\n\n+-------------+\n|tiny_column  |\n+-------------+\n|      1      |\n|      2      |\n+-------------+\n\n2 rows in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"offset",children:"OFFSET"}),"\n",(0,t.jsx)(n.p,{children:"The OFFSET clause causes the result set to skip the first few rows and return the following results directly."}),"\n",(0,t.jsx)(n.p,{children:"The result set defaults to start at line 0, so offset 0 and no offset return the same results."}),"\n",(0,t.jsx)(n.p,{children:"Generally speaking, OFFSET clauses need to be used with ORDER BY and LIMIT clauses to be valid."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select varchar_column from big_table order by varchar_column limit 3;\n\n+----------------+\n| varchar_column | \n+----------------+\n|    beijing     | \n|    chongqing   | \n|    tianjin     | \n+----------------+\n\n3 rows in set (0.02 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select varchar_column from big_table order by varchar_column limit 1 offset 0;\n\n+----------------+\n|varchar_column  |\n+----------------+\n|     beijing    |\n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select varchar_column from big_table order by varchar_column limit 1 offset 1;\n\n+----------------+\n|varchar_column  |\n+----------------+\n|    chongqing   | \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select varchar_column from big_table order by varchar_column limit 1 offset 2;\n\n+----------------+\n|varchar_column  |\n+----------------+\n|     tianjin    |     \n+----------------+\n\n1 row in set (0.02 sec)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Note: It is allowed to use offset syntax without order by, but offset does not make sense at this time."}),"\n",(0,t.jsx)(n.p,{children:"In this case, only the limit value is taken, and the offset value is ignored. So without order by."}),"\n",(0,t.jsx)(n.p,{children:"Offset exceeds the maximum number of rows in the result set and is still a result. It is recommended that users use offset with order by."}),"\n",(0,t.jsx)(n.h3,{id:"union",children:"UNION"}),"\n",(0,t.jsx)(n.p,{children:"Combines the result of multiple queries."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"query_1 UNION [DISTINCT | ALL] query_2\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"DISTINCT (default) returns only unique rows. UNION is equivalent to UNION DISTINCT."}),"\n",(0,t.jsx)(n.li,{children:"ALL combines all rows, including duplicates. Since de-duplication is memory intensive, queries using UNION ALL are faster and less memory-consuming. For better performance, use UNION ALL."}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"NOTE"})}),"\n",(0,t.jsx)(n.p,{children:"Each query statement must return the same number of columns and the columns must have compatible data types."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsxs)(n.p,{children:["Create tables ",(0,t.jsx)(n.code,{children:"select1"})," and ",(0,t.jsx)(n.code,{children:"select2"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"CREATE TABLE select1(\n    id          INT,\n    price       INT\n    )\nDISTRIBUTED BY HASH(id);\n\nINSERT INTO select1 VALUES\n    (1,2),\n    (1,2),\n    (2,3),\n    (5,6),\n    (5,6);\n\nCREATE TABLE select2(\n    id          INT,\n    price       INT\n    )\nDISTRIBUTED BY HASH(id);\n\nINSERT INTO select2 VALUES\n    (2,3),\n    (3,4),\n    (5,6),\n    (7,8);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example 1: Return all IDs in the two tables, including duplicates."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-Plaintext",children:"mysql> (select id from select1) union all (select id from select2) order by id;\n\n+------+\n| id   |\n+------+\n|    1 |\n|    1 |\n|    2 |\n|    2 |\n|    3 |\n|    5 |\n|    5 |\n|    5 |\n|    7 |\n+------+\n11 rows in set (0.02 sec)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example 2: Return all the unique IDs in the two tables. The following two statements are equivalent."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-Plaintext",children:"mysql> (select id from select1) union (select id from select2) order by id;\n\n+------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n|    5 |\n|    7 |\n+------+\n6 rows in set (0.01 sec)\n\nmysql> (select id from select1) union distinct (select id from select2) order by id;\n+------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n|    5 |\n|    7 |\n+------+\n5 rows in set (0.02 sec)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example 3: Return the first three IDs among all the unique IDs in the two tables. The following two statements are equivalent."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"mysql> (select id from select1) union distinct (select id from select2)\norder by id\nlimit 3;\n++------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n+------+\n4 rows in set (0.11 sec)\n\nmysql> select * from (select id from select1 union distinct select id from select2) as t1\norder by id\nlimit 3;\n+------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n+------+\n3 rows in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"intersect",children:(0,t.jsx)(n.strong,{children:"INTERSECT"})}),"\n",(0,t.jsx)(n.p,{children:"Calculates the intersection of the results of multiple queries, that is, the results that appear in all the result sets. This clause returns only unique rows among the result sets. The ALL keyword is not supported."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"query_1 INTERSECT [DISTINCT] query_2\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"NOTE"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"INTERSECT is equivalent to INTERSECT DISTINCT."}),"\n",(0,t.jsx)(n.li,{children:"Each query statement must return the same number of columns and the columns must have compatible data types."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.p,{children:"The two tables in UNION  are used."}),"\n",(0,t.jsxs)(n.p,{children:["Return distinct ",(0,t.jsx)(n.code,{children:"(id, price)"})," combinations that are common to both tables. The following two statements are equivalent."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-Plaintext",children:"mysql> (select id, price from select1) intersect (select id, price from select2)\norder by id;\n\n+------+-------+\n| id   | price |\n+------+-------+\n|    2 |     3 |\n|    5 |     6 |\n+------+-------+\n\nmysql> (select id, price from select1) intersect distinct (select id, price from select2)\norder by id;\n\n+------+-------+\n| id   | price |\n+------+-------+\n|    2 |     3 |\n|    5 |     6 |\n+------+-------+\n"})}),"\n",(0,t.jsx)(n.h3,{id:"exceptminus",children:(0,t.jsx)(n.strong,{children:"EXCEPT/MINUS"})}),"\n",(0,t.jsx)(n.p,{children:"Returns distinct results of the left-hand query that do not exist in the right-hand query. EXCEPT is equivalent to MINUS."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Syntax:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"query_1 {EXCEPT | MINUS} [DISTINCT] query_2\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"NOTE"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"EXCEPT is equivalent to EXCEPT DISTINCT. The ALL keyword is not supported."}),"\n",(0,t.jsx)(n.li,{children:"Each query statement must return the same number of columns and the columns must have compatible data types."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,t.jsx)(n.p,{children:"The two tables in UNION  are used."}),"\n",(0,t.jsxs)(n.p,{children:["Return distinct ",(0,t.jsx)(n.code,{children:"(id, price)"})," combinations in ",(0,t.jsx)(n.code,{children:"select1"})," that cannot be found in ",(0,t.jsx)(n.code,{children:"select2"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-Plaintext",children:"mysql> (select id, price from select1) except (select id, price from select2)\norder by id;\n+------+-------+\n| id   | price |\n+------+-------+\n|    1 |     2 |\n+------+-------+\n\nmysql> (select id, price from select1) minus (select id, price from select2)\norder by id;\n+------+-------+\n| id   | price |\n+------+-------+\n|    1 |     2 |\n+------+-------+\n"})}),"\n",(0,t.jsx)(n.h3,{id:"distinct",children:"DISTINCT"}),"\n",(0,t.jsx)(n.p,{children:"The DISTINCT keyword deduplicates the result set. Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"-- Returns the unique values from one column.\nselect distinct tiny_column from big_table limit 2;\n\n-- Returns the unique combinations of values from multiple columns.\nselect distinct tiny_column, int_column from big_table limit 2;\n"})}),"\n",(0,t.jsx)(n.p,{children:"DISTINCT can be used with aggregate functions (usually count functions), and count (distinct) is used to calculate how many different combinations are contained on one or more columns."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"-- Counts the unique values from one column.\nselect count(distinct tiny_column) from small_table;\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"+-------------------------------+\n| count(DISTINCT 'tiny_column') |\n+-------------------------------+\n|             2                 |\n+-------------------------------+\n1 row in set (0.06 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"-- Counts the unique combinations of values from multiple columns.\nselect count(distinct tiny_column, int_column) from big_table limit 2;\n"})}),"\n",(0,t.jsx)(n.p,{children:"StarRocks supports multiple aggregate functions using distinct at the same time."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-SQL",children:"-- Count the unique value from multiple aggregation function separately.\nselect count(distinct tiny_column, int_column), count(distinct varchar_column) from big_table;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"subquery",children:"Subquery"}),"\n",(0,t.jsx)(n.p,{children:"Subqueries are categorized into two types in terms of relevance:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A noncorrelated subquery obtains its results independently of its outer query."}),"\n",(0,t.jsx)(n.li,{children:"A correlated subquery requires values from its outer query."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"noncorrelated-subquery",children:"Noncorrelated subquery"}),"\n",(0,t.jsx)(n.p,{children:"Noncorrelated subqueries support [NOT] IN and EXISTS."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT x FROM t1 WHERE x [NOT] IN (SELECT y FROM t2);\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT x FROM t1 WHERE EXISTS (SELECT y FROM t2 WHERE y = 1);\n"})}),"\n",(0,t.jsx)(n.h4,{id:"correlated-subquery",children:"Correlated subquery"}),"\n",(0,t.jsx)(n.p,{children:"Related subqueries support [NOT] IN and [NOT] EXISTS."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM t1 WHERE x [NOT] IN (SELECT a FROM t2 WHERE t1.y = t2.b);\n\nSELECT * FROM t1 WHERE [NOT] EXISTS (SELECT a FROM t2 WHERE t1.y = t2.b);\n"})}),"\n",(0,t.jsx)(n.p,{children:"Subqueries also support scalar quantum queries. It can be divided into irrelevant scalar quantum query, related scalar quantum query and scalar quantum query as parameters of the general function."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Uncorrelated scalar quantum query with predicate = sign. For example, output information about the person with the highest wage."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT name FROM table WHERE salary = (SELECT MAX(salary) FROM table);\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Uncorrelated scalar quantum queries with predicates ",(0,t.jsx)(n.code,{children:">"}),", ",(0,t.jsx)(n.code,{children:"<"})," etc. For example, output information about people who are paid more than average."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT name FROM table WHERE salary > (SELECT AVG(salary) FROM table);\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Related scalar quantum queries. For example, output the highest salary information for each department."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT name FROM table a WHERE salary = (SELECT MAX(salary) FROM table b WHERE b.Department= a.Department);\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Scalar quantum queries are used as parameters of ordinary functions."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SELECT name FROM table WHERE salary = abs((SELECT MAX(salary) FROM table));\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"where-and-operators",children:"Where and Operators"}),"\n",(0,t.jsx)(n.p,{children:"SQL operators are a series of functions used for comparison and are widely used in where clauses of select statements."}),"\n",(0,t.jsx)(n.h4,{id:"arithmetic-operator",children:"Arithmetic operator"}),"\n",(0,t.jsx)(n.p,{children:"Arithmetic operators usually appear in expressions that contain left, right, and most often left operands"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"+and-"}),": can be used as a unit or as a 2-ary operator. When used as a unit operator, such as +1, -2.5 or -col_ name, which means the value is multiplied by +1 or -1."]}),"\n",(0,t.jsx)(n.p,{children:"So the cell operator + returns an unchanged value, and the cell operator - changes the symbol bits of that value."}),"\n",(0,t.jsx)(n.p,{children:"Users can overlay two cell operators, such as +5 (returning a positive value), -+2 or +2 (returning a negative value), but users cannot use two consecutive - signs."}),"\n",(0,t.jsx)(n.p,{children:"Because--is interpreted as a comment in the following statement (when a user can use two-signs, a space or parenthesis is required between the two-signs, such as-(-2) or - -2, which actually results in + 2)."}),"\n",(0,t.jsx)(n.p,{children:"When + or - is a binary operator, such as 2+2, 3+1.5, or col1+col2, it means that the left value is added or subtracted from the right value. Both left and right values must be numeric types."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"and/"}),": represent multiplication and division, respectively. The operands on both sides must be data types. When two numbers are multiplied."]}),"\n",(0,t.jsx)(n.p,{children:"Smaller operands may be promoted if needed (e.g., SMALLINT to INT or BIGINT), and the result of the expression will be promoted to the next larger type."}),"\n",(0,t.jsx)(n.p,{children:"For example, TINYINT multiplied by INT will produce a BIGINT type of result. When two numbers are multiplied, both operands and expression results are interpreted as DOUBLE types to avoid loss of precision."}),"\n",(0,t.jsx)(n.p,{children:"If the user wants to convert the result of the expression to another type, it needs to be converted using the CAST function."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"%"}),": Modulation operator. Returns the remainder of the left operand divided by the right operand. Both left and right operands must be integers."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"&, |and ^"}),": The bitwise operator returns the result of bitwise AND, bitwise OR, bitwise XOR operations on two operands. Both operands require an integer type."]}),"\n",(0,t.jsx)(n.p,{children:"If the types of the two operands of a bitwise operator are inconsistent, the operands of a smaller type are promoted to the operands of a larger type, and the corresponding bitwise operations are performed."}),"\n",(0,t.jsx)(n.p,{children:"Multiple arithmetic operators can appear in an expression, and the user can enclose the corresponding arithmetic expression in parentheses. Arithmetic operators usually do not have corresponding mathematical functions to express the same functions as arithmetic operators."}),"\n",(0,t.jsx)(n.p,{children:"For example, we don't have the MOD() function to represent the% operator. Conversely, mathematical functions do not have corresponding arithmetic operators. For example, the power function POW() does not have a corresponding ** exponentiation operator."}),"\n",(0,t.jsx)(n.p,{children:"Users can find out which arithmetic functions we support through the Mathematical Functions section."}),"\n",(0,t.jsx)(n.h4,{id:"between-operator",children:"Between Operator"}),"\n",(0,t.jsx)(n.p,{children:"In a where clause, expressions may be compared with both upper and lower bounds. If the expression is greater than or equal to the lower bound and less than or equal to the upper bound, the result of the comparison is true."}),"\n",(0,t.jsx)(n.p,{children:"Syntax:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"expression BETWEEN lower_bound AND upper_bound\n"})}),"\n",(0,t.jsx)(n.p,{children:"Data type: Usually an expression evaluates to a numeric type, which also supports other data types. If you must ensure that both the lower and upper bounds are comparable characters, you can use the cast() function."}),"\n",(0,t.jsx)(n.p,{children:"Instructions for use: If the operand is of type string, note that a long string starting with an upper bound will not match the upper bound, which is larger than the upper bound. For example, \"between'A'and'M' will not match 'MJ'."}),"\n",(0,t.jsx)(n.p,{children:"If you need to make sure the expression works correctly, you can use functions such as upper(), lower(), substr(), trim()."}),"\n",(0,t.jsx)(n.p,{children:"Example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select c1 from t1 where month between 1 and 6;\n"})}),"\n",(0,t.jsx)(n.h4,{id:"comparison-operators",children:"Comparison operators"}),"\n",(0,t.jsxs)(n.p,{children:["Comparison operators are used to compare two values. ",(0,t.jsx)(n.code,{children:"="}),", ",(0,t.jsx)(n.code,{children:"!="}),", ",(0,t.jsx)(n.code,{children:">="})," apply to all data types."]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"<>"})," and ",(0,t.jsx)(n.code,{children:"!="})," operators are equivalent, which indicate that two values are not equal."]}),"\n",(0,t.jsx)(n.h4,{id:"in-operator",children:"In Operator"}),"\n",(0,t.jsx)(n.p,{children:"The In operator compares to the VALUE collection and returns TRUE if it can match any of the elements in the collection."}),"\n",(0,t.jsx)(n.p,{children:"Parameters and VALUE collections must be comparable. All expressions using the IN operator can be written as equivalent comparisons connected with OR, but the syntax of IN is simpler, more precise, and easier for StarRocks to optimize."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select * from small_table where tiny_column in (1,2);\n"})}),"\n",(0,t.jsx)(n.h4,{id:"like-operator",children:"Like Operator"}),"\n",(0,t.jsx)(n.p,{children:"This operator is used to compare to a string. ''matches a single character,'%' matches multiple characters. The parameter must match the complete string. Typically, placing'%'at the end of a string is more practical."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select varchar_column from small_table where varchar_column like 'm%';\n\n+----------------+\n|varchar_column  |\n+----------------+\n|     milan      |\n+----------------+\n\n1 row in set (0.02 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",children:"mysql> select varchar_column from small_table where varchar_column like 'm____';\n\n+----------------+\n| varchar_column | \n+----------------+\n|    milan       | \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"logical-operator",children:"Logical Operator"}),"\n",(0,t.jsx)(n.p,{children:"Logical operators return a BOOL value, including unit and multiple operators, each of which handles parameters that are expressions that return BOOL values. Supported operators are:"}),"\n",(0,t.jsx)(n.p,{children:"AND: 2-ary operator, the AND operator returns TRUE if the parameters on the left and right are both calculated as TRUE."}),"\n",(0,t.jsx)(n.p,{children:"OR: 2-ary operator that returns TRUE if one of the parameters on the left and right is calculated as TRUE. If both parameters are FALSE, the OR operator returns FALSE."}),"\n",(0,t.jsx)(n.p,{children:"NOT: Unit operator, the result of inverting an expression. If the parameter is TRUE, the operator returns FALSE; If the parameter is FALSE, the operator returns TRUE."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select true and true;\n\n+-------------------+\n| (TRUE) AND (TRUE) | \n+-------------------+\n|         1         | \n+-------------------+\n\n1 row in set (0.00 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select true and false;\n\n+--------------------+\n| (TRUE) AND (FALSE) | \n+--------------------+\n|         0          | \n+--------------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select true or false;\n\n+-------------------+\n| (TRUE) OR (FALSE) | \n+-------------------+\n|        1          | \n+-------------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select not true;\n\n+----------+\n| NOT TRUE | \n+----------+\n|     0    | \n+----------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"regular-expression-operator",children:"Regular Expression Operator"}),"\n",(0,t.jsx)(n.p,{children:"Determines whether the regular expression is matched. Using POSIX standard regular expressions,'^'matches the first part of the string,'$' matches the end of the string."}),"\n",(0,t.jsx)(n.p,{children:'"." matches any single character, "*" matches zero or more options, "+" matches one or more options, "?" means greedy representation, and so on. Regular expressions need to match complete values, not just parts of strings.'}),"\n",(0,t.jsx)(n.p,{children:"If you want to match the middle part, the front part of the regular expression can be written as'^. 'or'.'. '^'and'$' are usually omitted. The RLIKE operator and the REGEXP operator are synonyms."}),"\n",(0,t.jsx)(n.p,{children:"The'|'operator is an optional operator. Regular expressions on either side of'|' only need to satisfy one side condition. The'|'operator and regular expressions on both sides usually need to be enclosed in ()."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select varchar_column from small_table where varchar_column regexp '(mi|MI).*';\n\n+----------------+\n| varchar_column | \n+----------------+\n|     milan      |       \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plain",metastring:"text",children:"mysql> select varchar_column from small_table where varchar_column regexp 'm.*';\n\n+----------------+\n| varchar_column | \n+----------------+\n|     milan      |  \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"alias",children:"Alias"}),"\n",(0,t.jsx)(n.p,{children:"When you write the names of tables, columns, or expressions that contain columns in a query, you can assign them an alias. Aliases are usually shorter and better to remember than original names."}),"\n",(0,t.jsx)(n.p,{children:"When an alias is needed, you can simply add an AS clause after the table, column, and expression names in the select list or from list. The AS keyword is optional. You can also specify aliases directly after the original name without using AS."}),"\n",(0,t.jsxs)(n.p,{children:["If an alias or other identifier has the same name as an internal ",(0,t.jsx)(n.a,{href:"/doc/docs/2.5/sql-reference/sql-statements/keywords",children:"StarRocks keyword"}),", you need to enclose the name in a pair of backticks, for example, ",(0,t.jsx)(n.code,{children:"rank"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Aliases are case sensitive."}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"select tiny_column as name, int_column as sex from big_table;\n\nselect sum(tiny_column) as total_count from big_table;\n\nselect one.tiny_column, two.int_column from small_table one, <br/> big_table two where one.tiny_column = two.tiny_column;\n"})})]})}const h=function(e={}){const{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(d,e)})):d(e)}},11151:(e,n,s)=>{s.d(n,{Zo:()=>a,ah:()=>i});var t=s(67294);const r=t.createContext({});function i(e){const n=t.useContext(r);return t.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const l={};function a({components:e,children:n,disableParentContext:s}){let a;return a=s?"function"==typeof e?e({}):e||l:i(e),t.createElement(r.Provider,{value:a},n)}}}]);