"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[53851],{2764:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var a=t(85893),s=t(11151);const r={displayed_sidebar:"documentation"},l="UPDATE",o={id:"sql-reference/sql-statements/data-manipulation/UPDATE",title:"UPDATE",description:"Updates rows in a Primary Key table.",source:"@site/versioned_docs/version-2.5/sql-reference/sql-statements/data-manipulation/UPDATE.md",sourceDirName:"sql-reference/sql-statements/data-manipulation",slug:"/sql-reference/sql-statements/data-manipulation/UPDATE",permalink:"/doc/docs/2.5/sql-reference/sql-statements/data-manipulation/UPDATE",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/tree/main/versioned_docs/version-2.5/sql-reference/sql-statements/data-manipulation/UPDATE.md",tags:[],version:"2.5",frontMatter:{displayed_sidebar:"documentation"},sidebar:"documentation",previous:{title:"SUBMIT TASK",permalink:"/doc/docs/2.5/sql-reference/sql-statements/data-manipulation/SUBMIT_TASK"},next:{title:"ALTER ROUTINE LOAD",permalink:"/doc/docs/2.5/sql-reference/sql-statements/data-manipulation/alter-routine-load"}},i={},c=[{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Examples",id:"examples",level:2},{value:"Limitations",id:"limitations",level:2}];function d(e){const n=Object.assign({h1:"h1",p:"p",h2:"h2",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"update",children:"UPDATE"}),"\n",(0,a.jsx)(n.p,{children:"Updates rows in a Primary Key table."}),"\n",(0,a.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-SQL",children:"UPDATE <table_name>\n    SET <column_name> = <expression> [, ...]\n    WHERE <where_condition>\n"})}),"\n",(0,a.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"table_name"})}),"\n",(0,a.jsx)(n.p,{children:"The name of the table to be updated."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"column_name"})}),"\n",(0,a.jsx)(n.p,{children:"The name of the column to be updated. It cannot include the table name. For example, 'UPDATE t1 SET col = 1' is not valid."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"expression"})}),"\n",(0,a.jsx)(n.p,{children:"The expression that assigns new values to the column."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"where_condition"})}),"\n",(0,a.jsx)(n.p,{children:"The condition based on which you want to update rows. Only rows that meet the WHERE condition can be updated. This parameter is required, because it helps prevent you from accidentally updating the entire table. If you want to update the entire table, you can use 'WHERE true'."}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsxs)(n.p,{children:["Create a table ",(0,a.jsx)(n.code,{children:"Employees"})," to record employee information and insert five data rows into the table."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-SQL",children:"CREATE TABLE Employees (\n    EmployeeID INT,\n    Name VARCHAR(50),\n    Salary DECIMAL(10, 2)\n)\nPRIMARY KEY (EmployeeID) \nDISTRIBUTED BY HASH (EmployeeID) BUCKETS 1\nPROPERTIES (\"replication_num\" = \"3\");\n\nINSERT INTO Employees VALUES\n    (1, 'John Doe', 5000),\n    (2, 'Jane Smith', 6000),\n    (3, 'Robert Johnson', 5500),\n    (4, 'Emily Williams', 4500),\n    (5, 'Michael Brown', 7000);\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you need to give a 10% raise to all employees, you can execute the following statement:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-SQL",children:"UPDATE Employees\nSET Salary = Salary * 1.1  -- Increase the salary by 10%.\nWHERE true;\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you need to give a 10% raise to employees with salaries lower than the average salary, you can execute the following statement:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-SQL",children:"UPDATE Employees\nSET Salary = Salary * 1.1   -- Increase the salary by 10%.\nWHERE Salary < (SELECT AVG(Salary) FROM Employees);\n"})}),"\n",(0,a.jsx)(n.h2,{id:"limitations",children:"Limitations"}),"\n",(0,a.jsx)(n.p,{children:"In V2.5, the UPDATE statement only supports single-table UPDATE and does not support common table expressions (CTEs)."})]})}const m=function(e={}){const{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,a.jsx)(n,Object.assign({},e,{children:(0,a.jsx)(d,e)})):d(e)}},11151:(e,n,t)=>{t.d(n,{Zo:()=>o,ah:()=>r});var a=t(67294);const s=a.createContext({});function r(e){const n=a.useContext(s);return a.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const l={};function o({components:e,children:n,disableParentContext:t}){let o;return o=t?"function"==typeof e?e({}):e||l:r(e),a.createElement(s.Provider,{value:o},n)}}}]);