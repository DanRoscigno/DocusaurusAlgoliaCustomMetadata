"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[47748],{91952:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>c,metadata:()=>i,toc:()=>a});var s=r(85893),t=r(11151);const c={},o="Flink connector",i={id:"ecosystem_release/flink_connector",title:"Flink connector",description:"Notifications",source:"@site/versioned_docs/version-3.0/ecosystem_release/flink_connector.md",sourceDirName:"ecosystem_release",slug:"/ecosystem_release/flink_connector",permalink:"/doc/docs/3.0/ecosystem_release/flink_connector",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/tree/main/versioned_docs/version-3.0/ecosystem_release/flink_connector.md",tags:[],version:"3.0",frontMatter:{},sidebar:"Chinese31",previous:{title:"Ecosystem Release Notes",permalink:"/doc/docs/3.0/category/ecosystem-release-notes-1"},next:{title:"Kafka connector",permalink:"/doc/docs/3.0/ecosystem_release/kafka_connector"}},l={},a=[{value:"<strong>Notifications</strong>",id:"notifications",level:2},{value:"<strong>Release note</strong>",id:"release-note",level:2},{value:"1.2",id:"12",level:3}];function h(e){const n=Object.assign({h1:"h1",h2:"h2",strong:"strong",p:"p",ul:"ul",li:"li",a:"a",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",blockquote:"blockquote",h3:"h3"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"flink-connector",children:"Flink connector"}),"\n",(0,s.jsx)(n.h2,{id:"notifications",children:(0,s.jsx)(n.strong,{children:"Notifications"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"User guide:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/doc/docs/3.0/loading/Flink-connector-starrocks",children:"Load data into StarRocks using Flink connector"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/doc/docs/3.0/unloading/Flink_connector",children:"Read data from StarRocks using Flink connector"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Source codes:"})," ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink",children:"starrocks-connector-for-apache-flink"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Naming format of the JAR file:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Flink 1.15 and later: ",(0,s.jsx)(n.code,{children:"flink-connector-starrocks-${connector_version}_flink-${flink_version}.jar"})]}),"\n",(0,s.jsxs)(n.li,{children:["Prior to Flink 1.15: ",(0,s.jsx)(n.code,{children:"flink-connector-starrocks-${connector_version}_flink-${flink_version}_${scala_version}.jar"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Methods to obtain the JAR file:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Directly download the the Flink connector JAR file from the ",(0,s.jsx)(n.a,{href:"https://repo1.maven.org/maven2/com/starrocks",children:"Maven Central Repository"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Add the Flink connector as a dependency in your Maven project's ",(0,s.jsx)(n.code,{children:"pom.xml"})," file and download it. For specific instructions, see ",(0,s.jsx)(n.a,{href:"/doc/docs/3.0/loading/Flink-connector-starrocks#obtain-flink-connector",children:"user guide"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Compile the source codes into Flink connector JAR file. For specific instructions, see ",(0,s.jsx)(n.a,{href:"/doc/docs/3.0/loading/Flink-connector-starrocks#obtain-flink-connector",children:"user guide"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Version requirements:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Connector"}),(0,s.jsx)(n.th,{children:"Flink"}),(0,s.jsx)(n.th,{children:"StarRocks"}),(0,s.jsx)(n.th,{children:"Java"}),(0,s.jsx)(n.th,{children:"Scala"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.2.8"}),(0,s.jsx)(n.td,{children:"1.13,1.14,1.15,1.16,1.17"}),(0,s.jsx)(n.td,{children:"2.1 and later"}),(0,s.jsx)(n.td,{children:"8"}),(0,s.jsx)(n.td,{children:"2.11,2.12"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"1.2.7"}),(0,s.jsx)(n.td,{children:"1.11,1.12,1.13,1.14,1.15"}),(0,s.jsx)(n.td,{children:"2.1 and later"}),(0,s.jsx)(n.td,{children:"8"}),(0,s.jsx)(n.td,{children:"2.11,2.12"})]})]})]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"NOTICE"})}),"\n",(0,s.jsx)(n.p,{children:"In general, the latest version of the Flink connector only maintains compatibility with the three most recent versions of Flink."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"release-note",children:(0,s.jsx)(n.strong,{children:"Release note"})}),"\n",(0,s.jsx)(n.h3,{id:"12",children:"1.2"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"1.2.8"})}),"\n",(0,s.jsx)(n.p,{children:"This release includes some improvements and bug fixes. The notable changes are as follows:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Support Flink 1.16 and 1.17."}),"\n",(0,s.jsxs)(n.li,{children:["Recommend to set ",(0,s.jsx)(n.code,{children:"sink.label-prefix"})," when the sink is configured to guarantee the exactly-once semantics. For the specific instructions, see ",(0,s.jsx)(n.a,{href:"/doc/docs/3.0/loading/Flink-connector-starrocks#exactly-once",children:"Exactly Once"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Improvements"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Support to configure whether to use Stream Load transaction interface to guarantee at-least-once. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/228",children:"#228"})]}),"\n",(0,s.jsxs)(n.li,{children:["Add retry metrics for sink V1. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/229",children:"#229"})]}),"\n",(0,s.jsxs)(n.li,{children:["No need to getLabelState when EXISTING_JOB_STATUS is FINISHED. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/231",children:"#231"})]}),"\n",(0,s.jsxs)(n.li,{children:["Remove useless stack trace log for sink V1. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/232",children:"#232"})]}),"\n",(0,s.jsxs)(n.li,{children:["[Refactor] Move StarRocksSinkManagerV2 to stream-load-sdk. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/233",children:"#233"})]}),"\n",(0,s.jsxs)(n.li,{children:["Automatically detect partial updates according to a Flink table's schema instead of the ",(0,s.jsx)(n.code,{children:"sink.properties.columns"})," parameter explicitly specified by users. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/235",children:"#235"})]}),"\n",(0,s.jsxs)(n.li,{children:["[Refactor] Move probeTransactionStreamLoad to stream-load-sdk. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/240",children:"#240"})]}),"\n",(0,s.jsxs)(n.li,{children:["Add git-commit-id-plugin for stream-load-sdk. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/242",children:"#242"})]}),"\n",(0,s.jsxs)(n.li,{children:["Use info log for DefaultStreamLoader#close. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/243",children:"#243"})]}),"\n",(0,s.jsxs)(n.li,{children:["Support to generate stream-load-sdk JAR file without dependencies. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/245",children:"#245"})]}),"\n",(0,s.jsxs)(n.li,{children:["Replace fastjson with jackson in stream-load-sdk. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/247",children:"#247"})]}),"\n",(0,s.jsxs)(n.li,{children:["Support to process update_before record. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/250",children:"#250"})]}),"\n",(0,s.jsxs)(n.li,{children:["Add the Apache license into files. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/251",children:"#251"})]}),"\n",(0,s.jsxs)(n.li,{children:["Support to get the exception in stream-load-sdk. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/252",children:"#252"})]}),"\n",(0,s.jsxs)(n.li,{children:["Enable ",(0,s.jsx)(n.code,{children:"strip_outer_array"})," and ",(0,s.jsx)(n.code,{children:"ignore_json_size"})," by default. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/259",children:"#259"})]}),"\n",(0,s.jsxs)(n.li,{children:["Try to cleanup lingering transactions when a Flink job restores and the sink semantics is exactly-once. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/271",children:"#271"})]}),"\n",(0,s.jsxs)(n.li,{children:["Return the first exception after the retrying fails. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/279",children:"#279"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Bug Fixes"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Fix typos in StarRocksStreamLoadVisitor. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/230",children:"#230"})]}),"\n",(0,s.jsxs)(n.li,{children:["Fix the fastjson classloader leak. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/260",children:"#260"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Tests"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Add the test framework for loading from Kafka to StarRocks. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/249",children:"#249"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Doc"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Refactor the docs. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/262",children:"#262"})]}),"\n",(0,s.jsxs)(n.li,{children:["Improve the doc for the sink. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/268",children:"#268"})," ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/275",children:"#275"})]}),"\n",(0,s.jsxs)(n.li,{children:["Add examples of DataStream API for the sink. ",(0,s.jsx)(n.a,{href:"https://github.com/StarRocks/starrocks-connector-for-apache-flink/pull/253",children:"#253"})]}),"\n"]})]})}const d=function(e={}){const{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(h,e)})):h(e)}},11151:(e,n,r)=>{r.d(n,{Zo:()=>i,ah:()=>c});var s=r(67294);const t=s.createContext({});function c(e){const n=s.useContext(t);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const o={};function i({components:e,children:n,disableParentContext:r}){let i;return i=r?"function"==typeof e?e({}):e||o:c(e),s.createElement(t.Provider,{value:i},n)}}}]);