"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[20030],{34132:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var s=t(85893),i=t(11151);const o={displayed_sidebar:"English"},r="HLL_UNION_AGG",a={id:"sql-reference/sql-functions/aggregate-functions/hll_union_agg",title:"HLL_UNION_AGG",description:"description",source:"@site/versioned_docs/version-2.2/sql-reference/sql-functions/aggregate-functions/hll_union_agg.md",sourceDirName:"sql-reference/sql-functions/aggregate-functions",slug:"/sql-reference/sql-functions/aggregate-functions/hll_union_agg",permalink:"/docs/2.2/sql-reference/sql-functions/aggregate-functions/hll_union_agg",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/edit/main/docs/sql-reference/sql-functions/aggregate-functions/hll_union_agg.md",tags:[],version:"2.2",frontMatter:{displayed_sidebar:"English"},sidebar:"English",previous:{title:"COUNT",permalink:"/docs/2.2/sql-reference/sql-functions/aggregate-functions/count"},next:{title:"MAX",permalink:"/docs/2.2/sql-reference/sql-functions/aggregate-functions/max"}},l={},c=[{value:"description",id:"description",level:2},{value:"Syntax",id:"syntax",level:3},{value:"example",id:"example",level:2},{value:"keyword",id:"keyword",level:2}];function d(e){const n=Object.assign({h1:"h1",h2:"h2",h3:"h3",pre:"pre",code:"code",p:"p"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"hll_union_agg",children:"HLL_UNION_AGG"}),"\n",(0,s.jsx)(n.h2,{id:"description",children:"description"}),"\n",(0,s.jsx)(n.h3,{id:"syntax",children:"Syntax"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-Haskell",children:"HLL_UNION_AGG(hll)\n"})}),"\n",(0,s.jsx)(n.p,{children:"HLL is an engineering implementation based on HyperLogLog algorithm, which is used to save the intermediate results of HyperLogGog calculation process."}),"\n",(0,s.jsx)(n.p,{children:"It can only be used as the value column type of the table and reduce the amount of data through aggregation to achieve the purpose of speeding up the query."}),"\n",(0,s.jsx)(n.p,{children:"An estimated result with an error of about 1% based on hll. The hll column is generated by other columns or data imported into the data."}),"\n",(0,s.jsx)(n.p,{children:"When importing, hll_hash function is used to specify which column in data is used to generate hll column. It is often used to replace count distinct, and to calculate uv quickly in business by combining rollup."}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plain",metastring:"text",children:"MySQL > select HLL_UNION_AGG(uv_set)\nfrom test_uv;;\n+-------------------------+\n| HLL_UNION_AGG(`uv_set`) |\n+-------------------------+\n| 17721                   |\n+-------------------------+\n"})}),"\n",(0,s.jsx)(n.h2,{id:"keyword",children:"keyword"}),"\n",(0,s.jsx)(n.p,{children:"HLL_UNION_AGG,HLL,UNION,AGG"})]})}const u=function(e={}){const{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(d,e)})):d(e)}},11151:(e,n,t)=>{t.d(n,{Zo:()=>a,ah:()=>o});var s=t(67294);const i=s.createContext({});function o(e){const n=s.useContext(i);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const r={};function a({components:e,children:n,disableParentContext:t}){let a;return a=t?"function"==typeof e?e({}):e||r:o(e),s.createElement(i.Provider,{value:a},n)}}}]);