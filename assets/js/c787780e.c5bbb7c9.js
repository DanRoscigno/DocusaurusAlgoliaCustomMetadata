"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[80121],{6863:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>o,frontMatter:()=>d,metadata:()=>l,toc:()=>h});var n=s(85893),r=s(11151);const d={},i="SHOW PROC",l={id:"sql-reference/sql-statements/Administration/SHOW PROC",title:"SHOW PROC",description:"Description",source:"@site/versioned_docs/version-3.0/sql-reference/sql-statements/Administration/SHOW PROC.md",sourceDirName:"sql-reference/sql-statements/Administration",slug:"/sql-reference/sql-statements/Administration/SHOW PROC",permalink:"/docusaurusv3/docs/3.0/sql-reference/sql-statements/Administration/SHOW PROC",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/tree/main/versioned_docs/version-3.0/sql-reference/sql-statements/Administration/SHOW PROC.md",tags:[],version:"3.0",frontMatter:{},sidebar:"documentation",previous:{title:"SHOW PLUGINS",permalink:"/docusaurusv3/docs/3.0/sql-reference/sql-statements/Administration/SHOW PLUGINS"},next:{title:"SHOW PROCESSLIST",permalink:"/docusaurusv3/docs/3.0/sql-reference/sql-statements/Administration/SHOW PROCESSLIST"}},c={},h=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Examples",id:"examples",level:2}];function a(e){const t=Object.assign({h1:"h1",h2:"h2",p:"p",pre:"pre",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",strong:"strong",tbody:"tbody",td:"td"},(0,r.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"show-proc",children:"SHOW PROC"}),"\n",(0,n.jsx)(t.h2,{id:"description",children:"Description"}),"\n",(0,n.jsx)(t.p,{children:"Shows certain indicators of the StarRocks cluster."}),"\n",(0,n.jsx)(t.h2,{id:"syntax",children:"Syntax"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-SQL",children:"SHOW PROC { '/backends' | '/compute_nodes' | '/dbs' \n          | '/jobs' | '/statistic' | '/tasks' | '/frontends' \n          | '/brokers' | '/resources' | '/load_error_hub' \n          | '/transactions' | '/monitor' | '/current_queries' \n          | '/current_backend_instances' | '/cluster_balance' \n          | '/routine_loads' | '/colocation_group' | '/catalog' }\n"})}),"\n",(0,n.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Parameter"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/backends'"}),(0,n.jsx)(t.td,{children:"Shows the information of BE nodes in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/compute_nodes'"}),(0,n.jsx)(t.td,{children:"Shows the information of CN nodes in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/dbs'"}),(0,n.jsx)(t.td,{children:"Shows the information of databases in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/jobs'"}),(0,n.jsx)(t.td,{children:"Shows the information of jobs in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/statistic'"}),(0,n.jsx)(t.td,{children:"Shows the statistics of each database in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/tasks'"}),(0,n.jsx)(t.td,{children:"Shows the total number of all generic tasks and the failed tasks in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/frontends'"}),(0,n.jsx)(t.td,{children:"Shows the information of FE nodes in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/brokers'"}),(0,n.jsx)(t.td,{children:"Shows the information of Broker nodes in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/resources'"}),(0,n.jsx)(t.td,{children:"Shows the information of resources in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/load_error_hub'"}),(0,n.jsx)(t.td,{children:"Shows the configuration of the cluster's Load Error Hub, which is used to manage error messages of loading jobs."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/transactions'"}),(0,n.jsx)(t.td,{children:"Shows the information of transactions in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/monitor'"}),(0,n.jsx)(t.td,{children:"Shows the monitoring information in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/current_queries'"}),(0,n.jsx)(t.td,{children:"Shows the information of currently running queries in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/current_backend_instances'"}),(0,n.jsx)(t.td,{children:"Shows the BE nodes that are processing requests in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/cluster_balance'"}),(0,n.jsx)(t.td,{children:"Shows the load balance information in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/routine_loads'"}),(0,n.jsx)(t.td,{children:"Shows the information of Routine Load in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/colocation_group'"}),(0,n.jsx)(t.td,{children:"Shows the information of Colocate Join groups in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"'/catalog'"}),(0,n.jsx)(t.td,{children:"Shows the information of catalogs in the cluster."})]})]})]}),"\n",(0,n.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,n.jsx)(t.p,{children:"Example 1: Shows the information of BE nodes in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:'mysql> SHOW PROC \'/backends\'\\G\n*************************** 1. row ***************************\n            BackendId: 10004\n                   IP: xxx.xx.92.200\n        HeartbeatPort: 9354\n               BePort: 9360\n             HttpPort: 8338\n             BrpcPort: 8360\n        LastStartTime: 2023-04-21 09:56:10\n        LastHeartbeat: 2023-04-21 09:56:10\n                Alive: true\n SystemDecommissioned: false\nClusterDecommissioned: false\n            TabletNum: 2199\n     DataUsedCapacity: 0.000 \n        AvailCapacity: 584.578 GB\n        TotalCapacity: 1.968 TB\n              UsedPct: 71.00 %\n       MaxDiskUsedPct: 71.00 %\n               ErrMsg: \n              Version: BRANCH-3.0-RELEASE-8eb8705\n               Status: {"lastSuccessReportTabletsTime":"N/A"}\n    DataTotalCapacity: 584.578 GB\n          DataUsedPct: 0.00 %\n             CpuCores: 16\n    NumRunningQueries: 0\n           MemUsedPct: 0.52 %\n           CpuUsedPct: 0.0 %\n'})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"BackendId"}),(0,n.jsx)(t.td,{children:"ID of the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IP"}),(0,n.jsx)(t.td,{children:"IP address of the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"HeartbeatPort"}),(0,n.jsx)(t.td,{children:"Heartbeat service port of the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"BePort"}),(0,n.jsx)(t.td,{children:"Thrift Server port of the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"HttpPort"}),(0,n.jsx)(t.td,{children:"HTTP Server port of the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"BrpcPort"}),(0,n.jsx)(t.td,{children:"BRPC port of the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LastStartTime"}),(0,n.jsx)(t.td,{children:"The last time when the BE node was started."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LastHeartbeat"}),(0,n.jsx)(t.td,{children:"The last time when the BE node received a heartbeat."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Alive"}),(0,n.jsx)(t.td,{children:"If the BE node is alive."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"SystemDecommissioned"}),(0,n.jsx)(t.td,{children:"If the BE node is decommissioned."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ClusterDecommissioned"}),(0,n.jsx)(t.td,{children:"If the BE node is decommissioned within the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TabletNum"}),(0,n.jsx)(t.td,{children:"Number of tablets in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DataUsedCapacity"}),(0,n.jsx)(t.td,{children:"Storage capacity that is used for data in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"AvailCapacity"}),(0,n.jsx)(t.td,{children:"Available storage capacity in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TotalCapacity"}),(0,n.jsx)(t.td,{children:"Total storage capacity in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UsedPct"}),(0,n.jsx)(t.td,{children:"Percentage at which the storage capacity is used in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"MaxDiskUsedPct"}),(0,n.jsx)(t.td,{children:"The maximum percentage at which the storage capacity is used in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ErrMsg"}),(0,n.jsx)(t.td,{children:"Error messages in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Version"}),(0,n.jsx)(t.td,{children:"StarRocks version of the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Status"}),(0,n.jsx)(t.td,{children:"Status information of the BE node, including the last time when the BE node reported tablets."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DataTotalCapacity"}),(0,n.jsxs)(t.td,{children:["Total of used and available data storage capacity. The sum of ",(0,n.jsx)(t.code,{children:"DataUsedCapacity"})," and ",(0,n.jsx)(t.code,{children:"AvailCapacity"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DataUsedPct"}),(0,n.jsx)(t.td,{children:"Percentage at which the data storage takes up the total data capacity (DataUsedCapacity/DataTotalCapacity)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"CpuCores"}),(0,n.jsx)(t.td,{children:"Number of CPU cores in the BE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"NumRunningQueries"}),(0,n.jsx)(t.td,{children:"The number of queries currently running in the cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"MemUsedPct"}),(0,n.jsx)(t.td,{children:"The current memory usage percentage."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"CpuUsedPct"}),(0,n.jsx)(t.td,{children:"The current CPU usage percentage."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 2: Shows the information of databases in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/dbs';\n+---------+------------------------+----------+----------------+--------------------------+---------------------+\n| DbId    | DbName                 | TableNum | Quota          | LastConsistencyCheckTime | ReplicaQuota        |\n+---------+------------------------+----------+----------------+--------------------------+---------------------+\n| 1       | information_schema     | 22       | 8388608.000 TB | NULL                     | 9223372036854775807 |\n| 840997  | tpcds_100g             | 25       | 1024.000 GB    | NULL                     | 1073741824          |\n| 1275196 | _statistics_           | 3        | 8388608.000 TB | 2022-09-06 23:00:58      | 9223372036854775807 |\n| 1286207 | tpcds_n                | 24       | 8388608.000 TB | NULL                     | 9223372036854775807 |\n| 1381289 | test                   | 6        | 8388608.000 TB | 2022-01-14 23:10:18      | 9223372036854775807 |\n| 6186781 | test_stddev            | 1        | 8388608.000 TB | 2022-09-06 23:00:58      | 9223372036854775807 |\n+---------+------------------------+----------+----------------+--------------------------+---------------------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbId"}),(0,n.jsx)(t.td,{children:"Database ID."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbName"}),(0,n.jsx)(t.td,{children:"Database name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TableNum"}),(0,n.jsx)(t.td,{children:"Number of tables in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Quota"}),(0,n.jsx)(t.td,{children:"Storage quota of the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LastConsistencyCheckTime"}),(0,n.jsx)(t.td,{children:"The last time when consistency check is executed."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ReplicaQuota"}),(0,n.jsx)(t.td,{children:"Data replica quota of the database."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 3: Shows the information of jobs in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/jobs';\n+-------+--------------------------------------+\n| DbId  | DbName                               |\n+-------+--------------------------------------+\n| 10005 | default_cluster:_statistics_         |\n| 0     | default_cluster:information_schema   |\n| 12711 | default_cluster:starrocks_audit_db__ |\n+-------+--------------------------------------+\n3 rows in set (0.00 sec)\n\nmysql> SHOW PROC '/jobs/10005';\n+---------------+---------+---------+----------+-----------+-------+\n| JobType       | Pending | Running | Finished | Cancelled | Total |\n+---------------+---------+---------+----------+-----------+-------+\n| load          | 0       | 0       | 3        | 0         | 3     |\n| rollup        | 0       | 0       | 0        | 0         | 0     |\n| schema_change | 0       | 0       | 0        | 0         | 0     |\n| export        | 0       | 0       | 0        | 0         | 0     |\n+---------------+---------+---------+----------+-----------+-------+\n4 rows in set (0.00 sec)\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbId"}),(0,n.jsx)(t.td,{children:"Database ID."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbName"}),(0,n.jsx)(t.td,{children:"Database name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"JobType"}),(0,n.jsx)(t.td,{children:"Job type."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Pending"}),(0,n.jsx)(t.td,{children:"Number of jobs that are pending."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Running"}),(0,n.jsx)(t.td,{children:"Number of jobs that are running."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Finished"}),(0,n.jsx)(t.td,{children:"Number of jobs that are finished."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Cancelled"}),(0,n.jsx)(t.td,{children:"Number of jobs that are cancelled."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Total"}),(0,n.jsx)(t.td,{children:"Total number of jobs."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 4: Shows the statistics of each database in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/statistic';\n+--------+----------------------------------------------------------+----------+--------------+----------+-----------+------------+--------------------+-----------------------+------------------+---------------------+\n| DbId   | DbName                                                   | TableNum | PartitionNum | IndexNum | TabletNum | ReplicaNum | UnhealthyTabletNum | InconsistentTabletNum | CloningTabletNum | ErrorStateTabletNum |\n+--------+----------------------------------------------------------+----------+--------------+----------+-----------+------------+--------------------+-----------------------+------------------+---------------------+\n| 10004  | _statistics_                                             | 3        | 3            | 3        | 30        | 60         | 0                  | 0                     | 0                | 0                   |\n| 1      | information_schema                                       | 0        | 0            | 0        | 0         | 0          | 0                  | 0                     | 0                | 0                   |\n| 92498  | stream_load_test_db_03afc714_b1cb_11ed_a82c_00163e237e98 | 0        | 0            | 0        | 0         | 0          | 0                  | 0                     | 0                | 0                   |\n| 92542  | stream_load_test_db_79876e92_b1da_11ed_b50e_00163e237e98 | 1        | 1            | 1        | 3         | 3          | 0                  | 0                     | 0                | 0                   |\n| 115476 | testdb                                                   | 0        | 0            | 0        | 0         | 0          | 0                  | 0                     | 0                | 0                   |\n| 10002  | zq_test                                                  | 8        | 8            | 8        | 5043      | 7063       | 0                  | 0                     | 0                | 2                   |\n| Total  | 6                                                        | 12       | 12           | 12       | 5076      | 7126       | 0                  | 0                     | 0                | 2                   |\n+--------+----------------------------------------------------------+----------+--------------+----------+-----------+------------+--------------------+-----------------------+------------------+---------------------+\n7 rows in set (0.01 sec)\n\nmysql> show proc '/statistic/10002';\n+------------------+---------------------+----------------+-------------------+\n| UnhealthyTablets | InconsistentTablets | CloningTablets | ErrorStateTablets |\n+------------------+---------------------+----------------+-------------------+\n| []               | []                  | []             | [116703, 116706]  |\n+------------------+---------------------+----------------+-------------------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbId"}),(0,n.jsx)(t.td,{children:"Database ID."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbName"}),(0,n.jsx)(t.td,{children:"Database name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TableNum"}),(0,n.jsx)(t.td,{children:"Number of tables in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"PartitionNum"}),(0,n.jsx)(t.td,{children:"Number of partitions in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IndexNum"}),(0,n.jsx)(t.td,{children:"Number of indexes in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TabletNum"}),(0,n.jsx)(t.td,{children:"Number of tablets in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ReplicaNum"}),(0,n.jsx)(t.td,{children:"Number of replicas in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"UnhealthyTabletNum"}),(0,n.jsx)(t.td,{children:"Number of unfinished (unhealthy) tablets in the database during data redistribution."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"InconsistentTabletNum"}),(0,n.jsx)(t.td,{children:"Number of inconsistent tablets in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"CloningTabletNum"}),(0,n.jsx)(t.td,{children:"Number of tablets that are being cloned in the database."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ErrorStateTabletNum"}),(0,n.jsx)(t.td,{children:"In a Primary Key type table, the number of tablets in Error state."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ErrorStateTablets"}),(0,n.jsx)(t.td,{children:"In a Primary Key type table, the IDs of the tablets in Error state."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 5: Shows the total number of all generic tasks and the failed tasks in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/tasks';\n+-------------------------+-----------+----------+\n| TaskType                | FailedNum | TotalNum |\n+-------------------------+-----------+----------+\n| CREATE                  | 0         | 0        |\n| DROP                    | 0         | 0        |\n| PUSH                    | 0         | 0        |\n| CLONE                   | 0         | 0        |\n| STORAGE_MEDIUM_MIGRATE  | 0         | 0        |\n| ROLLUP                  | 0         | 0        |\n| SCHEMA_CHANGE           | 0         | 0        |\n| CANCEL_DELETE           | 0         | 0        |\n| MAKE_SNAPSHOT           | 0         | 0        |\n| RELEASE_SNAPSHOT        | 0         | 0        |\n| CHECK_CONSISTENCY       | 0         | 0        |\n| UPLOAD                  | 0         | 0        |\n| DOWNLOAD                | 0         | 0        |\n| CLEAR_REMOTE_FILE       | 0         | 0        |\n| MOVE                    | 0         | 0        |\n| REALTIME_PUSH           | 0         | 0        |\n| PUBLISH_VERSION         | 0         | 0        |\n| CLEAR_ALTER_TASK        | 0         | 0        |\n| CLEAR_TRANSACTION_TASK  | 0         | 0        |\n| RECOVER_TABLET          | 0         | 0        |\n| STREAM_LOAD             | 0         | 0        |\n| UPDATE_TABLET_META_INFO | 0         | 0        |\n| ALTER                   | 0         | 0        |\n| INSTALL_PLUGIN          | 0         | 0        |\n| UNINSTALL_PLUGIN        | 0         | 0        |\n| NUM_TASK_TYPE           | 0         | 0        |\n| Total                   | 0         | 0        |\n+-------------------------+-----------+----------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TaskType"}),(0,n.jsx)(t.td,{children:"Task type."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"FailedNum"}),(0,n.jsx)(t.td,{children:"Number of failed tasks."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TotalNum"}),(0,n.jsx)(t.td,{children:"Total number of tasks."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 6: Shows the information of FE nodes in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/frontends';\n+----------------------------------+---------------+-------------+----------+-----------+---------+----------+------------+-------+-------+-------------------+---------------+----------+---------------+-----------+---------+\n| Name                             | IP            | EditLogPort | HttpPort | QueryPort | RpcPort | Role     | ClusterId  | Join  | Alive | ReplayedJournalId | LastHeartbeat | IsHelper | ErrMsg        | StartTime | Version |\n+----------------------------------+---------------+-------------+----------+-----------+---------+----------+------------+-------+-------+-------------------+---------------+----------+---------------+-----------+---------+\n| xxx.xx.xx.xxx_9009_1600088918395 | xxx.xx.xx.xxx | 9009        | 7390     | 0         | 0       | FOLLOWER | 1747363037 | false | false | 0                 | NULL          | true     | got exception | NULL      | NULL    |\n+----------------------------------+---------------+-------------+----------+-----------+---------+----------+------------+-------+-------+-------------------+---------------+----------+---------------+-----------+---------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Name"}),(0,n.jsx)(t.td,{children:"FE node name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IP"}),(0,n.jsx)(t.td,{children:"IP address of the FE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"EditLogPort"}),(0,n.jsx)(t.td,{children:"Port for communication between FE nodes."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"HttpPort"}),(0,n.jsx)(t.td,{children:"HTTP Server port of the FE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"QueryPort"}),(0,n.jsx)(t.td,{children:"MySQL Server port of the FE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"RpcPort"}),(0,n.jsx)(t.td,{children:"RPC port of the FE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Role"}),(0,n.jsx)(t.td,{children:"Role of the FE node (Leader, Follower, or Observer)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ClusterId"}),(0,n.jsx)(t.td,{children:"Cluster ID."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Join"}),(0,n.jsx)(t.td,{children:"If the FE node has joined a cluster."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Alive"}),(0,n.jsx)(t.td,{children:"If the FE node is alive."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ReplayedJournalId"}),(0,n.jsx)(t.td,{children:"The largest metadata ID that the FE node has replayed."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LastHeartbeat"}),(0,n.jsx)(t.td,{children:"The last time when the FE node sent a heartbeat."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IsHelper"}),(0,n.jsx)(t.td,{children:"If the FE node is the BDBJE helper node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ErrMsg"}),(0,n.jsx)(t.td,{children:"Error messages in the FE node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"StartTime"}),(0,n.jsx)(t.td,{children:"Time when the FE node is started."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Version"}),(0,n.jsx)(t.td,{children:"StarRocks version of the FE node."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 7: Shows the information of Broker nodes in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/brokers';\n+-------------+---------------+------+-------+---------------+---------------------+--------+\n| Name        | IP            | Port | Alive | LastStartTime | LastUpdateTime      | ErrMsg |\n+-------------+---------------+------+-------+---------------+---------------------+--------+\n| hdfs_broker | xxx.xx.xx.xxx | 8500 | true  | NULL          | 2022-10-10 16:37:59 |        |\n| hdfs_broker | xxx.xx.xx.xxx | 8500 | true  | NULL          | 2022-10-10 16:37:59 |        |\n| hdfs_broker | xxx.xx.xx.xxx | 8500 | true  | NULL          | 2022-10-10 16:37:59 |        |\n+-------------+---------------+------+-------+---------------+---------------------+--------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Name"}),(0,n.jsx)(t.td,{children:"Broker node name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IP"}),(0,n.jsx)(t.td,{children:"IP address of the broker node."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Port"}),(0,n.jsx)(t.td,{children:"Thrift Server port of the broker node. The port is used to receive requests."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Alive"}),(0,n.jsx)(t.td,{children:"If the broker node is alive."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LastStartTime"}),(0,n.jsx)(t.td,{children:"The last time when the broker node was started."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"LastUpdateTime"}),(0,n.jsx)(t.td,{children:"The last time when the broker node was updated."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ErrMsg"}),(0,n.jsx)(t.td,{children:"Error message in the broker node."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 8: Shows the information of resources in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/resources';\n+-------------------------+--------------+---------------------+------------------------------+\n| Name                    | ResourceType | Key                 | Value                        |\n+-------------------------+--------------+---------------------+------------------------------+\n| hive_resource_stability | hive         | hive.metastore.uris | thrift://xxx.xx.xxx.xxx:9083 |\n| hive2                   | hive         | hive.metastore.uris | thrift://xxx.xx.xx.xxx:9083  |\n+-------------------------+--------------+---------------------+------------------------------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Name"}),(0,n.jsx)(t.td,{children:"Resource name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ResourceType"}),(0,n.jsx)(t.td,{children:"Resource type."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Key"}),(0,n.jsx)(t.td,{children:"Resource key."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Value"}),(0,n.jsx)(t.td,{children:"Resource value."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 9: Shows the information of transactions in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/transactions';\n+-------+--------------------------------------+\n| DbId  | DbName                               |\n+-------+--------------------------------------+\n| 10005 | default_cluster:_statistics_         |\n| 12711 | default_cluster:starrocks_audit_db__ |\n+-------+--------------------------------------+\n2 rows in set (0.00 sec)\n\nmysql> SHOW PROC '/transactions/10005';\n+----------+--------+\n| State    | Number |\n+----------+--------+\n| running  | 0      |\n| finished | 4      |\n+----------+--------+\n2 rows in set (0.00 sec)\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbId"}),(0,n.jsx)(t.td,{children:"Database ID."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DbName"}),(0,n.jsx)(t.td,{children:"Database name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"State"}),(0,n.jsx)(t.td,{children:"The state of the transaction."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Number"}),(0,n.jsx)(t.td,{children:"Number of transactions."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 10: Shows the monitoring information in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/monitor';\n+------+------+\n| Name | Info |\n+------+------+\n| jvm  |      |\n+------+------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Name"}),(0,n.jsx)(t.td,{children:"JVM name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Info"}),(0,n.jsx)(t.td,{children:"JVM information."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 11: Shows the load balance information in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/cluster_balance';\n+-------------------+--------+\n| Item              | Number |\n+-------------------+--------+\n| cluster_load_stat | 1      |\n| working_slots     | 3      |\n| sched_stat        | 1      |\n| priority_repair   | 0      |\n| pending_tablets   | 2001   |\n| running_tablets   | 0      |\n| history_tablets   | 1000   |\n+-------------------+--------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Item"}),(0,n.jsxs)(t.td,{children:["Sub-command item in ",(0,n.jsx)(t.code,{children:"cluster_balance "}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Number"}),(0,n.jsxs)(t.td,{children:["Number of each sub-command in ",(0,n.jsx)(t.code,{children:"cluster_balance"}),"."]})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 12: Shows the information of Colocate Join groups in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/colocation_group';\n+-----------------+----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+------------+----------------+-------------+----------+\n| GroupId         | GroupName                  | TableIds                                                                                                                                          | BucketsNum | ReplicationNum | DistCols    | IsStable |\n+-----------------+----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+------------+----------------+-------------+----------+\n| 24010.177354    | 24010_lineitem_str_g1      | 177672                                                                                                                                            | 12         | 1              | varchar(-1) | true     |\n| 24010.182146    | 24010_lineitem_str_g2      | 182144                                                                                                                                            | 192        | 1              | varchar(-1) | true     |\n| 1439318.1735496 | 1439318_group_agent_uid    | 1735677, 1738390                                                                                                                                  | 12         | 2              | bigint(20)  | true     |\n| 24010.37804     | 24010_gsdaf2449s9e         | 37802                                                                                                                                             | 192        | 1              | int(11)     | true     |\n| 174844.175370   | 174844_groupa4             | 175368, 591307, 591362, 591389, 591416                                                                                                            | 12         | 1              | int(11)     | true     |\n| 24010.30587     | 24010_group2               | 30585, 30669                                                                                                                                      | 12         | 1              | int(11)     | true     |\n| 10005.181366    | 10005_lineorder_str_normal | 181364                                                                                                                                            | 192        | 1              | varchar(-1) | true     |\n| 1904968.5973175 | 1904968_groupa2            | 5973173                                                                                                                                           | 12         | 1              | int(11)     | true     |\n| 24010.182535    | 24010_lineitem_str_g3      | 182533                                                                                                                                            | 192        | 1              | varchar(-1) | true     |\n+-----------------+----------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------+------------+----------------+-------------+----------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"GroupId"}),(0,n.jsx)(t.td,{children:"Colocate Join Group ID."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"GroupName"}),(0,n.jsx)(t.td,{children:"Colocate Join Group name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"TableIds"}),(0,n.jsx)(t.td,{children:"IDs of tables in the Colocate Join Group."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"BucketsNum"}),(0,n.jsx)(t.td,{children:"Buckets in the Colocate Join Group."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"ReplicationNum"}),(0,n.jsx)(t.td,{children:"Replications in the Colocate Join Group."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"DistCols"}),(0,n.jsx)(t.td,{children:"Distribution column of the Colocate Join Group."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"IsStable"}),(0,n.jsx)(t.td,{children:"If the Colocate Join Group is stable."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Example 13: Shows the information of catalogs in the cluster."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Plain",children:"mysql> SHOW PROC '/catalog';\n+--------------------------------------------------------------+----------+----------------------+\n| Catalog                                                      | Type     | Comment              |\n+--------------------------------------------------------------+----------+----------------------+\n| resource_mapping_inside_catalog_hive_hive2                   | hive     | mapping hive catalog |\n| resource_mapping_inside_catalog_hive_hive_resource_stability | hive     | mapping hive catalog |\n| default_catalog                                              | Internal | Internal Catalog     |\n+--------------------------------------------------------------+----------+----------------------+\n"})}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Return"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Catalog"}),(0,n.jsx)(t.td,{children:"Catalog name."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Type"}),(0,n.jsx)(t.td,{children:"Catalog type."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Comment"}),(0,n.jsx)(t.td,{children:"Comments for the catalog."})]})]})]})]})}const o=function(e={}){const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(a,e)})):a(e)}},11151:(e,t,s)=>{s.d(t,{Zo:()=>l,ah:()=>d});var n=s(67294);const r=n.createContext({});function d(e){const t=n.useContext(r);return n.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const i={};function l({components:e,children:t,disableParentContext:s}){let l;return l=s?"function"==typeof e?e({}):e||i:d(e),n.createElement(r.Provider,{value:l},t)}}}]);