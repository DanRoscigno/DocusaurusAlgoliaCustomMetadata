"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[13133],{45539:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var r=s(85893),t=s(11151);const i={},a="generate_series",c={id:"sql-reference/sql-functions/table-functions/generate_series",title:"generate_series",description:"Description",source:"@site/versioned_docs/version-3.1/sql-reference/sql-functions/table-functions/generate_series.md",sourceDirName:"sql-reference/sql-functions/table-functions",slug:"/sql-reference/sql-functions/table-functions/generate_series",permalink:"/doc/docs/sql-reference/sql-functions/table-functions/generate_series",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/tree/main/versioned_docs/version-3.1/sql-reference/sql-functions/table-functions/generate_series.md",tags:[],version:"3.1",frontMatter:{},sidebar:"documentation",previous:{title:"FILES",permalink:"/doc/docs/sql-reference/sql-functions/table-functions/files"},next:{title:"Utility Functions",permalink:"/doc/docs/category/utility-functions"}},l={},o=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Return value",id:"return-value",level:2},{value:"Examples",id:"examples",level:2},{value:"keywords",id:"keywords",level:2}];function d(e){const n=Object.assign({h1:"h1",h2:"h2",p:"p",code:"code",pre:"pre",ul:"ul",li:"li"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"generate_series",children:"generate_series"}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["Generates a series of values within the interval specified by ",(0,r.jsx)(n.code,{children:"start"})," and ",(0,r.jsx)(n.code,{children:"end"}),", and with an optional ",(0,r.jsx)(n.code,{children:"step"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"generate_series() is a table function. A table function can return a row set for each input row. The row set can contain zero, one, or multiple rows. Each row can contain one or more columns."}),"\n",(0,r.jsx)(n.p,{children:"To use generate_series() in StarRocks, you must enclose it in the TABLE keyword if the input parameters are constants. If the input parameters are expressions, such as column names, the TABLE keyword is not required (See Example 5)."}),"\n",(0,r.jsx)(n.p,{children:"This function is supported from v3.1."}),"\n",(0,r.jsx)(n.h2,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"generate_series(start, end [,step])\n"})}),"\n",(0,r.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"start"}),": the starting value of the series, required. Supported data types are INT, BIGINT, and LARGEINT."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"end"}),": the ending value of the series, required. Supported data types are INT, BIGINT, and LARGEINT."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"step"}),": the value to increment or decrement, optional.  Supported data types are INT, BIGINT, and LARGEINT. If not specified, the default step is 1. ",(0,r.jsx)(n.code,{children:"step"})," can be either negative or positive, but cannot be zero."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The three parameters must have the same data type, for example, ",(0,r.jsx)(n.code,{children:"generate_series(INT start, INT end [, INT step])"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"return-value",children:"Return value"}),"\n",(0,r.jsxs)(n.p,{children:["Returns a series of values that have the same as the input parameters ",(0,r.jsx)(n.code,{children:"start"})," and ",(0,r.jsx)(n.code,{children:"end"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["When ",(0,r.jsx)(n.code,{children:"step"})," is positive, zero rows are returned if ",(0,r.jsx)(n.code,{children:"start"})," is greater than ",(0,r.jsx)(n.code,{children:"end"}),". Conversely, when ",(0,r.jsx)(n.code,{children:"step"})," is negative, zero rows are returned if ",(0,r.jsx)(n.code,{children:"start"})," is less than ",(0,r.jsx)(n.code,{children:"end"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["An error is returned if ",(0,r.jsx)(n.code,{children:"step"})," is 0."]}),"\n",(0,r.jsx)(n.li,{children:"This function deals with nulls as follows: If any input parameter is a literal null, an error is reported. If any input parameter is an expression and the result of the expression is null, 0 rows are returned (See Example 5)."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.p,{children:["Example 1: Generate a sequence of values within the range [2,5] in ascending order with the default step ",(0,r.jsx)(n.code,{children:"1"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"MySQL > select * from TABLE(generate_series(2, 5));\n+-----------------+\n| generate_series |\n+-----------------+\n|               2 |\n|               3 |\n|               4 |\n|               5 |\n+-----------------+\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Example 2: Generate a sequence of values within the range [2,5] in ascending order with the specified step ",(0,r.jsx)(n.code,{children:"2"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"MySQL > select * from TABLE(generate_series(2, 5, 2));\n+-----------------+\n| generate_series |\n+-----------------+\n|               2 |\n|               4 |\n+-----------------+\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Example 3: Generate a sequence of values within the range [5,2] in descending order with the specified step ",(0,r.jsx)(n.code,{children:"-1"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"MySQL > select * from TABLE(generate_series(5, 2, -1));\n+-----------------+\n| generate_series |\n+-----------------+\n|               5 |\n|               4 |\n|               3 |\n|               2 |\n+-----------------+\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Example 4: Zero rows are returned when ",(0,r.jsx)(n.code,{children:"step"})," is negative and ",(0,r.jsx)(n.code,{children:"start"})," is less than ",(0,r.jsx)(n.code,{children:"end"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"MySQL > select * from TABLE(generate_series(2, 5, -1));\nEmpty set (0.01 sec)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Example 5: Use table columns as the input parameters of generate_series(). In this use case, you do not need to use ",(0,r.jsx)(n.code,{children:"TABLE()"})," with generate_series()."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-SQL",children:"CREATE TABLE t_numbers(start INT, end INT)\nDUPLICATE KEY (start)\nDISTRIBUTED BY HASH(start) BUCKETS 1;\n\nINSERT INTO t_numbers VALUES\n(1, 3),\n(5, 2),\n(NULL, 10),\n(4, 7),\n(9,6);\n\nSELECT * FROM t_numbers;\n+-------+------+\n| start | end  |\n+-------+------+\n|  NULL |   10 |\n|     1 |    3 |\n|     4 |    7 |\n|     5 |    2 |\n|     9 |    6 |\n+-------+------+\n\n-- Generate multiple rows for rows (1,3) and (4,7) with step 1.\nSELECT * FROM t_numbers, generate_series(t_numbers.start, t_numbers.end);\n+-------+------+-----------------+\n| start | end  | generate_series |\n+-------+------+-----------------+\n|     1 |    3 |               1 |\n|     1 |    3 |               2 |\n|     1 |    3 |               3 |\n|     4 |    7 |               4 |\n|     4 |    7 |               5 |\n|     4 |    7 |               6 |\n|     4 |    7 |               7 |\n+-------+------+-----------------+\n\n-- Generate multiple rows for rows (5,2) and (9,6) with step -1.\nSELECT * FROM t_numbers, generate_series(t_numbers.start, t_numbers.end, -1);\n+-------+------+-----------------+\n| start | end  | generate_series |\n+-------+------+-----------------+\n|     5 |    2 |               5 |\n|     5 |    2 |               4 |\n|     5 |    2 |               3 |\n|     5 |    2 |               2 |\n|     9 |    6 |               9 |\n|     9 |    6 |               8 |\n|     9 |    6 |               7 |\n|     9 |    6 |               6 |\n+-------+------+-----------------+\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The input row ",(0,r.jsx)(n.code,{children:"(NULL, 10)"})," has a NULL value and zero rows are returned for this row."]}),"\n",(0,r.jsx)(n.h2,{id:"keywords",children:"keywords"}),"\n",(0,r.jsx)(n.p,{children:"table function, generate series"})]})}const h=function(e={}){const{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(d,e)})):d(e)}},11151:(e,n,s)=>{s.d(n,{Zo:()=>c,ah:()=>i});var r=s(67294);const t=r.createContext({});function i(e){const n=r.useContext(t);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const a={};function c({components:e,children:n,disableParentContext:s}){let c;return c=s?"function"==typeof e?e({}):e||a:i(e),r.createElement(t.Provider,{value:c},n)}}}]);