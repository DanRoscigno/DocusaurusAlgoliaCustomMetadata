"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[68913],{32829:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>o});var s=t(85893),a=t(11151);const l={displayed_sidebar:"English"},i="BACKUP",r={id:"sql-reference/sql-statements/data-definition/BACKUP",title:"BACKUP",description:"description",source:"@site/versioned_docs/version-2.1/sql-reference/sql-statements/data-definition/BACKUP.md",sourceDirName:"sql-reference/sql-statements/data-definition",slug:"/sql-reference/sql-statements/data-definition/BACKUP",permalink:"/docs/2.1/sql-reference/sql-statements/data-definition/BACKUP",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/edit/main/docs/sql-reference/sql-statements/data-definition/BACKUP.md",tags:[],version:"2.1",frontMatter:{displayed_sidebar:"English"},sidebar:"English",previous:{title:"ALTER VIEW",permalink:"/docs/2.1/sql-reference/sql-statements/data-definition/ALTER_VIEW"},next:{title:"CANCEL BACKUP",permalink:"/docs/2.1/sql-reference/sql-statements/data-definition/CANCEL_BACKUP"}},d={},o=[{value:"description",id:"description",level:2},{value:"example",id:"example",level:2},{value:"keyword",id:"keyword",level:2}];function c(e){const n=Object.assign({h1:"h1",h2:"h2",p:"p",pre:"pre",code:"code",ol:"ol",li:"li"},(0,a.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"backup",children:"BACKUP"}),"\n",(0,s.jsx)(n.h2,{id:"description",children:"description"}),"\n",(0,s.jsx)(n.p,{children:"This statement is used to backup data under the specified database. This command is an asynchronous operation. After successful submission, you can check progress through the SHOW BACKUP command. Only tables of OLAP type are backed up."}),"\n",(0,s.jsx)(n.p,{children:"Syntax:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'BACKUP SNAPSHOT [db_name].{snapshot_name}\nTO `repository_name`\nON (\n`table_name` [PARTITION (`p1`, ...)],\n...\n)\nPROPERTIES ("key"="value", ...);\n'})}),"\n",(0,s.jsx)(n.p,{children:"Note:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Only one ongoing BACKUP or RESTORE task under the same database."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"The ON clause identifies the tables and partitions that need to be backed up. If no partition is specified, all partitions of the table are backed up by default."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"PROPERTIES currently supports the following attributes:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:'"type" = "full": means that this is a full update (default).'}),"\n",(0,s.jsx)(n.p,{children:'"timeout" = "3600": Task timeout: one day by default. Unit: second.'}),"\n",(0,s.jsx)(n.h2,{id:"example",children:"example"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Conduct full backup of the table example_tbl under example_db to the repository example_repo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'BACKUP SNAPSHOT example_db.snapshot_label1\nTO example_repo\nON (example_tbl)\nPROPERTIES ("type" = "full");\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Conduct full backup of the P1 and P2 partitions of table example_tbl, and table example_tbl2 under example_db, to repository example_repo:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"BACKUP SNAPSHOT example_db.snapshot_label2\nTO example_repo\nON\n(\nexample_tbl PARTITION (p1,p2),\nexample_tbl2\n);\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"keyword",children:"keyword"}),"\n",(0,s.jsx)(n.p,{children:"BACKUP"})]})}const p=function(e={}){const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?(0,s.jsx)(n,Object.assign({},e,{children:(0,s.jsx)(c,e)})):c(e)}},11151:(e,n,t)=>{t.d(n,{Zo:()=>r,ah:()=>l});var s=t(67294);const a=s.createContext({});function l(e){const n=s.useContext(a);return s.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const i={};function r({components:e,children:n,disableParentContext:t}){let r;return r=t?"function"==typeof e?e({}):e||i:l(e),s.createElement(a.Provider,{value:r},n)}}}]);