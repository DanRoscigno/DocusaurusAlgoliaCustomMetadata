"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[97956],{25364:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>l});var r=n(85893),d=n(11151);const o={},i="Rules",t={id:"developers/code-style-guides/protobuf-guides",title:"Rules",description:"Never use required",source:"@site/versioned_docs/version-3.1/developers/code-style-guides/protobuf-guides.md",sourceDirName:"developers/code-style-guides",slug:"/developers/code-style-guides/protobuf-guides",permalink:"/doc/en/developers/code-style-guides/protobuf-guides",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/edit/main/docs/developers/code-style-guides/protobuf-guides.md",tags:[],version:"3.1",frontMatter:{},sidebar:"documentation",previous:{title:"How to build StarRocks",permalink:"/doc/en/developers/build-starrocks/handbook"},next:{title:"Rules",permalink:"/doc/en/developers/code-style-guides/thrift-guides"}},a={},l=[{value:"Never use required",id:"never-use-required",level:2},{value:"Never change the ordinal",id:"never-change-the-ordinal",level:2},{value:"file name",id:"file-name",level:2},{value:"Message Name",id:"message-name",level:2},{value:"field name",id:"field-name",level:2}];function c(e){const s=Object.assign({h1:"h1",h2:"h2",p:"p",code:"code",pre:"pre"},(0,d.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"rules",children:"Rules"}),"\n",(0,r.jsx)(s.h2,{id:"never-use-required",children:"Never use required"}),"\n",(0,r.jsx)(s.p,{children:"As the project involving, any fields may become optional. But if it is defined as required, it can not be removed."}),"\n",(0,r.jsxs)(s.p,{children:["So ",(0,r.jsx)(s.code,{children:"required"})," should not be used."]}),"\n",(0,r.jsx)(s.h2,{id:"never-change-the-ordinal",children:"Never change the ordinal"}),"\n",(0,r.jsx)(s.p,{children:"To be back compatible, the ordinal of the field SHOULD NOT be changed."}),"\n",(0,r.jsx)(s.h1,{id:"naming",children:"Naming"}),"\n",(0,r.jsx)(s.h2,{id:"file-name",children:"file name"}),"\n",(0,r.jsxs)(s.p,{children:["The names of messages are all lowercase, with underscores between words.\nFiles should end in ",(0,r.jsx)(s.code,{children:".proto"}),"."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"my_message.proto            // Good\nmymessage.proto             // Bad\nmy_message.pb                // Bad\n"})}),"\n",(0,r.jsx)(s.h2,{id:"message-name",children:"Message Name"}),"\n",(0,r.jsxs)(s.p,{children:["Message names start with a capital letter and have a capital letter for each new word, with no underscores, and with ",(0,r.jsx)(s.code,{children:"PB"})," as postfix: MyMessagePB"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-protobuf",children:"message MyMessagePB       // Good\nmessage MyMessage         // Bad\nmessage My_Message_PB     // Bad\nmessage myMessagePB       // Bad\n"})}),"\n",(0,r.jsx)(s.h2,{id:"field-name",children:"field name"}),"\n",(0,r.jsx)(s.p,{children:"The names of messages are all lowercase, with underscores between words."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"optional int64 my_field = 3;        // Good\noptional int64 myField = 3;         // Bad\n"})})]})}const u=function(e={}){const{wrapper:s}=Object.assign({},(0,d.ah)(),e.components);return s?(0,r.jsx)(s,Object.assign({},e,{children:(0,r.jsx)(c,e)})):c(e)}},11151:(e,s,n)=>{n.d(s,{Zo:()=>t,ah:()=>o});var r=n(67294);const d=r.createContext({});function o(e){const s=r.useContext(d);return r.useMemo((()=>"function"==typeof e?e(s):{...s,...e}),[s,e])}const i={};function t({components:e,children:s,disableParentContext:n}){let t;return t=n?"function"==typeof e?e({}):e||i:o(e),r.createElement(d.Provider,{value:t},s)}}}]);