"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[47246],{99012:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>t,contentTitle:()=>r,default:()=>o,frontMatter:()=>c,metadata:()=>d,toc:()=>a});var s=l(85893),i=l(11151);const c={},r="SELECT",d={id:"sql-reference/sql-statements/data-manipulation/SELECT",title:"SELECT",description:"\u529f\u80fd",source:"@site/chinese_versioned_docs/version-3.0/sql-reference/sql-statements/data-manipulation/SELECT.md",sourceDirName:"sql-reference/sql-statements/data-manipulation",slug:"/sql-reference/sql-statements/data-manipulation/SELECT",permalink:"/doc/zh/3.0/sql-reference/sql-statements/data-manipulation/SELECT",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/docs.zh-cn/edit/main/sql-reference/sql-statements/data-manipulation/SELECT.md",tags:[],version:"3.0",frontMatter:{},sidebar:"documentation",previous:{title:"RESUME ROUTINE LOAD",permalink:"/doc/zh/3.0/sql-reference/sql-statements/data-manipulation/RESUME_ROUTINE_LOAD"},next:{title:"SHOW ALTER TABLE",permalink:"/doc/zh/3.0/sql-reference/sql-statements/data-manipulation/SHOW_ALTER"}},t={},a=[{value:"\u529f\u80fd",id:"\u529f\u80fd",level:2},{value:"WITH",id:"with",level:3},{value:"\u8fde\u63a5 (Join)",id:"\u8fde\u63a5-join",level:3},{value:"Self Join",id:"self-join",level:4},{value:"\u7b1b\u5361\u5c14\u79ef (Cross Join)",id:"\u7b1b\u5361\u5c14\u79ef-cross-join",level:4},{value:"Inner Join",id:"inner-join",level:4},{value:"Outer Join",id:"outer-join",level:4},{value:"Semi Join",id:"semi-join",level:4},{value:"Anti Join",id:"anti-join",level:4},{value:"\u7b49\u503c Join \u548c\u975e\u7b49\u503c Join",id:"\u7b49\u503c-join-\u548c\u975e\u7b49\u503c-join",level:4},{value:"ORDER BY",id:"order-by",level:3},{value:"GROUP BY",id:"group-by",level:3},{value:"HAVING",id:"having",level:3},{value:"LIMIT",id:"limit",level:3},{value:"OFFSET",id:"offset",level:4},{value:"<strong>UNION</strong>",id:"union",level:3},{value:"<strong>INTERSECT</strong>",id:"intersect",level:3},{value:"<strong>EXCEPT/MINUS</strong>",id:"exceptminus",level:3},{value:"DISTINCT",id:"distinct",level:3},{value:"\u5b50\u67e5\u8be2",id:"\u5b50\u67e5\u8be2",level:3},{value:"\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2",id:"\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2",level:4},{value:"\u76f8\u5173\u5b50\u67e5\u8be2",id:"\u76f8\u5173\u5b50\u67e5\u8be2",level:4},{value:"WHERE \u4e0e\u64cd\u4f5c\u7b26",id:"where-\u4e0e\u64cd\u4f5c\u7b26",level:3},{value:"\u7b97\u6570\u64cd\u4f5c\u7b26",id:"\u7b97\u6570\u64cd\u4f5c\u7b26",level:4},{value:"BETWEEN \u64cd\u4f5c\u7b26",id:"between-\u64cd\u4f5c\u7b26",level:4},{value:"\u6bd4\u8f83\u64cd\u4f5c\u7b26",id:"\u6bd4\u8f83\u64cd\u4f5c\u7b26",level:4},{value:"In \u64cd\u4f5c\u7b26",id:"in-\u64cd\u4f5c\u7b26",level:4},{value:"Like \u64cd\u4f5c\u7b26",id:"like-\u64cd\u4f5c\u7b26",level:4},{value:"\u903b\u8f91\u64cd\u4f5c\u7b26",id:"\u903b\u8f91\u64cd\u4f5c\u7b26",level:4},{value:"\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u7b26",id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u7b26",level:4},{value:"\u522b\u540d (alias)",id:"\u522b\u540d-alias",level:3}];function h(n){const e=Object.assign({h1:"h1",h2:"h2",p:"p",ul:"ul",li:"li",a:"a",blockquote:"blockquote",strong:"strong",h3:"h3",pre:"pre",code:"code",h4:"h4",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ol:"ol",em:"em"},(0,i.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"select",children:"SELECT"}),"\n",(0,s.jsx)(e.h2,{id:"\u529f\u80fd",children:"\u529f\u80fd"}),"\n",(0,s.jsx)(e.p,{children:"SELECT \u8bed\u53e5\u7528\u4e8e\u4ece\u5355\u4e2a\u6216\u591a\u4e2a\u8868\uff0c\u89c6\u56fe\uff0c\u7269\u5316\u89c6\u56fe\u4e2d\u8bfb\u53d6\u6570\u636e\u3002SELECT \u8bed\u53e5\u4e00\u822c\u7531\u4ee5\u4e0b\u5b50\u53e5\u7ec4\u6210\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#with",children:"WITH"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#where-%E4%B8%8E%E6%93%8D%E4%BD%9C%E7%AC%A6",children:"WHERE \u4e0e\u64cd\u4f5c\u7b26"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#group-by",children:"GROUP BY"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#having",children:"HAVING"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#union",children:"UNION"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#intersect",children:"INTERSECT"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#exceptminus",children:"EXCEPT/MINUS"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#order-by",children:"ORDER BY"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#limit",children:"LIMIT"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#offset",children:"OFFSET"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#%E8%BF%9E%E6%8E%A5-join",children:"Joins"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#%E5%AD%90%E6%9F%A5%E8%AF%A2",children:"\u5b50\u67e5\u8be2"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#distinct",children:"DISTINCT"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"#%E5%88%AB%E5%90%8D-alias",children:"\u522b\u540d"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"SELECT \u53ef\u4ee5\u4f5c\u4e3a\u72ec\u7acb\u7684\u8bed\u53e5\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u5176\u4ed6\u8bed\u53e5\u7684\u5b50\u53e5\uff0c\u5176\u67e5\u8be2\u7ed3\u679c\u53ef\u4ee5\u4f5c\u4e3a\u53e6\u4e00\u4e2a\u8bed\u53e5\u7684\u8f93\u5165\u503c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"StarRocks \u7684\u67e5\u8be2\u8bed\u53e5\u57fa\u672c\u7b26\u5408 SQL-92 \u6807\u51c6\u3002\u4e0b\u9762\u4ecb\u7ecd\u652f\u6301\u7684 SELECT \u7528\u6cd5\u3002"}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8bf4\u660e"})}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u8981\u67e5\u8be2 StarRocks \u8868\u3001\u89c6\u56fe\u3001\u6216\u7269\u5316\u89c6\u56fe\u5185\u7684\u6570\u636e\uff0c\u9700\u8981\u6709\u5bf9\u5e94\u5bf9\u8c61\u7684 SELECT \u6743\u9650\u3002\u5982\u679c\u8981\u67e5\u8be2 External Catalog \u91cc\u7684\u6570\u636e\uff0c\u9700\u8981\u6709\u5bf9\u5e94 Catalog \u7684 USAGE \u6743\u9650\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"with",children:"WITH"}),"\n",(0,s.jsx)(e.p,{children:"\u53ef\u4ee5\u5728 SELECT \u8bed\u53e5\u4e4b\u524d\u6dfb\u52a0\u7684\u5b50\u53e5\uff0c\u7528\u4e8e\u5b9a\u4e49\u5728 SELECT \u5185\u90e8\u591a\u6b21\u5f15\u7528\u7684\u590d\u6742\u8868\u8fbe\u5f0f\u7684\u522b\u540d\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u4e0e CREATE VIEW \u7c7b\u4f3c\uff0c\u4f46\u5728\u5b50\u53e5\u4e2d\u5b9a\u4e49\u7684\u8868\u548c\u5217\u540d\u5728\u67e5\u8be2\u7ed3\u675f\u540e\u4e0d\u4f1a\u6301\u4e45\uff0c\u4e5f\u4e0d\u4f1a\u4e0e\u5b9e\u9645\u8868\u6216 VIEW \u4e2d\u7684\u540d\u79f0\u51b2\u7a81\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u7528 WITH \u5b50\u53e5\u7684\u597d\u5904\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u65b9\u4fbf\u548c\u6613\u4e8e\u7ef4\u62a4\uff0c\u51cf\u5c11\u67e5\u8be2\u5185\u90e8\u7684\u91cd\u590d\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u901a\u8fc7\u5c06\u67e5\u8be2\u4e2d\u6700\u590d\u6742\u7684\u90e8\u5206\u62bd\u8c61\u6210\u5355\u72ec\u7684\u5757\uff0c\u66f4\u6613\u4e8e\u9605\u8bfb\u548c\u7406\u89e3 SQL \u4ee3\u7801\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"-- Define one subquery at the outer level, and another at the inner level as part of the\n-- initial stage of the UNION ALL query.\n\nwith t1 as (select 1),t2 as (select 2)\nselect * from t1 union all select * from t2;\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u8fde\u63a5-join",children:"\u8fde\u63a5 (Join)"}),"\n",(0,s.jsx)(e.p,{children:"\u8fde\u63a5\u64cd\u4f5c\u5408\u5e76 2 \u4e2a\u6216\u591a\u4e2a\u8868\u7684\u6570\u636e\uff0c\u7136\u540e\u8fd4\u56de\u67d0\u4e9b\u8868\u4e2d\u67d0\u4e9b\u5217\u7684\u7ed3\u679c\u96c6\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u76ee\u524d StarRocks \u652f\u6301 Self Join\u3001Cross Join\u3001Inner Join\u3001Outer Join\u3001Semi Join \u548c Anti Join\u3002\u5176\u4e2d\uff0cOuter Join \u5305\u62ec Left Join\u3001Right Join \u548c Full Join\u3002"}),"\n",(0,s.jsx)(e.p,{children:"Join \u7684\u8bed\u6cd5\u5b9a\u4e49\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT select_list FROM\ntable_or_subquery1 [INNER] JOIN table_or_subquery2 |\ntable_or_subquery1 {LEFT [OUTER] | RIGHT [OUTER] | FULL [OUTER]} JOIN table_or_subquery2 |\ntable_or_subquery1 {LEFT | RIGHT} SEMI JOIN table_or_subquery2 |\ntable_or_subquery1 {LEFT | RIGHT} ANTI JOIN table_or_subquery2 |\n[ ON col1 = col2 [AND col3 = col4 ...] |\nUSING (col1 [, col2 ...]) ]\n[other_join_clause ...]\n[ WHERE where_clauses ]\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT select_list FROM\ntable_or_subquery1, table_or_subquery2 [, table_or_subquery3 ...]\n[other_join_clause ...]\nWHERE\ncol1 = col2 [AND col3 = col4 ...]\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT select_list FROM\ntable_or_subquery1 CROSS JOIN table_or_subquery2\n[other_join_clause ...]\n[ WHERE where_clauses ]\n"})}),"\n",(0,s.jsx)(e.h4,{id:"self-join",children:"Self Join"}),"\n",(0,s.jsx)(e.p,{children:"StarRocks \u652f\u6301 Self Join\uff0c\u5373\u81ea\u5df1\u548c\u81ea\u5df1 Join\u3002\u4f8b\u5982\u540c\u4e00\u5f20\u8868\u7684\u4e0d\u540c\u5217\u8fdb\u884c Join\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5b9e\u9645\u4e0a\u6ca1\u6709\u7279\u6b8a\u7684\u8bed\u6cd5\u6807\u8bc6 Self Join\u3002Self Join \u4e2d Join \u4e24\u8fb9\u7684\u6761\u4ef6\u90fd\u6765\u81ea\u540c\u4e00\u5f20\u8868\uff0c"}),"\n",(0,s.jsx)(e.p,{children:"\u60a8\u9700\u8981\u7ed9\u4ed6\u4eec\u5206\u914d\u4e0d\u540c\u7684\u522b\u540d\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT lhs.id, rhs.parent, lhs.c1, rhs.c2 FROM tree_data lhs, tree_data rhs WHERE lhs.id = rhs.parent;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u7b1b\u5361\u5c14\u79ef-cross-join",children:"\u7b1b\u5361\u5c14\u79ef (Cross Join)"}),"\n",(0,s.jsx)(e.p,{children:"Cross join \u4f1a\u4ea7\u751f\u5927\u91cf\u7684\u7ed3\u679c\uff0c\u987b\u614e\u7528 cross join\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5373\u4f7f\u9700\u8981\u4f7f\u7528 Cross Join \u65f6\u4e5f\u9700\u8981\u4f7f\u7528\u8fc7\u6ee4\u6761\u4ef6\u5e76\u4e14\u786e\u4fdd\u8fd4\u56de\u7ed3\u679c\u6570\u8f83\u5c11\u3002\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT * FROM t1, t2;\n\nSELECT * FROM t1 CROSS JOIN t2;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"inner-join",children:"Inner Join"}),"\n",(0,s.jsx)(e.p,{children:"Inner Inner Join \u662f\u5927\u5bb6\u6700\u719f\u77e5\uff0c\u6700\u5e38\u7528\u7684 Join\u3002\u8fd4\u56de\u7684\u7ed3\u679c\u6765\u81ea\u76f8\u8fd1\u7684\u4e24\u5f20\u8868\u6240\u8bf7\u6c42\u7684\u5217\uff0cJoin \u7684\u6761\u4ef6\u4e3a\u4e24\u4e2a\u8868\u7684\u5217\u5305\u542b\u6709\u76f8\u540c\u7684\u503c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u4e24\u4e2a\u8868\u7684\u67d0\u4e2a\u5217\u540d\u76f8\u540c\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u5168\u540d\uff08table_name.column_name \u5f62\u5f0f\uff09\u6216\u8005\u7ed9\u5217\u540d\u8d77\u522b\u540d\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(e.p,{children:"\u4e0b\u5217 3 \u4e2a\u67e5\u8be2\u662f\u7b49\u4ef7\u7684\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT t1.id, c1, c2 FROM t1, t2 WHERE t1.id = t2.id;\n\nSELECT t1.id, c1, c2 FROM t1 JOIN t2 ON t1.id = t2.id;\n\nSELECT t1.id, c1, c2 FROM t1 INNER JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"outer-join",children:"Outer Join"}),"\n",(0,s.jsxs)(e.p,{children:["Outer Join \u8fd4\u56de\u5de6\u8868\u6216\u8005\u53f3\u8868\u6216\u8005\u4e24\u8005\u6240\u6709\u7684\u884c\u3002\u5982\u679c\u5728\u53e6\u4e00\u5f20\u8868\u4e2d\u6ca1\u6709\u5339\u914d\u7684\u6570\u636e\uff0c\u5219\u5c06\u5176\u8bbe\u7f6e\u4e3a ",(0,s.jsx)(e.code,{children:"NULL"}),"\u3002\u4f8b\u5982\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT * FROM t1 LEFT OUTER JOIN t2 ON t1.id = t2.id;\n\nSELECT * FROM t1 RIGHT OUTER JOIN t2 ON t1.id = t2.id;\n\nSELECT * FROM t1 FULL OUTER JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"semi-join",children:"Semi Join"}),"\n",(0,s.jsx)(e.p,{children:"Left Semi Join \u53ea\u8fd4\u56de\u5de6\u8868\u4e2d\u80fd\u5339\u914d\u53f3\u8868\u6570\u636e\u7684\u884c\uff0c\u4e0d\u7ba1\u80fd\u5339\u914d\u53f3\u8868\u591a\u5c11\u884c\u6570\u636e\uff0c"}),"\n",(0,s.jsx)(e.p,{children:"\u5de6\u8868\u7684\u8be5\u884c\u6700\u591a\u53ea\u8fd4\u56de\u4e00\u6b21\u3002Right Semi Join \u539f\u7406\u76f8\u4f3c\uff0c\u53ea\u662f\u8fd4\u56de\u7684\u6570\u636e\u662f\u53f3\u8868\u7684\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT t1.c1, t1.c2, t1.c2 FROM t1 LEFT SEMI JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"anti-join",children:"Anti Join"}),"\n",(0,s.jsx)(e.p,{children:"Left Anti Join \u53ea\u8fd4\u56de\u5de6\u8868\u4e2d\u4e0d\u80fd\u5339\u914d\u53f3\u8868\u7684\u884c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"Right Anti Join \u53cd\u8f6c\u4e86\u8fd9\u4e2a\u6bd4\u8f83\uff0c\u53ea\u8fd4\u56de\u53f3\u8868\u4e2d\u4e0d\u80fd\u5339\u914d\u5de6\u8868\u7684\u884c\u3002\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT t1.c1, t1.c2, t1.c2 FROM t1 LEFT ANTI JOIN t2 ON t1.id = t2.id;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u7b49\u503c-join-\u548c\u975e\u7b49\u503c-join",children:"\u7b49\u503c Join \u548c\u975e\u7b49\u503c Join"}),"\n",(0,s.jsx)(e.p,{children:"\u6839\u636e Join \u6761\u4ef6\u7684\u4e0d\u540c\uff0cStarRocks \u652f\u6301\u7684\u4e0a\u8ff0\u5404\u79cd\u7c7b\u578b\u7684 Join \u53ef\u4ee5\u5206\u4e3a\u7b49\u503c Join \u548c\u975e\u7b49\u503c Join\uff0c\u5982\u4e0b\u8868\u6240\u793a\uff1a"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:(0,s.jsx)(e.strong,{children:"\u7b49\u503c Join"})}),(0,s.jsx)(e.th,{children:"Self Join\u3001Cross Join\u3001Inner Join\u3001Outer Join\u3001Semi Join \u548c Anti Join"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"\u975e\u7b49\u503c Join"})}),(0,s.jsx)(e.td,{children:"Cross Join\u3001Inner Join\uff0cLEFT SEMI JOIN\uff0c LEFT ANTI JOIN \u548c Outer Join"})]})})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7b49\u503c Join"}),"\n",(0,s.jsxs)(e.p,{children:["\u7b49\u503c Join \u4f7f\u7528\u7b49\u503c\u6761\u4ef6\u4f5c\u4e3a\u8fde\u63a5\u6761\u4ef6\uff0c\u4f8b\u5982 ",(0,s.jsx)(e.code,{children:"a JOIN b ON a.id = b.id"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u975e\u7b49\u503c Join"}),"\n",(0,s.jsxs)(e.p,{children:["\u975e\u7b49\u503c Join \u4e0d\u4f7f\u7528\u7b49\u503c\u6761\u4ef6\uff0c\u4f7f\u7528 ",(0,s.jsx)(e.code,{children:"<"}),"\u3001",(0,s.jsx)(e.code,{children:"<="}),"\u3001",(0,s.jsx)(e.code,{children:">"}),"\u3001",(0,s.jsx)(e.code,{children:">="}),"\u3001",(0,s.jsx)(e.code,{children:"<>"})," \u7b49\u6bd4\u8f83\u64cd\u4f5c\u7b26\uff0c\u4f8b\u5982 ",(0,s.jsx)(e.code,{children:"a JOIN b ON a.id < b.id"}),"\u3002\u4e0e\u7b49\u503c Join \u76f8\u6bd4\uff0c\u975e\u7b49\u503c Join \u76ee\u524d\u6548\u7387\u8f83\u4f4e\uff0c\u5efa\u8bae\u60a8\u8c28\u614e\u4f7f\u7528\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u4ee5\u4e0b\u4e3a\u975e\u7b49\u503c Join \u7684\u4e24\u4e2a\u4f7f\u7528\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"SELECT t1.id, c1, c2 \nFROM t1 \nINNER JOIN t2 ON t1.id < t2.id;\n  \nSELECT t1.id, c1, c2 \nFROM t1 \nLEFT JOIN t2 ON t1.id > t2.id;\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"order-by",children:"ORDER BY"}),"\n",(0,s.jsx)(e.p,{children:"ORDER BY \u901a\u8fc7\u6bd4\u8f83\u4e00\u5217\u6216\u8005\u591a\u5217\u7684\u5927\u5c0f\u6765\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u6392\u5e8f\u3002"}),"\n",(0,s.jsx)(e.p,{children:"ORDER BY \u662f\u6bd4\u8f83\u8017\u65f6\u8017\u8d44\u6e90\u7684\u64cd\u4f5c\uff0c\u56e0\u4e3a\u6240\u6709\u6570\u636e\u90fd\u9700\u8981\u53d1\u9001\u5230 1 \u4e2a\u8282\u70b9\u540e\u624d\u80fd\u6392\u5e8f\uff0c\u9700\u8981\u66f4\u591a\u7684\u5185\u5b58\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u9700\u8981\u8fd4\u56de\u524d N \u4e2a\u6392\u5e8f\u7ed3\u679c\uff0c\u9700\u8981\u4f7f\u7528 LIMIT \u5b50\u53e5\uff1b\u4e3a\u4e86\u9650\u5236\u5185\u5b58\u7684\u4f7f\u7528\uff0c\u5982\u679c\u60a8\u6ca1\u6709\u6307\u5b9a LIMIT \u5b50\u53e5\uff0c\u5219\u9ed8\u8ba4\u8fd4\u56de\u524d 65535 \u4e2a\u6392\u5e8f\u7ed3\u679c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"ORDER BY \u8bed\u6cd5\u5b9a\u4e49\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"ORDER BY col [ASC | DESC]\n[ NULLS FIRST | NULLS LAST ]\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u9ed8\u8ba4\u6392\u5e8f\u987a\u5e8f\u662f ASC\uff08\u5347\u5e8f\uff09\u3002\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select * from big_table order by tiny_column, short_column desc;\n"})}),"\n",(0,s.jsxs)(e.p,{children:["StarRocks \u652f\u6301\u5728 ORDER BY \u540e\u58f0\u660e null \u503c\u6392\u5728\u6700\u524d\u9762\u8fd8\u662f\u6700\u540e\u9762\uff0c\u8bed\u6cd5\u4e3a ",(0,s.jsx)(e.code,{children:"order by <> [ NULLS FIRST | NULLS LAST ]"}),"\u3002",(0,s.jsx)(e.code,{children:"NULLS FIRST"})," \u8868\u793a null \u503c\u7684\u8bb0\u5f55\u5c06\u6392\u5728\u6700\u524d\u9762\uff0c",(0,s.jsx)(e.code,{children:"NULLS LAST"})," \u8868\u793a null \u503c\u7684\u8bb0\u5f55\u5c06\u6392\u5728\u6700\u540e\u9762\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a\u5c06 null \u503c\u59cb\u7ec8\u6392\u5728\u6700\u524d\u9762\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select  *  from  sales_record  order by  employee_id  nulls first;\n"})}),"\n",(0,s.jsx)(e.h3,{id:"group-by",children:"GROUP BY"}),"\n",(0,s.jsx)(e.p,{children:"GROUP BY \u5b50\u53e5\u901a\u5e38\u548c\u805a\u5408\u51fd\u6570\uff08\u4f8b\u5982 COUNT(), SUM(), AVG(), MIN()\u548c MAX()\uff09\u4e00\u8d77\u4f7f\u7528\u3002"}),"\n",(0,s.jsx)(e.p,{children:"GROUP BY \u6307\u5b9a\u7684\u5217\u4e0d\u4f1a\u53c2\u52a0\u805a\u5408\u64cd\u4f5c\u3002GROUP BY \u5b50\u53e5\u53ef\u4ee5\u52a0\u5165 HAVING \u5b50\u53e5\u6765\u8fc7\u6ee4\u805a\u5408\u51fd\u6570\u4ea7\u51fa\u7684\u7ed3\u679c\u3002\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select tiny_column, sum(short_column)\nfrom small_table \ngroup by tiny_column;\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"+-------------+---------------------+\n| tiny_column |  sum('short_column')|\n+-------------+---------------------+\n|      1      |        2            |\n|      2      |        1            |\n+-------------+---------------------+\n\n2 rows in set (0.07 sec)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"having",children:"HAVING"}),"\n",(0,s.jsx)(e.p,{children:"HAVING \u5b50\u53e5\u4e0d\u8fc7\u6ee4\u8868\u4e2d\u7684\u884c\u6570\u636e\uff0c\u800c\u662f\u8fc7\u6ee4\u805a\u5408\u51fd\u6570\u4ea7\u51fa\u7684\u7ed3\u679c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u901a\u5e38\u6765\u8bf4 HAVING \u8981\u548c\u805a\u5408\u51fd\u6570\uff08\u4f8b\u5982 COUNT(), SUM(), AVG(), MIN(), MAX()\uff09\u4ee5\u53ca group by \u5b50\u53e5\u4e00\u8d77\u4f7f\u7528\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select tiny_column, sum(short_column) \nfrom small_table \ngroup by tiny_column \nhaving sum(short_column) = 1;\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"+-------------+---------------------+\n|tiny_column  | sum('short_column') |\n+-------------+---------------------+\n|         2   |        1            |\n+-------------+---------------------+\n\n1 row in set (0.07 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select tiny_column, sum(short_column) \nfrom small_table \ngroup by tiny_column \nhaving tiny_column > 1;\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"+-------------+---------------------+\n|tiny_column  | sum('short_column') |\n+-------------+---------------------+\n|      2      |          1          |\n+-------------+---------------------+\n\n1 row in set (0.07 sec)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"limit",children:"LIMIT"}),"\n",(0,s.jsx)(e.p,{children:"LIMIT \u5b50\u53e5\u7528\u4e8e\u9650\u5236\u8fd4\u56de\u7ed3\u679c\u7684\u6700\u5927\u884c\u6570\u3002\u8bbe\u7f6e\u8fd4\u56de\u7ed3\u679c\u7684\u6700\u5927\u884c\u6570\u53ef\u4ee5\u5e2e\u52a9 StarRocks \u4f18\u5316\u5185\u5b58\u7684\u4f7f\u7528\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u8be5\u5b50\u53e5\u4e3b\u8981\u5e94\u7528\u5982\u4e0b\u573a\u666f\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8fd4\u56de top-N \u7684\u67e5\u8be2\u7ed3\u679c\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u7b80\u5355\u67e5\u770b\u8868\u4e2d\u5305\u542b\u7684\u5185\u5bb9\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8868\u4e2d\u6570\u636e\u91cf\u5927\uff0c\u6216\u8005 where \u5b50\u53e5\u6ca1\u6709\u8fc7\u6ee4\u592a\u591a\u7684\u6570\u636e\uff0c\u9700\u8981\u9650\u5236\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u5927\u5c0f\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u7528\u8bf4\u660e\uff1aLIMMIT \u5b50\u53e5\u7684\u503c\u5fc5\u987b\u662f\u6570\u5b57\u578b\u5b57\u9762\u5e38\u91cf\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select tiny_column from small_table limit 1;\n\n+-------------+\n|tiny_column  |\n+-------------+\n|     1       |\n+-------------+\n\n1 row in set (0.02 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select tiny_column from small_table limit 10000;\n\n+-------------+\n|tiny_column  |\n+-------------+\n|      1      |\n|      2      |\n+-------------+\n\n2 rows in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.h4,{id:"offset",children:"OFFSET"}),"\n",(0,s.jsx)(e.p,{children:"OFFSET \u5b50\u53e5\u7528\u4e8e\u8df3\u8fc7\u7ed3\u679c\u96c6\u7684\u524d\u82e5\u5e72\u884c\u7ed3\u679c\uff0c\u76f4\u63a5\u8fd4\u56de\u540e\u7eed\u7684\u7ed3\u679c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u9ed8\u8ba4\u4ece\u7b2c 0 \u884c\u5f00\u59cb\uff0c\u56e0\u6b64 OFFSET 0 \u548c\u4e0d\u5e26 OFFSET \u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u901a\u5e38\u6765\u8bf4\uff0cOFFSET \u5b50\u53e5\u9700\u8981\u4e0e ORDER BY \u5b50\u53e5\u548c LIMIT \u5b50\u53e5\u4e00\u8d77\u4f7f\u7528\u624d\u6709\u6548\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from big_table order by varchar_column limit 3;\n\n+----------------+\n| varchar_column | \n+----------------+\n|    beijing     | \n|    chongqing   | \n|    tianjin     | \n+----------------+\n\n3 rows in set (0.02 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from big_table order by varchar_column limit 1 offset 0;\n\n+----------------+\n|varchar_column  |\n+----------------+\n|     beijing    |\n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from big_table order by varchar_column limit 1 offset 1;\n\n+----------------+\n|varchar_column  |\n+----------------+\n|    chongqing   | \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from big_table order by varchar_column limit 1 offset 2;\n\n+----------------+\n|varchar_column  |\n+----------------+\n|     tianjin    |     \n+----------------+\n\n1 row in set (0.02 sec)\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u6ce8\u610f"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u6ca1\u6709 ORDER BY \u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 OFFSET \u8bed\u6cd5\u662f\u5141\u8bb8\u7684\uff0c\u4f46\u662f\u6b64\u65f6 OFFSET \u65e0\u610f\u4e49\u3002\u8fd9\u79cd\u60c5\u51b5\u53ea\u53d6 LIMIT \u7684\u503c\uff0c\u5ffd\u7565 OFFSET \u7684\u503c\u3002\u56e0\u6b64\u5728\u6ca1\u6709 ORDER BY \u7684\u60c5\u51b5\u4e0b\uff0cOFFSET \u8d85\u8fc7\u7ed3\u679c\u96c6\u7684\u6700\u5927\u884c\u6570\u4f9d\u7136\u662f\u6709\u7ed3\u679c\u7684\u3002",(0,s.jsx)(e.strong,{children:"\u5efa\u8bae\u4f7f\u7528 OFFSET \u65f6\u4e00\u5b9a\u5e26\u4e0a ORDER BY\u3002"})]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"union",children:(0,s.jsx)(e.strong,{children:"UNION"})}),"\n",(0,s.jsx)(e.p,{children:"UNION \u5b50\u53e5\u7528\u4e8e\u5408\u5e76\u591a\u4e2a\u67e5\u8be2\u7684\u7ed3\u679c\uff0c\u5373\u83b7\u53d6\u5e76\u96c6\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8bed\u6cd5\u5982\u4e0b\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"query_1 UNION [DISTINCT | ALL] query_2\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"DISTINCT\uff1a\u9ed8\u8ba4\u503c\uff0c\u8fd4\u56de\u4e0d\u91cd\u590d\u7684\u7ed3\u679c\u3002UNION \u548c UNION DISTINCT \u6548\u679c\u76f8\u540c\uff08\u89c1\u7b2c\u4e8c\u4e2a\u793a\u4f8b\uff09\u3002"}),"\n",(0,s.jsx)(e.li,{children:"ALL: \u8fd4\u56de\u6240\u6709\u7ed3\u679c\u7684\u96c6\u5408\uff0c\u4e0d\u8fdb\u884c\u53bb\u91cd\u3002\u7531\u4e8e\u53bb\u91cd\u5de5\u4f5c\u6bd4\u8f83\u8017\u8d39\u5185\u5b58\uff0c\u56e0\u6b64\u4f7f\u7528 UNION ALL \u67e5\u8be2\u901f\u5ea6\u4f1a\u5feb\u4e00\u4e9b\uff0c\u5185\u5b58\u6d88\u8017\u4e5f\u4f1a\u5c11\u4e00\u4e9b\uff08\u89c1\u7b2c\u4e00\u4e2a\u793a\u4f8b\uff09\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8bf4\u660e"})}),"\n",(0,s.jsx)(e.p,{children:"\u6bcf\u6761 SELECT \u67e5\u8be2\u8fd4\u56de\u7684\u5217\u6570\u5fc5\u987b\u76f8\u540c\uff0c\u4e14\u5217\u7c7b\u578b\u5fc5\u987b\u80fd\u591f\u517c\u5bb9\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4ee5\u8868 ",(0,s.jsx)(e.code,{children:"select1"})," \u548c ",(0,s.jsx)(e.code,{children:"select2"})," \u793a\u4f8b\u8bf4\u660e\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"CREATE TABLE select1(\n    id          INT,\n    price       INT\n    )\nDISTRIBUTED BY HASH(id);\n\nINSERT INTO select1 VALUES\n    (1,2),\n    (1,2),\n    (2,3),\n    (5,6),\n    (5,6);\n\nCREATE TABLE select2(\n    id          INT,\n    price       INT\n    )\nDISTRIBUTED BY HASH(id);\n\nINSERT INTO select2 VALUES\n    (2,3),\n    (3,4),\n    (5,6),\n    (7,8);\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u793a\u4f8b\u4e00\uff1a\u8fd4\u56de\u4e24\u5f20\u8868\u4e2d\u6240\u6709 ",(0,s.jsx)(e.code,{children:"id"})," \u7684\u5e76\u96c6\uff0c\u4e0d\u8fdb\u884c\u53bb\u91cd\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Plaintext",children:"mysql> (select id from select1) union all (select id from select2) order by id;\n\n+------+\n| id   |\n+------+\n|    1 |\n|    1 |\n|    2 |\n|    2 |\n|    3 |\n|    5 |\n|    5 |\n|    5 |\n|    7 |\n+------+\n11 rows in set (0.02 sec)\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u793a\u4f8b\u4e8c\uff1a\u8fd4\u56de\u4e24\u5f20\u8868\u4e2d ",(0,s.jsx)(e.code,{children:"id"})," \u7684\u5e76\u96c6\uff0c\u8fdb\u884c\u53bb\u91cd\u3002\u4e0b\u9762\u4e24\u6761\u67e5\u8be2\u5728\u529f\u80fd\u4e0a\u5bf9\u7b49\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Plaintext",children:"mysql> (select id from select1) union (select id from select2) order by id;\n\n+------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n|    5 |\n|    7 |\n+------+\n6 rows in set (0.01 sec)\n\nmysql> (select id from select1) union distinct (select id from select2) order by id;\n+------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n|    5 |\n|    7 |\n+------+\n5 rows in set (0.02 sec)\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u793a\u4f8b\u4e09\uff1a\u8fd4\u56de\u4e24\u5f20\u8868\u4e2d\u6240\u6709 ",(0,s.jsx)(e.code,{children:"id"})," \u7684\u5e76\u96c6\uff0c\u8fdb\u884c\u53bb\u91cd\uff0c\u53ea\u8fd4\u56de 3 \u884c\u7ed3\u679c\u3002\u4e0b\u9762\u4e24\u6761\u67e5\u8be2\u5728\u529f\u80fd\u4e0a\u5bf9\u7b49\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"mysql> (select id from select1) union distinct (select id from select2)\norder by id\nlimit 3;\n++------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n+------+\n4 rows in set (0.11 sec)\n\nmysql> select * from (select id from select1 union distinct select id from select2) as t1\norder by id\nlimit 3;\n+------+\n| id   |\n+------+\n|    1 |\n|    2 |\n|    3 |\n+------+\n3 rows in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"intersect",children:(0,s.jsx)(e.strong,{children:"INTERSECT"})}),"\n",(0,s.jsx)(e.p,{children:"INTERSECT \u5b50\u53e5\u7528\u4e8e\u8fd4\u56de\u591a\u4e2a\u67e5\u8be2\u7ed3\u679c\u4e4b\u95f4\u7684\u4ea4\u96c6\uff0c\u5373\u6bcf\u4e2a\u7ed3\u679c\u4e2d\u90fd\u6709\u7684\u6570\u636e\uff0c\u5e76\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u53bb\u91cd\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8bed\u6cd5\u5982\u4e0b\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"query_1 INTERSECT [DISTINCT] query_2\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8bf4\u660e"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"INTERSECT \u6548\u679c\u7b49\u540c\u4e8e INTERSECT DISTINCT\u3002\u4e0d\u652f\u6301 ALL \u5173\u952e\u5b57\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u6bcf\u6761 SELECT \u67e5\u8be2\u8fd4\u56de\u7684\u5217\u6570\u5fc5\u987b\u76f8\u540c\uff0c\u4e14\u5217\u7c7b\u578b\u80fd\u591f\u517c\u5bb9\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,s.jsxs)(e.p,{children:["\u7ee7\u7eed\u4f7f\u7528 UNION \u5b50\u53e5\u91cc\u7684\u4e24\u5f20\u8868\u3002\u8fd4\u56de\u4e24\u5f20\u8868\u4e2d ",(0,s.jsx)(e.code,{children:"id"})," \u548c ",(0,s.jsx)(e.code,{children:"price"})," \u7ec4\u5408\u7684\u4ea4\u96c6\u3002\u4e0b\u9762\u4e24\u6761\u67e5\u8be2\u5728\u529f\u80fd\u4e0a\u5bf9\u7b49\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Plaintext",children:"mysql> (select id, price from select1) intersect (select id, price from select2)\norder by id;\n\n+------+-------+\n| id   | price |\n+------+-------+\n|    2 |     3 |\n|    5 |     6 |\n+------+-------+\n\nmysql> (select id, price from select1) intersect distinct (select id, price from select2)\norder by id;\n\n+------+-------+\n| id   | price |\n+------+-------+\n|    2 |     3 |\n|    5 |     6 |\n+------+-------+\n"})}),"\n",(0,s.jsx)(e.h3,{id:"exceptminus",children:(0,s.jsx)(e.strong,{children:"EXCEPT/MINUS"})}),"\n",(0,s.jsx)(e.p,{children:"EXCEPT/MINUS \u5b50\u53e5\u7528\u4e8e\u8fd4\u56de\u591a\u4e2a\u67e5\u8be2\u7ed3\u679c\u4e4b\u95f4\u7684\u8865\u96c6\uff0c\u5373\u8fd4\u56de\u5de6\u4fa7\u67e5\u8be2\u4e2d\u5728\u53f3\u4fa7\u67e5\u8be2\u4e2d\u4e0d\u5b58\u5728\u7684\u6570\u636e\uff0c\u5e76\u5bf9\u7ed3\u679c\u96c6\u53bb\u91cd\u3002EXCEPT \u548c MINUS \u529f\u80fd\u5bf9\u7b49\u3002"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8bed\u6cd5\u5982\u4e0b\uff1a"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"query_1 {EXCEPT | MINUS} [DISTINCT] query_2\n"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u8bf4\u660e"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"EXCEPT \u6548\u679c\u7b49\u540c\u4e8e EXCEPT DISTINCT\u3002\u4e0d\u652f\u6301 ALL \u5173\u952e\u5b57\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u6bcf\u6761 SELECT \u67e5\u8be2\u8fd4\u56de\u7684\u5217\u6570\u5fc5\u987b\u76f8\u540c\uff0c\u4e14\u5217\u7c7b\u578b\u80fd\u591f\u517c\u5bb9\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u793a\u4f8b\uff1a"})}),"\n",(0,s.jsxs)(e.p,{children:["\u7ee7\u7eed\u4f7f\u7528 UNION \u5b50\u53e5\u91cc\u7684\u4e24\u5f20\u8868\u3002\u8fd4\u56de\u8868 ",(0,s.jsx)(e.code,{children:"select1"})," \u4e2d\u4e0d\u5b58\u5728\u4e8e\u8868 ",(0,s.jsx)(e.code,{children:"select2"})," \u7684 ",(0,s.jsx)(e.code,{children:"(id,price)"})," \u7ec4\u5408\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u5230\u5728\u7ed3\u679c\u4e2d\u5bf9\u7ec4\u5408 ",(0,s.jsx)(e.code,{children:"(1,2)"})," \u8fdb\u884c\u4e86\u53bb\u91cd\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-Plaintext",children:"mysql> (select id, price from select1) except (select id, price from select2)\norder by id;\n+------+-------+\n| id   | price |\n+------+-------+\n|    1 |     2 |\n+------+-------+\n\nmysql> (select id, price from select1) minus (select id, price from select2)\norder by id;\n+------+-------+\n| id   | price |\n+------+-------+\n|    1 |     2 |\n+------+-------+\n"})}),"\n",(0,s.jsx)(e.h3,{id:"distinct",children:"DISTINCT"}),"\n",(0,s.jsx)(e.p,{children:"DISTINCT \u5173\u952e\u5b57\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u53bb\u91cd\u3002\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"-- \u8fd4\u56de\u4e00\u5217\u4e2d\u53bb\u91cd\u540e\u7684\u503c\u3002\nselect distinct tiny_column from big_table limit 2;\n\n-- \u8fd4\u56de\u591a\u5217\u4e2d\u53bb\u91cd\u540e\u7684\u7ec4\u5408\u3002\nselect distinct tiny_column, int_column from big_table limit 2;\n"})}),"\n",(0,s.jsx)(e.p,{children:"DISTINCT \u53ef\u4ee5\u548c\u805a\u5408\u51fd\u6570 (\u901a\u5e38\u662f count) \u4e00\u540c\u4f7f\u7528\uff0ccount(distinct) \u7528\u4e8e\u8ba1\u7b97\u51fa\u4e00\u4e2a\u5217\u6216\u591a\u4e2a\u5217\u4e0a\u5305\u542b\u591a\u5c11\u4e0d\u540c\u7684\u7ec4\u5408\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"-- \u8ba1\u7b97\u4e00\u5217\u4e2d\u4e0d\u91cd\u590d\u503c\u7684\u4e2a\u6570\u3002\nselect count(distinct tiny_column) from small_table;\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"+-------------------------------+\n| count(DISTINCT 'tiny_column') |\n+-------------------------------+\n|             2                 |\n+-------------------------------+\n1 row in set (0.06 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"-- \u8ba1\u7b97\u591a\u5217\u4e2d\u4e0d\u91cd\u590d\u7ec4\u5408\u7684\u4e2a\u6570\u3002\nselect count(distinct tiny_column, int_column) from big_table limit 2;\n"})}),"\n",(0,s.jsx)(e.p,{children:"StarRocks \u652f\u6301\u591a\u4e2a\u805a\u5408\u51fd\u6570\u540c\u65f6\u4f7f\u7528 distinct\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-SQL",children:"-- \u5355\u72ec\u8fd4\u56de\u591a\u4e2a\u805a\u5408\u51fd\u6570\u53bb\u91cd\u540e\u7684\u4e2a\u6570\u3002\n\nselect count(distinct tiny_column, int_column), count(distinct varchar_column) from big_table;\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5b50\u67e5\u8be2",children:"\u5b50\u67e5\u8be2"}),"\n",(0,s.jsx)(e.p,{children:"\u5b50\u67e5\u8be2\u6309\u76f8\u5173\u6027\u53ef\u4ee5\u5206\u4e3a\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2\u548c\u76f8\u5173\u5b50\u67e5\u8be2\u3002"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2\uff08\u7b80\u5355\u67e5\u8be2\uff09\u4e0d\u4f9d\u8d56\u5916\u5c42\u67e5\u8be2\u7684\u7ed3\u679c\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u76f8\u5173\u5b50\u67e5\u8be2\u9700\u8981\u4f9d\u8d56\u5916\u5c42\u67e5\u8be2\u7684\u7ed3\u679c\u624d\u80fd\u6267\u884c\u3002"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2",children:"\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2"}),"\n",(0,s.jsx)(e.p,{children:"\u4e0d\u76f8\u5173\u5b50\u67e5\u8be2\u652f\u6301 [NOT] IN \u548c EXISTS\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT x FROM t1 WHERE x [NOT] IN (SELECT y FROM t2);\n\nSELECT * FROM t1 WHERE (x,y) [NOT] IN (SELECT x,y FROM t2 LIMIT 2);\n\nSELECT x FROM t1 WHERE EXISTS (SELECT y FROM t2 WHERE y = 1);\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u4ece 3.0 \u7248\u672c\u5f00\u59cb\uff0c",(0,s.jsx)(e.code,{children:"SELECT... FROM... WHERE... [NOT] IN"})," \u652f\u6301\u5728 WHERE \u4e2d\u6307\u5b9a\u591a\u4e2a\u5b57\u6bb5\u8fdb\u884c\u6bd4\u8f83\uff0c\u5373\u4e0a\u9762\u7b2c\u4e8c\u4e2a\u793a\u4f8b\u4e2d\u7684 ",(0,s.jsx)(e.code,{children:"WHERE (x,y)"})," \u7528\u6cd5\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"\u76f8\u5173\u5b50\u67e5\u8be2",children:"\u76f8\u5173\u5b50\u67e5\u8be2"}),"\n",(0,s.jsx)(e.p,{children:"\u76f8\u5173\u5b50\u67e5\u8be2\u652f\u6301 [NOT] IN \u548c [NOT] EXISTS\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT * FROM t1 WHERE x [NOT] IN (SELECT a FROM t2 WHERE t1.y = t2.b);\n\nSELECT * FROM t1 WHERE [NOT] EXISTS (SELECT a FROM t2 WHERE t1.y = t2.b);\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u5b50\u67e5\u8be2\u8fd8\u652f\u6301\u6807\u91cf\u5b50\u67e5\u8be2\u3002\u5206\u4e3a\u4e0d\u76f8\u5173\u6807\u91cf\u5b50\u67e5\u8be2\u3001\u76f8\u5173\u6807\u91cf\u5b50\u67e5\u8be2\u548c\u6807\u91cf\u5b50\u67e5\u8be2\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u7684\u53c2\u6570\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u4e0d\u76f8\u5173\u6807\u91cf\u5b50\u67e5\u8be2\uff0c\u8c13\u8bcd\u4e3a = \u53f7\u3002\u4f8b\u5982\u8f93\u51fa\u6700\u9ad8\u5de5\u8d44\u7684\u4eba\u7684\u4fe1\u606f\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT name FROM table WHERE salary = (SELECT MAX(salary) FROM table);\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u4e0d\u76f8\u5173\u6807\u91cf\u5b50\u67e5\u8be2\uff0c\u8c13\u8bcd\u4e3a >,< \u7b49\u3002\u4f8b\u5982\u8f93\u51fa\u6bd4\u5e73\u5747\u5de5\u8d44\u9ad8\u7684\u4eba\u7684\u4fe1\u606f\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT name FROM table WHERE salary > (SELECT AVG(salary) FROM table);\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u76f8\u5173\u6807\u91cf\u5b50\u67e5\u8be2\u3002\u4f8b\u5982\u8f93\u51fa\u5404\u4e2a\u90e8\u95e8\u5de5\u8d44\u6700\u9ad8\u7684\u4fe1\u606f\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT name FROM table a WHERE salary = \uff08SELECT MAX(salary) FROM table b WHERE b.\u90e8\u95e8= a.\u90e8\u95e8\uff09;\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u6807\u91cf\u5b50\u67e5\u8be2\u4f5c\u4e3a\u666e\u901a\u51fd\u6570\u7684\u53c2\u6570\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"SELECT name FROM table WHERE salary = abs((SELECT MAX(salary) FROM table));\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"where-\u4e0e\u64cd\u4f5c\u7b26",children:"WHERE \u4e0e\u64cd\u4f5c\u7b26"}),"\n",(0,s.jsx)(e.p,{children:"SQL \u64cd\u4f5c\u7b26\u662f\u4e00\u7cfb\u5217\u7528\u4e8e\u6bd4\u8f83\u7684\u51fd\u6570\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u7b26\u5e7f\u6cdb\u5730\u7528\u4e8e SELECT \u8bed\u53e5\u7684 WHERE \u5b50\u53e5\u4e2d\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"\u7b97\u6570\u64cd\u4f5c\u7b26",children:"\u7b97\u6570\u64cd\u4f5c\u7b26"}),"\n",(0,s.jsx)(e.p,{children:"\u7b97\u672f\u64cd\u4f5c\u7b26\u901a\u5e38\u51fa\u73b0\u5728\u5305\u542b\u5de6\u64cd\u4f5c\u6570\uff0c\u64cd\u4f5c\u7b26\u548c\u53f3\u64cd\u4f5c\u6570\uff08\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff09\u7ec4\u6210\u7684\u8868\u8fbe\u5f0f\u4e2d\u3002"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"+\u548c-"}),"\uff1a\u5206\u522b\u4ee3\u8868\u7740\u52a0\u6cd5\u548c\u51cf\u6cd5\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u5355\u5143\u6216 2 \u5143\u64cd\u4f5c\u7b26\u3002\u5f53\u5176\u4f5c\u4e3a\u5355\u5143\u64cd\u4f5c\u7b26\u65f6\uff0c\u5982+1, -2.5 \u6216\u8005-col_name\uff0c\u8868\u8fbe\u7684\u610f\u601d\u662f\u8be5\u503c\u4e58\u4ee5+1 \u6216\u8005-1\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u56e0\u6b64\u5355\u5143\u64cd\u4f5c\u7b26+\u8fd4\u56de\u7684\u662f\u672a\u53d1\u751f\u53d8\u5316\u7684\u503c\uff0c\u5355\u5143\u64cd\u4f5c\u7b26-\u6539\u53d8\u4e86\u8be5\u503c\u7684\u7b26\u53f7\u4f4d\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u7528\u6237\u53ef\u4ee5\u5c06\u4e24\u4e2a\u5355\u5143\u64cd\u4f5c\u7b26\u53e0\u52a0\u8d77\u6765\uff0c\u6bd4\u5982++5(\u8fd4\u56de\u7684\u662f\u6b63\u503c)\uff0c-+2 \u6216\u8005+-2\uff08\u8fd9\u4e24\u79cd\u60c5\u51b5\u8fd4\u56de\u7684\u662f\u8d1f\u503c\uff09\uff0c\u4f46\u662f\u7528\u6237\u4e0d\u80fd\u4f7f\u7528\u8fde\u7eed\u7684\u4e24\u4e2a-\u53f7\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u56e0\u4e3a--\u88ab\u89e3\u91ca\u4e3a\u540e\u9762\u7684\u8bed\u53e5\u662f\u6ce8\u91ca\uff08\u7528\u6237\u4e5f\u662f\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a-\u53f7\u7684\uff0c\u6b64\u65f6\u9700\u8981\u5728\u4e24\u4e2a-\u53f7\u4e4b\u95f4\u52a0\u4e0a\u7a7a\u683c\u6216\u5706\u62ec\u53f7\uff0c\u5982-(-2)\u6216\u8005- -2\uff0c\u8fd9\u4e24\u79cd\u5199\u6cd5\u5b9e\u9645\u8868\u8fbe\u7684\u7ed3\u679c\u90fd\u662f+2\uff09\u3002"}),"\n",(0,s.jsx)(e.p,{children:"+\u6216\u8005-\u4f5c\u4e3a 2 \u5143\u64cd\u4f5c\u7b26\u65f6\uff0c\u4f8b\u5982 2+2\uff0c3-1.5 \u6216\u8005 col1 + col2\uff0c\u8868\u8fbe\u7684\u542b\u4e49\u662f\u5de6\u503c\u52a0\u6216\u8005\u51cf\u53bb\u53f3\u503c\u3002\u5de6\u503c\u548c\u53f3\u503c\u5fc5\u987b\u90fd\u662f\u6570\u5b57\u7c7b\u578b\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["*",(0,s.jsx)(e.strong,{children:"\u548c/"}),"\uff1a\u5206\u522b\u4ee3\u8868\u7740\u4e58\u6cd5\u548c\u9664\u6cd5\u64cd\u4f5c\u7b26\u3002\u4e24\u4fa7\u7684\u64cd\u4f5c\u6570\u5fc5\u987b\u90fd\u662f\u6570\u636e\u7c7b\u578b\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u5f53\u4e24\u4e2a\u6570\u76f8\u4e58\u65f6\uff0c\u7c7b\u578b\u8f83\u5c0f\u7684\u64cd\u4f5c\u6570\u5728\u9700\u8981\u7684\u60c5\u51b5\u4e0b\u7c7b\u578b\u53ef\u80fd\u4f1a\u63d0\u5347\uff08\u6bd4\u5982 SMALLINT \u63d0\u5347\u5230 INT \u6216\u8005 BIGINT \u7b49\uff09\uff0c\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u88ab\u63d0\u5347\u5230\u4e0b\u4e00\u4e2a\u8f83\u5927\u7684\u7c7b\u578b\uff0c"}),"\n",(0,s.jsx)(e.p,{children:"\u6bd4\u5982 TINYINT \u4e58\u4ee5 INT \u4ea7\u751f\u7684\u7ed3\u679c\u7684\u7c7b\u578b\u4f1a\u662f BIGINT\uff09\u3002\u5f53\u4e24\u4e2a\u6570\u76f8\u4e58\u65f6\uff0c\u4e3a\u4e86\u907f\u514d\u7cbe\u5ea6\u4e22\u5931\uff0c\u64cd\u4f5c\u6570\u548c\u8868\u8fbe\u5f0f\u7ed3\u679c\u90fd\u4f1a\u88ab\u89e3\u91ca\u6210 DOUBLE \u7c7b\u578b\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u7528\u6237\u60f3\u628a\u8868\u8fbe\u5f0f\u7ed3\u679c\u8f6c\u6362\u6210\u5176\u4ed6\u7c7b\u578b\uff0c\u9700\u8981\u7528 CAST \u51fd\u6570\u8f6c\u6362\u3002"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"%"}),"\uff1a\u53d6\u6a21\u64cd\u4f5c\u7b26\u3002\u8fd4\u56de\u5de6\u64cd\u4f5c\u6570\u9664\u4ee5\u53f3\u64cd\u4f5c\u6570\u7684\u4f59\u6570\u3002\u5de6\u64cd\u4f5c\u6570\u548c\u53f3\u64cd\u4f5c\u6570\u90fd\u5fc5\u987b\u662f\u6574\u578b\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"&\uff0c|\u548c^"}),"\uff1a\u6309\u4f4d\u64cd\u4f5c\u7b26\u8fd4\u56de\u5bf9\u4e24\u4e2a\u64cd\u4f5c\u6570\u8fdb\u884c\u6309\u4f4d\u4e0e\uff0c\u6309\u4f4d\u6216\uff0c\u6309\u4f4d\u5f02\u6216\u64cd\u4f5c\u7684\u7ed3\u679c\u3002\u4e24\u4e2a\u64cd\u4f5c\u6570\u90fd\u8981\u6c42\u662f\u4e00\u79cd\u6574\u578b\u7c7b\u578b\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u6309\u4f4d\u64cd\u4f5c\u7b26\u7684\u4e24\u4e2a\u64cd\u4f5c\u6570\u7684\u7c7b\u578b\u4e0d\u4e00\u81f4\uff0c\u5219\u7c7b\u578b\u5c0f\u7684\u64cd\u4f5c\u6570\u4f1a\u88ab\u63d0\u5347\u5230\u7c7b\u578b\u8f83\u5927\u7684\u64cd\u4f5c\u6570\uff0c\u7136\u540e\u518d\u505a\u76f8\u5e94\u7684\u6309\u4f4d\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u5728 1 \u4e2a\u8868\u8fbe\u5f0f\u4e2d\u53ef\u4ee5\u51fa\u73b0\u591a\u4e2a\u7b97\u672f\u64cd\u4f5c\u7b26\uff0c\u7528\u6237\u53ef\u4ee5\u7528\u5c0f\u62ec\u53f7\u5c06\u76f8\u5e94\u7684\u7b97\u672f\u8868\u8fbe\u5f0f\u62ec\u8d77\u6765\u3002\u7b97\u672f\u64cd\u4f5c\u7b26\u901a\u5e38\u6ca1\u6709\u5bf9\u5e94\u7684\u6570\u5b66\u51fd\u6570\u6765\u8868\u8fbe\u548c\u7b97\u672f\u64cd\u4f5c\u7b26\u76f8\u540c\u7684\u529f\u80fd\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u6bd4\u5982\u6211\u4eec\u6ca1\u6709 MOD()\u51fd\u6570\u6765\u8868\u793a%\u64cd\u4f5c\u7b26\u7684\u529f\u80fd\u3002\u53cd\u8fc7\u6765\uff0c\u6570\u5b66\u51fd\u6570\u4e5f\u6ca1\u6709\u5bf9\u5e94\u7684\u7b97\u672f\u64cd\u4f5c\u7b26\u3002\u6bd4\u5982\u5e42\u51fd\u6570 POW()\u5e76\u6ca1\u6709\u76f8\u5e94\u7684 **\u6c42\u5e42\u64cd\u4f5c\u7b26\u3002"}),"\n",(0,s.jsx)(e.h4,{id:"between-\u64cd\u4f5c\u7b26",children:"BETWEEN \u64cd\u4f5c\u7b26"}),"\n",(0,s.jsx)(e.p,{children:"\u5728 where \u5b50\u53e5\u4e2d\uff0c\u8868\u8fbe\u5f0f\u53ef\u80fd\u540c\u65f6\u4e0e\u4e0a\u754c\u548c\u4e0b\u754c\u6bd4\u8f83\u3002\u5982\u679c\u8868\u8fbe\u5f0f\u5927\u4e8e\u7b49\u4e8e\u4e0b\u754c\uff0c\u540c\u65f6\u5c0f\u4e8e\u7b49\u4e8e\u4e0a\u754c\uff0c\u6bd4\u8f83\u7684\u7ed3\u679c\u662f true\u3002\u8bed\u6cd5\u5b9a\u4e49\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"expression BETWEEN lower_bound AND upper_bound\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u6570\u636e\u7c7b\u578b\uff1a\u901a\u5e38\u8868\u8fbe\u5f0f\uff08expression\uff09\u7684\u8ba1\u7b97\u7ed3\u679c\u90fd\u662f\u6570\u5b57\u7c7b\u578b\uff0c\u8be5\u64cd\u4f5c\u7b26\u4e5f\u652f\u6301\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u3002\u5982\u679c\u5fc5\u987b\u8981\u786e\u4fdd\u4e0b\u754c\u548c\u4e0a\u754c\u90fd\u662f\u53ef\u6bd4\u8f83\u7684\u5b57\u7b26\uff0c\u53ef\u4ee5\u4f7f\u7528 cast()\u51fd\u6570\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["\u4f7f\u7528\u8bf4\u660e\uff1a\u5982\u679c\u64cd\u4f5c\u6570\u662f string \u7c7b\u578b\u5e94\u6ce8\u610f\uff0c\u8d77\u59cb\u90e8\u5206\u4e3a\u4e0a\u754c\u7684\u957f\u5b57\u7b26\u4e32\u5c06\u4e0d\u4f1a\u5339\u914d\u4e0a\u754c\uff0c\u8be5\u5b57\u7b26\u4e32\u6bd4\u4e0a\u754c\u8981\u5927\u3002\u4f8b\u5982\uff1a\u2018MJ\u2019\u6bd4\u2018M\u2019\u5927\uff0c\u6240\u4ee5 ",(0,s.jsx)(e.code,{children:"between 'A' and 'M'"})," \u4e0d\u4f1a\u5339\u914d\u2018MJ\u2019\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u9700\u8981\u786e\u4fdd\u8868\u8fbe\u5f0f\u80fd\u591f\u6b63\u5e38\u5de5\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u51fd\u6570\uff0c\u5982 upper(), lower(), substr(), trim()\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select c1 from t1 where month between 1 and 6;\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u6bd4\u8f83\u64cd\u4f5c\u7b26",children:"\u6bd4\u8f83\u64cd\u4f5c\u7b26"}),"\n",(0,s.jsxs)(e.p,{children:["\u6bd4\u8f83\u64cd\u4f5c\u7b26\u7528\u6765\u5224\u65ad\u5217\u548c\u5217\u662f\u5426\u76f8\u7b49\u6216\u8005\u5bf9\u5217\u8fdb\u884c\u6392\u5e8f\u3002",(0,s.jsx)(e.code,{children:"="}),", ",(0,s.jsx)(e.code,{children:"!="}),", ",(0,s.jsx)(e.code,{children:"<="}),", ",(0,s.jsx)(e.code,{children:">="})," \u53ef\u4ee5\u9002\u7528\u6240\u6709\u6570\u636e\u7c7b\u578b\u3002"]}),"\n",(0,s.jsxs)(e.p,{children:["\u5176\u4e2d ",(0,s.jsx)(e.code,{children:"<>"})," \u7b26\u53f7\u662f\u4e0d\u7b49\u4e8e\u7684\u610f\u601d\uff0c\u4e0e ",(0,s.jsx)(e.code,{children:"!="})," \u7684\u529f\u80fd\u4e00\u81f4\u3002IN \u548c BETWEEN \u64cd\u4f5c\u7b26\u63d0\u4f9b\u66f4\u7b80\u77ed\u7684\u8868\u8fbe\u6765\u63cf\u8ff0\u76f8\u7b49\u3001\u5c0f\u4e8e\u3001\u5927\u4e8e\u7b49\u5173\u7cfb\u7684\u6bd4\u8f83\u3002"]}),"\n",(0,s.jsx)(e.h4,{id:"in-\u64cd\u4f5c\u7b26",children:"In \u64cd\u4f5c\u7b26"}),"\n",(0,s.jsx)(e.p,{children:"In \u64cd\u4f5c\u7b26\u4f1a\u548c VALUE \u96c6\u5408\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u53ef\u4ee5\u5339\u914d\u8be5\u96c6\u5408\u4e2d\u4efb\u4f55\u4e00\u5143\u7d20\uff0c\u5219\u8fd4\u56de TRUE\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u53c2\u6570\u548c VALUE \u96c6\u5408\u5fc5\u987b\u662f\u53ef\u6bd4\u8f83\u7684\u3002\u6240\u6709\u4f7f\u7528 IN \u64cd\u4f5c\u7b26\u7684\u8868\u8fbe\u5f0f\u90fd\u53ef\u4ee5\u5199\u6210\u7528 OR \u8fde\u63a5\u7684\u7b49\u503c\u6bd4\u8f83\uff0c\u4f46\u662f IN \u7684\u8bed\u6cd5\u66f4\u7b80\u5355\uff0c\u66f4\u7cbe\u51c6\uff0c\u66f4\u5bb9\u6613\u8ba9 StarRocks \u8fdb\u884c\u4f18\u5316\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select * from small_table where tiny_column in (1,2);\n"})}),"\n",(0,s.jsx)(e.h4,{id:"like-\u64cd\u4f5c\u7b26",children:"Like \u64cd\u4f5c\u7b26"}),"\n",(0,s.jsx)(e.p,{children:'\u8be5\u64cd\u4f5c\u7b26\u7528\u4e8e\u548c\u5b57\u7b26\u4e32\u8fdb\u884c\u6bd4\u8f83\u3002"_"\u7528\u6765\u5339\u914d\u5355\u4e2a\u5b57\u7b26\uff0c"%"\u7528\u6765\u5339\u914d\u591a\u4e2a\u5b57\u7b26\u3002\u53c2\u6570\u5fc5\u987b\u8981\u5339\u914d\u5b8c\u6574\u7684\u5b57\u7b26\u4e32\u3002\u901a\u5e38\uff0c\u628a"%" \u653e\u5728\u5b57\u7b26\u4e32\u7684\u5c3e\u90e8\u66f4\u52a0\u7b26\u5408\u5b9e\u9645\u7528\u6cd5\u3002'}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from small_table where varchar_column like 'm%';\n\n+----------------+\n|varchar_column  |\n+----------------+\n|     milan      |\n+----------------+\n\n1 row in set (0.02 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from small_table where varchar_column like 'm____';\n\n+----------------+\n| varchar_column | \n+----------------+\n|    milan       | \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u903b\u8f91\u64cd\u4f5c\u7b26",children:"\u903b\u8f91\u64cd\u4f5c\u7b26"}),"\n",(0,s.jsx)(e.p,{children:"\u903b\u8f91\u64cd\u4f5c\u7b26\u8fd4\u56de\u4e00\u4e2a BOOL \u503c\uff0c\u903b\u8f91\u64cd\u4f5c\u7b26\u5305\u62ec\u5355\u5143\u64cd\u4f5c\u7b26\u548c\u591a\u5143\u64cd\u4f5c\u7b26\uff0c\u6bcf\u4e2a\u64cd\u4f5c\u7b26\u5904\u7406\u7684\u53c2\u6570\u90fd\u662f\u8fd4\u56de\u503c\u4e3a BOOL \u503c\u7684\u8868\u8fbe\u5f0f\u3002\u652f\u6301\u7684\u64cd\u4f5c\u7b26\u6709\uff1a"}),"\n",(0,s.jsx)(e.p,{children:"AND: 2 \u5143\u64cd\u4f5c\u7b26\uff0c\u5982\u679c\u5de6\u4fa7\u548c\u53f3\u4fa7\u7684\u53c2\u6570\u7684\u8ba1\u7b97\u7ed3\u679c\u90fd\u662f TRUE\uff0c\u5219 AND \u64cd\u4f5c\u7b26\u8fd4\u56de TRUE\u3002"}),"\n",(0,s.jsx)(e.p,{children:"OR: 2 \u5143\u64cd\u4f5c\u7b26\uff0c\u5982\u679c\u5de6\u4fa7\u548c\u53f3\u4fa7\u7684\u53c2\u6570\u7684\u8ba1\u7b97\u7ed3\u679c\u6709\u4e00\u4e2a\u4e3a TRUE\uff0c\u5219 OR \u64cd\u4f5c\u7b26\u8fd4\u56de TRUE\u3002\u5982\u679c\u4e24\u4e2a\u53c2\u6570\u90fd\u662f FALSE\uff0c\u5219 OR \u64cd\u4f5c\u7b26\u8fd4\u56de FALSE\u3002"}),"\n",(0,s.jsx)(e.p,{children:"NOT: \u5355\u5143\u64cd\u4f5c\u7b26\uff0c\u53cd\u8f6c\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002\u5982\u679c\u53c2\u6570\u4e3a TRUE\uff0c\u5219\u8be5\u64cd\u4f5c\u7b26\u8fd4\u56de FALSE\uff1b\u5982\u679c\u53c2\u6570\u4e3a FALSE\uff0c\u5219\u8be5\u64cd\u4f5c\u7b26\u8fd4\u56de TRUE\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select true and true;\n\n+-------------------+\n| (TRUE) AND (TRUE) | \n+-------------------+\n|         1         | \n+-------------------+\n\n1 row in set (0.00 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select true and false;\n\n+--------------------+\n| (TRUE) AND (FALSE) | \n+--------------------+\n|         0          | \n+--------------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select true or false;\n\n+-------------------+\n| (TRUE) OR (FALSE) | \n+-------------------+\n|        1          | \n+-------------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select not true;\n\n+----------+\n| NOT TRUE | \n+----------+\n|     0    | \n+----------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.h4,{id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u7b26",children:"\u6b63\u5219\u8868\u8fbe\u5f0f\u64cd\u4f5c\u7b26"}),"\n",(0,s.jsx)(e.p,{children:"\u5224\u65ad\u662f\u5426\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u4f7f\u7528 POSIX \u6807\u51c6\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002"}),"\n",(0,s.jsx)(e.p,{children:'"^" \u7528\u6765\u5339\u914d\u5b57\u7b26\u4e32\u7684\u9996\u90e8\uff0c"$" \u7528\u6765\u5339\u914d\u5b57\u7b26\u4e32\u7684\u5c3e\u90e8\uff0c"." \u5339\u914d\u4efb\u4f55\u4e00\u4e2a\u5355\u5b57\u7b26\uff0c"*"\u5339\u914d 0 \u4e2a\u6216\u591a\u4e2a\u9009\u9879\uff0c"+"\u5339\u914d 1 \u4e2a\u591a\u4e2a\u9009\u9879\uff0c"?" \u8868\u793a\u5206\u8d2a\u5a6a\u8868\u793a\u7b49\u7b49\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u9700\u8981\u5339\u914d\u5b8c\u6574\u7684\u503c\uff0c\u5e76\u4e0d\u662f\u4ec5\u4ec5\u5339\u914d\u5b57\u7b26\u4e32\u7684\u90e8\u5206\u5185\u5bb9\u3002'}),"\n",(0,s.jsxs)(e.p,{children:['\u5982\u679c\u60f3\u5339\u914d\u4e2d\u95f4\u7684\u90e8\u5206\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u524d\u9762\u90e8\u5206\u53ef\u4ee5\u5199\u6210 "^.',(0,s.jsx)(e.em,{children:'" \u6216\u8005".'}),'"\u3002"^" \u548c "$" \u901a\u5e38\u662f\u53ef\u4ee5\u7701\u7565\u7684\u3002RLIKE \u64cd\u4f5c\u7b26\u548c REGEXP \u64cd\u4f5c\u7b26\u662f\u540c\u4e49\u8bcd\u3002']}),"\n",(0,s.jsx)(e.p,{children:'"|" \u64cd\u4f5c\u7b26\u662f\u4e2a\u53ef\u9009\u64cd\u4f5c\u7b26\uff0c"|" \u4e24\u4fa7\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u53ea\u9700\u6ee1\u8db3 1 \u4fa7\u6761\u4ef6\u5373\u53ef\uff0c"|" \u64cd\u4f5c\u7b26\u548c\u4e24\u4fa7\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u901a\u5e38\u9700\u8981\u7528()\u62ec\u8d77\u6765\u3002'}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from small_table where varchar_column regexp '(mi|MI).*';\n\n+----------------+\n| varchar_column | \n+----------------+\n|     milan      |       \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"mysql> select varchar_column from small_table where varchar_column regexp 'm.*';\n\n+----------------+\n| varchar_column | \n+----------------+\n|     milan      |  \n+----------------+\n\n1 row in set (0.01 sec)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u522b\u540d-alias",children:"\u522b\u540d (alias)"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u67e5\u8be2\u4e2d\u4e66\u5199\u8868\u540d\u3001\u5217\u540d\uff0c\u6216\u8005\u5305\u542b\u5217\u7684\u8868\u8fbe\u5f0f\u7684\u540d\u5b57\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7 AS \u7ed9\u5b83\u4eec\u5206\u914d\u4e00\u4e2a\u522b\u540d\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["\u5f53\u9700\u8981\u4f7f\u7528\u8868\u540d\u3001\u5217\u540d\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u6765\u8bbf\u95ee\u3002\u522b\u540d\u901a\u5e38\u76f8\u5bf9\u539f\u540d\u6765\u8bf4\u66f4\u7b80\u77ed\u66f4\u5bb9\u6613\u8bb0\u5fc6\u3002\u5f53\u9700\u8981\u65b0\u5efa\u4e00\u4e2a\u522b\u540d\u65f6\uff0c\u53ea\u9700\u5728 select list \u6216\u8005 from list \u4e2d\u7684\u8868\u3001\u5217\u3001\u8868\u8fbe\u5f0f\u540d\u79f0\u540e\u9762\u52a0\u4e0a AS alias \u5b50\u53e5\u5373\u53ef\u3002AS \u5173\u952e\u8bcd\u662f\u53ef\u9009\u7684\uff0c\u7528\u6237\u53ef\u4ee5\u76f4\u63a5\u5728\u539f\u540d\u540e\u9762\u6307\u5b9a\u522b\u540d\u3002\u5982\u679c\u522b\u540d\u6216\u8005\u5176\u4ed6\u6807\u5fd7\u7b26\u548c ",(0,s.jsx)(e.a,{href:"/doc/zh/3.0/sql-reference/sql-statements/keywords",children:"StarRocks \u5185\u90e8\u4fdd\u7559\u5173\u952e\u5b57"}),"\u540c\u540d\u65f6\uff0c\u9700\u8981\u5728\u8be5\u540d\u79f0\u52a0\u4e0a\u53cd\u5f15\u53f7\uff0c\u6bd4\u5982 ",(0,s.jsx)(e.code,{children:"rank"}),"\u3002",(0,s.jsx)(e.strong,{children:"\u522b\u540d\u5bf9\u5927\u5c0f\u5199\u654f\u611f"}),"\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u793a\u4f8b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-sql",children:"select tiny_column as name, int_column as sex from big_table;\n\nselect sum(tiny_column) as total_count from big_table;\n\nselect one.tiny_column, two.int_column from small_table one, big_table two where one.tiny_column = two.tiny_column;\n"})})]})}const o=function(n={}){const{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(h,n)})):h(n)}},11151:(n,e,l)=>{l.d(e,{Zo:()=>d,ah:()=>c});var s=l(67294);const i=s.createContext({});function c(n){const e=s.useContext(i);return s.useMemo((()=>"function"==typeof n?n(e):{...e,...n}),[e,n])}const r={};function d({components:n,children:e,disableParentContext:l}){let d;return d=l?"function"==typeof n?n({}):n||r:c(n),s.createElement(i.Provider,{value:d},e)}}}]);