<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-3.1 docs-doc-page docs-doc-id-administration/stargo" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-beta.0">
<title data-rh="true">使用 StarGo 部署管理 StarRocks | StarRocks</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://danroscigno.github.io/docusaurusv3/zh/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://danroscigno.github.io/docusaurusv3/zh/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://danroscigno.github.io/docusaurusv3/zh/docs/administration/stargo"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="3.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.1"><meta data-rh="true" name="docsearch:version" content="3.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.1"><meta data-rh="true" property="og:title" content="使用 StarGo 部署管理 StarRocks | StarRocks"><meta data-rh="true" name="description" content="本文介绍如何使用 StarGo 部署管理 StarRocks 集群。"><meta data-rh="true" property="og:description" content="本文介绍如何使用 StarGo 部署管理 StarRocks 集群。"><link data-rh="true" rel="icon" href="/docusaurusv3/zh/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://danroscigno.github.io/docusaurusv3/zh/docs/administration/stargo"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/docusaurusv3/docs/administration/stargo" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/docusaurusv3/zh/docs/administration/stargo" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://danroscigno.github.io/docusaurusv3/docs/administration/stargo" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ER08SJMRY1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="StarRocks" href="/docusaurusv3/zh/opensearch.xml"><link rel="stylesheet" href="/docusaurusv3/zh/assets/css/styles.62f01ed5.css">
<script src="/docusaurusv3/zh/assets/js/runtime~main.160ff703.js" defer="defer"></script>
<script src="/docusaurusv3/zh/assets/js/main.cfe0a515.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.starrocks.io/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docusaurusv3/zh/img/logo.svg" alt="StarRocks Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docusaurusv3/zh/img/logo.svg" alt="StarRocks Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">StarRocks</b></a><a class="navbar__item navbar__link" href="/docusaurusv3/zh/docs/introduction/StarRocks_intro">Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docusaurusv3/zh/docs/introduction/StarRocks_intro">3.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docusaurusv3/zh/docs/next/examples/introduction">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docusaurusv3/zh/docs/administration/stargo">3.1</a></li><li><a class="dropdown__link" href="/docusaurusv3/zh/docs/3.0/administration/stargo">3.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docusaurusv3/docs/administration/stargo" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/docusaurusv3/zh/docs/administration/stargo" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/StarRocks/starrocks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><span class="theme-doc-version-badge badge badge--secondary">版本：3.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>使用 StarGo 部署管理 StarRocks</h1>
<p>本文介绍如何使用 StarGo 部署管理 StarRocks 集群。</p>
<blockquote>
<p><strong>说明</strong></p>
<p><strong>目前 StarGo 正在由社区改造优化，建议使用社区的<a href="https://forum.mirrorship.cn/t/topic/4945" target="_blank" rel="noopener noreferrer">最新版本</a>进行集群部署。因改造过程中迭代较快，功能调整较为频繁，故待社区改造工作基本完成后，本文再进行最终的更新。</strong></p>
</blockquote>
<p><strong>下文为基于旧版本的部署操作，目前不再建议使用</strong>。</p>
<p>StarGo 是一个用于管理多个 StarRocks 集群的命令行工具。通过 StarGo，您可以使用简单的命令行实现多集群的部署、查看、升级、启动与停止等操作。该工具从 2.3 版本开始支持。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署-stargo">部署 StarGo<a href="#部署-stargo" class="hash-link" aria-label="部署 StarGo的直接链接" title="部署 StarGo的直接链接">​</a></h2>
<p>在当前用户路径下下载并解压 StarGo 二进制安装包。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://raw.githubusercontent.com/wangtianyi2004/starrocks-controller/main/stargo-pkg.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -xzvf stargo-pkg.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>安装包包含以下文件。</p>
<ul>
<li><strong>stargo</strong>：StarGo 二进制文件，无需安装。</li>
<li><strong>deploy-template.yaml</strong>：部署配置文件模板。</li>
<li><strong>repo.yaml</strong>：指定 StarRocks 安装包下载库的配置文件。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署集群">部署集群<a href="#部署集群" class="hash-link" aria-label="部署集群的直接链接" title="部署集群的直接链接">​</a></h2>
<p>您可以使用 StarGo 部署 StarRocks 集群。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="前提条件">前提条件<a href="#前提条件" class="hash-link" aria-label="前提条件的直接链接" title="前提条件的直接链接">​</a></h3>
<ul>
<li>待部署集群至少需要一个中控机节点和三个部署机节点，所有节点可以混合部署于同一台机器。</li>
<li>中控机上需部署 StarGo。</li>
<li>中控机与部署机间需创建 SSH 互信。</li>
</ul>
<p>以下示例创建了中控机 sr-dev@r0 与部署机 starrocks@r1、starrocks@r2 以及 starrocks@r3 间的 SSH 互信。</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">## 创建 sr-dev@r0 到 starrocks@r1、r2、r3 的 ssh 互信。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-keygen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-copy-id starrocks@r1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-copy-id starrocks@r2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh-copy-id starrocks@r3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## 验证 sr-dev@r0 到 starrocks@r1、r2、r3 的 ssh 互信。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh starrocks@r1 date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh starrocks@r2 date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ssh starrocks@r3 date</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建配置文件">创建配置文件<a href="#创建配置文件" class="hash-link" aria-label="创建配置文件的直接链接" title="创建配置文件的直接链接">​</a></h3>
<p>根据以下 YAML 模板，创建部署 StarRocks 集群的拓扑文件。具体配置  项参考<a href="/docusaurusv3/zh/docs/administration/Configuration">参数配置</a>。</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;starrocks&quot;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># 请修改为当前操作系统用户。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">fe_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># 当机器有多个 IP 时，请在当前配置项中为当前节点指定唯一 IP。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># 当机器有多个 IP 时，在当前配置项中为当前节点指定唯一 IP。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># 当机器有多个 IP 时，在当前配置项中为当前节点指定唯一 IP。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">be_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">webserver_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># 当机器有多个 IP 时，在当前配置项中为当前节点指定唯一 IP。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">webserver_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># 当机器有多个 IP 时，在当前配置项中为当前节点指定唯一 IP。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">webserver_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.XX.XX/24 </span><span class="token comment" style="color:#999988;font-style:italic"># 当机器有多个 IP 时，在当前配置项中为当前节点指定唯一 IP。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建部署目录可选">创建部署目录（可选）<a href="#创建部署目录可选" class="hash-link" aria-label="创建部署目录（可选）的直接链接" title="创建部署目录（可选）的直接链接">​</a></h3>
<p>如果您在配置文件中设定的部署路径不存在，且您有创建该路径的权限，StarGo 将根据配置文件自动创建部署目录。如果路径已存在，请确保您有在该路径下拥有写入的权限。您也可以通过以下命令，在各部署节点分别创建部署路径。</p>
<ul>
<li>在 FE 节点安装目录下上创建 <strong>meta</strong> 路径。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/fe/meta</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>在 BE 节点安装目录下上创建 <strong>storage</strong> 路径。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/be/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>注意</p>
<p>请确保以上创建的路径与配置文件中的 <code>meta_dir</code> 和 <code>storage_dir</code> 相同。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署-starrocks">部署 StarRocks<a href="#部署-starrocks" class="hash-link" aria-label="部署 StarRocks的直接链接" title="部署 StarRocks的直接链接">​</a></h3>
<p>通过以下命令部署 StarRocks 集群。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster deploy </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">version</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">topology_file</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>cluster_name</td><td>创建的集群名</td></tr><tr><td>version</td><td>StarRocks 的版本</td></tr><tr><td>topology_file</td><td>配置文件名</td></tr></tbody></table>
<p>创建成功后，集群将会自动启动。当返回 beStatus 和feStatus 为 true 时，集群部署启动成功。</p>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ./stargo cluster deploy sr-c1 v2.0.1 sr-c1.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234817  OUTPUT] Deploy cluster [clusterName = sr-c1, clusterVersion = v2.0.1, metaFile = sr-c1.yaml]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234836  OUTPUT] PRE CHECK DEPLOY ENV:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck FE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         meta dir                   deploy dir                 http port        rpc port         query port       edit log port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  -------------------------  -------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck BE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         storage dir                deploy dir                 webSer port      heartbeat port   brpc port        be port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  -------------------------  -------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                       PASS                       PASS             PASS             PASS             PASS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234836  OUTPUT] PreCheck successfully. RESPECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234836  OUTPUT] Create the deploy folder ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220301-234838  OUTPUT] Download StarRocks package &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000515    INFO] The file starrocks-2.0.1-quickstart.tar.gz [1227406189] download successfully</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000515  OUTPUT] Download done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000515  OUTPUT] Decompress StarRocks pakcage &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000520    INFO] The tar file /home/sr-dev/.starrocks-controller/download/starrocks-2.0.1-quickstart.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000547    INFO] The tar file /home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000556    INFO] The tar file /home/sr-dev/.starrocks-controller/download/jdk-8u301-linux-x64.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000556  OUTPUT] Distribute FE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000603    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000615    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000615    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000622    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000634    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000634    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000640    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000652    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000652    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000652  OUTPUT] Distribute BE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000728    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000752    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000815    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000815  OUTPUT] Modify configuration for FE nodes &amp; BE nodes ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000816    INFO] Starting leader FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000836    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000836    INFO] Starting follower FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000857    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000857    INFO] Starting follower FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000918    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000918    INFO] List all FE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000918    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000939    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-000939    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001000    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001000    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001020    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-001020  OUTPUT] List all BE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>您可以通过<a href="#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E9%9B%86%E7%BE%A4%E4%BF%A1%E6%81%AF">查看指定集群信息</a> 查看各节点是否部署成功。</p>
<p>您也可以通过连接 MySQL 客户端测试集群是否部署成功。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mysql -h </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1 -P9030 -uroot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="查看集群信息">查看集群信息<a href="#查看集群信息" class="hash-link" aria-label="查看集群信息的直接链接" title="查看集群信息的直接链接">​</a></h2>
<p>您可以通过 StarGo 查看其管理的集群信息。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看所有集群信息">查看所有集群信息<a href="#查看所有集群信息" class="hash-link" aria-label="查看所有集群信息的直接链接" title="查看所有集群信息的直接链接">​</a></h3>
<p>通过以下命令查看其管理的所有集群信息。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">sr-dev@r0 ~</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ ./stargo cluster list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">20220302</span><span class="token plain">-001640  OUTPUT</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      User        CreateDate                 MetaPath                                                      PrivateKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-c1            starrocks   </span><span class="token number" style="color:#36acaa">2022</span><span class="token plain">-03-02 00:08:15        /home/sr-dev/.starrocks-controller/cluster/sr-c1              /home/sr-dev/.ssh/id_rsa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看指定集群信息">查看指定集群信息<a href="#查看指定集群信息" class="hash-link" aria-label="查看指定集群信息的直接链接" title="查看指定集群信息的直接链接">​</a></h3>
<p>通过以下命令查看指定集群的信息。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster display </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@r0 ~]$ ./stargo cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-002310  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="启动集群">启动集群<a href="#启动集群" class="hash-link" aria-label="启动集群的直接链接" title="启动集群的直接链接">​</a></h2>
<p>您可以通过 StarGo 启动其管理的集群。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动 集群所有节点">启动集群所有节点<a href="#启动集群所有节点" class="hash-link" aria-label="启动集群所有节点的直接链接" title="启动集群所有节点的直接链接">​</a></h3>
<p>通过以下命令启动特定集群所有节点。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster-name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./stargo cluster start sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190404  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190404    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190435    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190446    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190457    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190458    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-190458    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动集群中特定角色节点">启动集群中特定角色节点<a href="#启动集群中特定角色节点" class="hash-link" aria-label="启动集群中特定角色节点的直接链接" title="启动集群中特定角色节点的直接链接">​</a></h3>
<ul>
<li>通过以下命令启动特  定集群中 FE 节点。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role FE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>通过以下命令启动特定集群中 BE 节点。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role BE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复  制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./stargo cluster start sr-c1 --role FE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191529  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191529    INFO] Starting FE cluster ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191529    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191600    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-191610    INFO] Starting FE node [FeHost = 192.168.xx.xx, EditLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./stargo cluster start sr-c1 --role BE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194215  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194215    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194216    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194217    INFO] Starting BE node [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194217    INFO] Starting BE cluster ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动集群中特定节点">启动集群中特定节点<a href="#启动集群中特定节点" class="hash-link" aria-label="启动集群中特定节点的直接链接" title="启动集群中特定节点的直接链接">​</a></h3>
<p>通过以下命令启动集群的某一个节点。目前只支持启动 BE 的节点。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster start </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --node </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_ID</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>您可以通过<a href="#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E9%9B%86%E7%BE%A4%E4%BF%A1%E6%81%AF">查看指定集群信息</a>查看集群中特定节点的 ID。</p>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./stargo cluster start sr-c1 --node 192.168.xx.xx:9060</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194714  OUTPUT] Start cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-194714    INFO] Start BE node. [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="停止集群">停止集群<a href="#停止集群" class="hash-link" aria-label="停止集群的直接链接" title="停止集群的直接链接">​</a></h2>
<p>您可以通过 StarGo 停止其管理的集群。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="停止集群所有节点">停止集群所有节点<a href="#停止集群所有节点" class="hash-link" aria-label="停止集群所有节点的直接链接" title="停止集群所有节点的直接链接">​</a></h3>
<p>通过以下命令停止特定集群所有节点。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster stop sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180140  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180140  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180140    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180143  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180143    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180145  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180145    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180148    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180149    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180149    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180149    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="停止集群中特定角色节点">停止集群中特定角色节点<a href="#停止集群中特定角色节点" class="hash-link" aria-label="停止集群中特定角色节点的直接链接" title="停止集群中特定角色节点的直接链接">​</a></h3>
<ul>
<li>通过以下命令停止特定集群中 FE 节点。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role FE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>通过以下命令停止特定集群中 BE 节点。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --role BE</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster stop sr-c1 --role BE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180624    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] The BE node stop succefully [BeHost = 192.168.xx.xx, HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180625    INFO] Stopping BE cluster ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">###########################################################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster stop sr-c1 --role FE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849    INFO] Stopping FE cluster ....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849  OUTPUT] Stop cluster sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180849    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180851  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180851    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180854  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180854    INFO] Waiting for stoping FE node [FeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220302-180856  OUTPUT] The FE node stop succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="停止集群中特定节点">停止集群中特定节点<a href="#停止集群中特定节点" class="hash-link" aria-label="停止集群中特定节点的直接链接" title="停止集群中特定节点的直接链接">​</a></h3>
<p>通过以下命令停止集群的某一个节点。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster stop </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --node </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_ID</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>您可以通过<a href="#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E9%9B%86%E7%BE%A4%E4%BF%A1%E6%81%AF">查看指定集群信息</a>查看集群中特定节点的 ID。</p>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./stargo cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185400  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185400    WARN] All FE nodes are down, please start FE node and display the cluster status again.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        DOWN        StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        DOWN        StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        DOWN        StarRocks/fe                                   /dataStarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        DOWN        StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        DOWN        StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        DOWN        StarRocks/be                                   /dataStarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./stargo cluster stop sr-c1 --node 192.168.xx.xx:9060</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185510  OUTPUT] Stop cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185510    INFO] Stopping BE node. [BeHost = 192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220303-185510    INFO] Waiting for stoping BE node [BeHost = 192.168.xx.xx]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="扩容集群">扩容集群<a href="#扩容集群" class="hash-link" aria-label="扩容集群的直接链接" title="扩容集群的直接链接">​</a></h2>
<p>您可以通过 StarGo 扩容其管理的集群。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建配置文件-1">创建配置文件<a href="#创建配置文件-1" class="hash-link" aria-label="创建配置文件的直接链接" title="创建配置文件的直接链接">​</a></h3>
<p>根据以下 YAML 模板，创建扩容 StarRocks 集群的拓扑文件。您可以根据需求配置 相应的 EF 和/或 BE 节点。具体配置项参考<a href="/docusaurusv3/zh/docs/administration/Configuration">参数配置</a>。</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 扩容 FE 节点。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">fe_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.xx.xx </span><span class="token comment" style="color:#999988;font-style:italic"># 扩容 FE 节点的 IP 地址。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">http_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">query_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9030</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">edit_log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9010</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">meta_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/fe/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">priority_networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.xx.xx/24 </span><span class="token comment" style="color:#999988;font-style:italic"># 当机器有多个 IP 时，在当前配置项中为当前节点指定唯一 IP。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_level</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;INFO&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">sys_log_delete_age</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1d&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 扩容 BE 节点。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">be_servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 192.168.xx.xx </span><span class="token comment" style="color:#999988;font-style:italic"># 扩容 BE 节点的 IP 地址。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ssh_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">be_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">webserver_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8040</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">heartbeat_service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9050</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">brpc_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">deploy_dir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">log_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StarRocks/be/log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">create_tablet_worker_count</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建-ssh-互信">创建 SSH 互信<a href="#创建-ssh-互信" class="hash-link" aria-label="创建 SSH 互信的直接链接" title="创建 SSH 互信的直接链接">​</a></h3>
<p>如果扩容节点是新节点，您需要为其配置 SSH 节点互信。详细详细操作参考<a href="#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6">前提条件</a>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建部署目录可选-1">创建部署目录（可选）<a href="#创建部署目录可选-1" class="hash-link" aria-label="创建部署目录（可选）的直接链接" title="创建部署目录（可选）的直接链接">​</a></h3>
<p>如果您在配置文件中设定的部署路径不存在，且您有创建该路径的权限，StarGo 将根据配置文件自动创建部署目录。如果路径已存在，请确保您有在该路径下拥有写入的权限。您也可以通过以下命令，在各部署节点分别创建部署路径。</p>
<ul>
<li>在新增 FE 节点安装目录下上创建 <strong>meta</strong> 路径。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/fe/meta</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>在新增 BE 节点安装目录下上创建 <strong>storage</strong> 路径。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p StarRocks/be/storage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>注意</p>
<p>请确保以上创建的路径与配置文件中的 <code>meta_dir</code> 和 <code>storage_dir</code> 相同。</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="扩容-starrocks-集群">扩容 StarRocks 集群<a href="#扩容-starrocks-集群" class="hash-link" aria-label="扩容 StarRocks 集群的直接链接" title="扩容 StarRocks 集群的直接链接">​</a></h3>
<p>通过以下命令扩容集群。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster scale-out </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">topology_file</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 当前集群状态。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@nd1 sr-controller]# ./stargo cluster display sr-test       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-210047  OUTPUT] Display cluster [clusterName = sr-test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = v2.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          /opt/starrocks-test/fe                              /opt/starrocks-test/fe/meta                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          /opt/starrocks-test/be                              /opt/starrocks-test/be/storage                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 扩容集群。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster scale-out sr-test sr-out.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213725  OUTPUT] Scale out cluster. [ClusterName = sr-test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213731  OUTPUT] PRE CHECK DEPLOY ENV:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck FE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         meta dir                        deploy dir                      http port        rpc port         query port       edit log port  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  ------------------------------  ------------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                            PASS                            PASS             PASS             PASS             PASS           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PreCheck BE:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IP                    ssh auth         storage dir                     deploy dir                      webSer port      heartbeat port   brpc port        be port        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------  ---------------  ------------------------------  ------------------------------  ---------------  ---------------  ---------------  ---------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx         PASS             PASS                            PASS                            PASS             PASS             PASS             PASS           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213731  OUTPUT] PreCheck successfully. RESPECT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213731  OUTPUT] Create the deploy folder ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732  OUTPUT] Download StarRocks package &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732    INFO] The package has already exist [fileName = starrocks-2.0.1-quickstart.tar.gz, fileSize = 1227406189, fileModTime = 2022-05-03 17:32:03.478661923 +0800 CST]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732  OUTPUT] Download done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213732  OUTPUT] Decompress StarRocks pakcage &amp; jdk ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213741    INFO] The tar file /home/sr-dev/.starrocks-controller/download/starrocks-2.0.1-quickstart.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213837    INFO] The tar file /home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213837    INFO] The tar file /home/sr-dev/.starrocks-controller/download/jdk-8u301-linux-x64.tar.gz has been decompressed under /home/sr-dev/.starrocks-controller/download</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213837  OUTPUT] Distribute FE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213845    INFO] Upload dir feSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/fe] to feTargetDir = [StarRocks/fe] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213857    INFO] Upload dir JDKSourceDir = [/home/sr-dev/.starrocks-controller/download/jdk1.8.0_301] to JDKTargetDir = [StarRocks/fe/jdk] on FeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213857    INFO] Modify JAVA_HOME: host = [192.168.xx.xx], filePath = [StarRocks/fe/bin/start_fe.sh]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213857  OUTPUT] Distribute BE Dir ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213924    INFO] Upload dir BeSourceDir = [/home/sr-dev/.starrocks-controller/download/StarRocks-2.0.1/be] to BeTargetDir = [StarRocks/be] on BeHost = [192.168.xx.xx]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213924  OUTPUT] Modify configuration for FE nodes &amp; BE nodes ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# SCALE OUT FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# SCALE OUT FE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213925    INFO] Starting follower FE node [host = 192.168.xx.xx, editLogPort = 9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213945    INFO] The FE node start succefully [host = 192.168.xx.xx, queryPort = 9030]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213945    INFO] List all FE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        feHost = 192.168.xx.xx       feQueryPort = 9030     feStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">############################################# START BE CLUSTER #############################################</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-213945    INFO] Starting BE node [BeHost = 192.168.xx.xx HeartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-214016    INFO] The BE node start succefully [host = 192.168.xx.xx, heartbeatServicePort = 9050]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-214016  OUTPUT] List all BE status:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        beHost = 192.168.xx.xx       beHeartbeatServicePort = 9050      beStatus = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 扩容后集群状态。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster display sr-test </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220503-214302  OUTPUT] Display cluster [clusterName = sr-test]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = v2.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          /opt/starrocks-test/fe                              /opt/starrocks-test/fe/meta                       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   StarRocks/fe/meta                            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          /opt/starrocks-test/be                              /opt/starrocks-test/be/storage                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   StarRocks/be/storage                         </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="缩容集群">缩容集群<a href="#缩容集群" class="hash-link" aria-label="缩容集群的直接链接" title="缩容集群的直接链接">​</a></h2>
<p>通过以下命令缩容集群中特定节点。</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster scale-in </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> --node </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">node_id</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>您可以通过<a href="#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E9%9B%86%E7%BE%A4%E4%BF%A1%E6%81%AF">查看指定集群信息</a>查看集群中特定节点的 ID。</p>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220505-145649  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = v2.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.xx.xx:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster scale-in sr-c1 --node 192.168.88.83:9010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010553  OUTPUT] Scale in cluster [clusterName = sr-c1, nodeId = 192.168.88.83:9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010553    INFO] Waiting for stoping FE node [FeHost = 192.168.88.83]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010606  OUTPUT] Scale in FE node successfully. [clusterName = sr-c1, nodeId = 192.168.88.83:9010]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster display sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220621-010623  OUTPUT] Display cluster [clusterName = sr-c1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterName = sr-c1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterVerison = </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ID                          ROLE    HOST                  PORT             STAT        DATADIR                                             DEPLOYDIR                                         </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------  ------  --------------------  ---------------  ----------  --------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.84:9010          FE      192.168.xx.xx         9010/9030        UP          StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.85:9010          FE      192.168.xx.xx         9010/9030        UP/L        StarRocks/fe                                   /dataStarRocks/fe/meta                           </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.83:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.84:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.88.85:9060          BE      192.168.xx.xx         9060/9050        UP          StarRocks/be                                   /dataStarRocks/be/storage              </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="升降级集群">升降级集群<a href="#升降级集群" class="hash-link" aria-label="升降级集群的直接链接" title="升降级集群的直接链接">​</a></h2>
<p>您可以通过 StarGo 升级或降级其管理的集群。</p>
<ul>
<li>通过以下命令升级集群。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster upgrade </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">target_version</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>通过以下命令降级集群。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./stargo cluster downgrade </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">cluster_name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">target_version</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>示例：</p>
<div class="language-plain codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plain codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220515-195827  OUTPUT] List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      Version     User        CreateDate                 MetaPath                                                      PrivateKey                                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-test2         v2.0.1      test222     2022-05-15 19:35:36        /home/sr-dev/.starrocks-controller/cluster/sr-test2           /home/sr-dev/.ssh/id_rsa                          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster upgrade sr-test2 v2.1.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220515-200358  OUTPUT] List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      Version     User        CreateDate                 MetaPath                                                      PrivateKey                                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-test2         v2.1.3      test222     2022-05-15 20:03:01        /home/sr-dev/.starrocks-controller/cluster/sr-test2           /home/sr-dev/.ssh/id_rsa                          </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster downgrade sr-test2 v2.0.1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[sr-dev@nd1 sr-controller]$ ./stargo cluster list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[20220515-200915  OUTPUT] List all clusters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClusterName      Version     User        CreateDate                 MetaPath                                                      PrivateKey                                        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------  ----------  ----------  -------------------------  ------------------------------------------------------------  --------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sr-test2         v2.0.1      test222     2022-05-15 20:08:40        /home/sr-dev/.starrocks-controller/cluster/sr-test2           /home/sr-dev/.ssh/id_rsa                </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="相关命令">相关命令<a href="#相关命令" class="hash-link" aria-label="相关命令的直接链接" title="相关命令的直接链接">​</a></h2>
<table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>deploy</td><td>部署集群。</td></tr><tr><td>start</td><td>启动集群。</td></tr><tr><td>stop</td><td>停止集群。</td></tr><tr><td>scale-in</td><td>缩容集群。</td></tr><tr><td>scale-out</td><td>扩容集群。</td></tr><tr><td>upgrade</td><td>升级集群。</td></tr><tr><td>downgrade</td><td>降级集群。</td></tr><tr><td>display</td><td>查看特定集群。</td></tr><tr><td>list</td><td>查看所有集群。</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/StarRocks/starrocks/tree/main/versioned_docs/version-3.1/administration/stargo.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#部署-stargo" class="table-of-contents__link toc-highlight">部署 StarGo</a></li><li><a href="#部署集群" class="table-of-contents__link toc-highlight">部署集群</a><ul><li><a href="#前提条件" class="table-of-contents__link toc-highlight">前提条件</a></li><li><a href="#创建配置文件" class="table-of-contents__link toc-highlight">创建配置文件</a></li><li><a href="#创建部署目录可选" class="table-of-contents__link toc-highlight">创建部署目录（可选）</a></li><li><a href="#部署-starrocks" class="table-of-contents__link toc-highlight">部署 StarRocks</a></li></ul></li><li><a href="#查看集群信息" class="table-of-contents__link toc-highlight">查看集群信息</a><ul><li><a href="#查看所有集群信息" class="table-of-contents__link toc-highlight">查看所有集群信息</a></li><li><a href="#查看指定集群信息" class="table-of-contents__link toc-highlight">查看指定集群信息</a></li></ul></li><li><a href="#启动集群" class="table-of-contents__link toc-highlight">启动集群</a><ul><li><a href="#启动集群所有节点" class="table-of-contents__link toc-highlight">启动集群所有节点</a></li><li><a href="#启动集群中特定角色节点" class="table-of-contents__link toc-highlight">启动集群中特定角色节点</a></li><li><a href="#启动集群中特定节点" class="table-of-contents__link toc-highlight">启动集群中特定节点</a></li></ul></li><li><a href="#停止集群" class="table-of-contents__link toc-highlight">停止集群</a><ul><li><a href="#停止集群所有节点" class="table-of-contents__link toc-highlight">停止集群所有节点</a></li><li><a href="#停止集群中特定角色节点" class="table-of-contents__link toc-highlight">停止集群中特定角色节点</a></li><li><a href="#停止集群中特定节点" class="table-of-contents__link toc-highlight">停止集群中特定节点</a></li></ul></li><li><a href="#扩容集群" class="table-of-contents__link toc-highlight">扩容集群</a><ul><li><a href="#创建配置文件-1" class="table-of-contents__link toc-highlight">创建配置文件</a></li><li><a href="#创建-ssh-互信" class="table-of-contents__link toc-highlight">创建 SSH 互信</a></li><li><a href="#创建部署目录可选-1" class="table-of-contents__link toc-highlight">创建部署目录（可选）</a></li><li><a href="#扩容-starrocks-集群" class="table-of-contents__link toc-highlight">扩容 StarRocks 集群</a></li></ul></li><li><a href="#缩容集群" class="table-of-contents__link toc-highlight">缩容集群</a></li><li><a href="#升降级集群" class="table-of-contents__link toc-highlight">升降级集群</a></li><li><a href="#相关命令" class="table-of-contents__link toc-highlight">相关命令</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurusv3/zh/docs/introduction/StarRocks_intro">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 StarRocks, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>