"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[75554],{25526:(n,s,e)=>{e.r(s),e.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>a});var r=e(85893),l=e(11151);const i={},c="\u4ece MySQL \u5b9e\u65f6\u540c\u6b65",t={id:"loading/Flink_cdc_load",title:"\u4ece MySQL \u5b9e\u65f6\u540c\u6b65",description:"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5c06 MySQL \u7684\u6570\u636e\u5b9e\u65f6\uff08\u79d2\u7ea7\uff09\u540c\u6b65\u81f3 StarRocks\uff0c\u652f\u6491\u4f01\u4e1a\u5b9e\u65f6\u5206\u6790\u548c\u5904\u7406\u6d77\u91cf\u6570\u636e\u7684\u9700\u6c42\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-3.0/loading/Flink_cdc_load.md",sourceDirName:"loading",slug:"/loading/Flink_cdc_load",permalink:"/doc/zh/docs/3.0/loading/Flink_cdc_load",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/tree/main/versioned_docs/version-3.0/loading/Flink_cdc_load.md",tags:[],version:"3.0",frontMatter:{},sidebar:"documentation",previous:{title:"\u4ece Apache Flink\xae \u6301\u7eed\u5bfc\u5165",permalink:"/doc/zh/docs/3.0/loading/Flink-connector-starrocks"},next:{title:"\u901a\u8fc7 INSERT \u8bed\u53e5\u5bfc\u5165\u6570\u636e",permalink:"/doc/zh/docs/3.0/loading/InsertInto"}},o={},a=[{value:"\u57fa\u672c\u539f\u7406",id:"\u57fa\u672c\u539f\u7406",level:2},{value:"\u4e1a\u52a1\u573a\u666f",id:"\u4e1a\u52a1\u573a\u666f",level:2},{value:"\u51c6\u5907\u5de5\u4f5c",id:"\u51c6\u5907\u5de5\u4f5c",level:2},{value:"\u4e0b\u8f7d\u5e76\u5b89\u88c5\u540c\u6b65\u5de5\u5177",id:"\u4e0b\u8f7d\u5e76\u5b89\u88c5\u540c\u6b65\u5de5\u5177",level:3},{value:"\u5f00\u542f MySQL Binlog \u65e5\u5fd7",id:"\u5f00\u542f-mysql-binlog-\u65e5\u5fd7",level:3},{value:"\u540c\u6b65\u5e93\u8868\u7ed3\u6784",id:"\u540c\u6b65\u5e93\u8868\u7ed3\u6784",level:2},{value:"\u540c\u6b65\u6570\u636e",id:"\u540c\u6b65\u6570\u636e",level:2},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2},{value:"<strong>\u5982\u4f55\u4e3a\u4e0d\u540c\u7684\u8868\u8bbe\u7f6e\u4e0d\u540c\u7684 flink-connector-starrocks \u914d\u7f6e</strong>",id:"\u5982\u4f55\u4e3a\u4e0d\u540c\u7684\u8868\u8bbe\u7f6e\u4e0d\u540c\u7684-flink-connector-starrocks-\u914d\u7f6e",level:3},{value:"<strong>\u540c\u6b65 MySQL \u5206\u5e93\u5206\u8868\u540e\u7684\u591a\u5f20\u8868\u81f3 StarRocks \u7684\u4e00\u5f20\u8868</strong>",id:"\u540c\u6b65-mysql-\u5206\u5e93\u5206\u8868\u540e\u7684\u591a\u5f20\u8868\u81f3-starrocks-\u7684\u4e00\u5f20\u8868",level:3},{value:"<strong>\u6570\u636e\u4ee5</strong> <strong>JSON</strong> <strong>\u683c\u5f0f\u5bfc\u5165</strong>",id:"\u6570\u636e\u4ee5-json-\u683c\u5f0f\u5bfc\u5165",level:3},{value:"\u591a\u4e2a\u7684 INSERT INTO \u8bed\u53e5\u5408\u5e76\u4e3a\u4e00\u4e2a Flink job",id:"\u591a\u4e2a\u7684-insert-into-\u8bed\u53e5\u5408\u5e76\u4e3a\u4e00\u4e2a-flink-job",level:3}];function d(n){const s=Object.assign({h1:"h1",p:"p",blockquote:"blockquote",strong:"strong",a:"a",h2:"h2",img:"img",ol:"ol",li:"li",code:"code",h3:"h3",pre:"pre",ul:"ul"},(0,l.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"\u4ece-mysql-\u5b9e\u65f6\u540c\u6b65",children:"\u4ece MySQL \u5b9e\u65f6\u540c\u6b65"}),"\n",(0,r.jsx)(s.p,{children:"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5c06 MySQL \u7684\u6570\u636e\u5b9e\u65f6\uff08\u79d2\u7ea7\uff09\u540c\u6b65\u81f3 StarRocks\uff0c\u652f\u6491\u4f01\u4e1a\u5b9e\u65f6\u5206\u6790\u548c\u5904\u7406\u6d77\u91cf\u6570\u636e\u7684\u9700\u6c42\u3002"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsxs)(s.p,{children:["\u5bfc\u5165\u64cd\u4f5c\u9700\u8981\u76ee\u6807\u8868\u7684 INSERT \u6743\u9650\u3002\u5982\u679c\u60a8\u7684\u7528\u6237\u8d26\u53f7\u6ca1\u6709 INSERT \u6743\u9650\uff0c\u8bf7\u53c2\u8003 ",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/sql-reference/sql-statements/account-management/GRANT",children:"GRANT"})," \u7ed9\u7528\u6237\u8d4b\u6743\u3002"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"\u57fa\u672c\u539f\u7406",children:"\u57fa\u672c\u539f\u7406"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"MySQL \u540c\u6b65",src:e(87655).Z+"",width:"1354",height:"326"})}),"\n",(0,r.jsx)(s.p,{children:"\u5b9e\u65f6\u540c\u6b65 MySQL \u81f3 StarRocks \u5206\u6210\u540c\u6b65\u5e93\u8868\u7ed3\u6784\u3001\u540c\u6b65\u6570\u636e\u4e24\u4e2a\u9636\u6bb5\u8fdb\u884c\u3002\u9996\u5148 StarRocks Migration Tool (\u6570\u636e\u8fc1\u79fb\u5de5\u5177\uff0c\u4ee5\u4e0b\u7b80\u79f0 SMT) \u5c06 MySQL \u7684\u5e93\u8868\u7ed3\u6784\u8f6c\u5316\u6210 StarRocks \u7684\u5efa\u5e93\u548c\u5efa\u8868\u8bed\u53e5\u3002\u7136\u540e Flink \u96c6\u7fa4\u8fd0\u884c Flink job\uff0c\u540c\u6b65 MySQL \u5168\u91cf\u53ca\u589e\u91cf\u6570\u636e\u81f3 StarRocks\u3002\u5177\u4f53\u540c\u6b65\u6d41\u7a0b\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"\u8bf4\u660e\uff1a\nMySQL \u5b9e\u65f6\u540c\u6b65\u81f3 StarRocks \u80fd\u591f\u4fdd\u8bc1\u7aef\u5230\u7aef\u7684 exactly-once \u7684\u8bed\u4e49\u4e00\u81f4\u6027\u3002"}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u540c\u6b65\u5e93\u8868\u7ed3\u6784"})}),"\n",(0,r.jsx)(s.p,{children:"SMT \u6839\u636e\u5176\u914d\u7f6e\u6587\u4ef6\u4e2d\u6e90 MySQL \u548c\u76ee\u6807 StarRocks \u7684\u4fe1\u606f\uff0c\u8bfb\u53d6 MySQL \u4e2d\u5f85\u540c\u6b65\u7684\u5e93\u8868\u7ed3\u6784\uff0c\u5e76\u751f\u6210 SQL \u6587\u4ef6\uff0c\u7528\u4e8e\u5728 StarRocks \u5185\u521b\u5efa\u5bf9\u5e94\u7684\u76ee\u6807\u5e93\u8868\u3002"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u540c\u6b65\u6570\u636e"})}),"\n",(0,r.jsxs)(s.p,{children:["Flink SQL \u5ba2\u6237\u7aef\u6267\u884c\u5bfc\u5165\u6570\u636e\u7684 SQL \u8bed\u53e5\uff08",(0,r.jsx)(s.code,{children:"INSERT INTO SELECT"}),"\u8bed\u53e5\uff09\uff0c\u5411 Flink \u96c6\u7fa4\u63d0\u4ea4\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u957f\u65f6\u95f4\u8fd0\u884c\u7684 Flink job\u3002Flink\u96c6\u7fa4\u8fd0\u884c Flink job \uff0c",(0,r.jsx)(s.a,{href:"https://ververica.github.io/flink-cdc-connectors/master/content/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/build-real-time-data-lake-tutorial-zh.html",children:"Flink cdc connector"})," \u5148\u8bfb\u53d6\u6570\u636e\u5e93\u7684\u5386\u53f2\u5168\u91cf\u6570\u636e\uff0c\u7136\u540e\u65e0\u7f1d\u5207\u6362\u5230\u589e\u91cf\u8bfb\u53d6\uff0c\u5e76\u4e14\u53d1\u7ed9 flink-starrocks-connector\uff0c\u6700\u540e  flink-starrocks-connector  \u6512\u5fae\u6279\u6570\u636e\u540c\u6b65\u81f3 StarRocks\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsx)(s.p,{children:"\u4ec5\u652f\u6301\u540c\u6b65 DML\uff0c\u4e0d\u652f\u6301\u540c\u6b65 DDL\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"\u4e1a\u52a1\u573a\u666f",children:"\u4e1a\u52a1\u573a\u666f"}),"\n",(0,r.jsx)(s.p,{children:"\u4ee5\u5546\u54c1\u7d2f\u8ba1\u9500\u91cf\u5b9e\u65f6\u699c\u5355\u4e3a\u4f8b\uff0c\u5b58\u50a8\u5728 MySQL \u4e2d\u7684\u539f\u59cb\u8ba2\u5355\u8868\uff0c\u901a\u8fc7 Flink \u5904\u7406\u8ba1\u7b97\u51fa\u4ea7\u54c1\u9500\u91cf\u7684\u5b9e\u65f6\u6392\u884c\uff0c\u5e76\u5b9e\u65f6\u540c\u6b65\u81f3 StarRocks \u7684\u4e3b\u952e\u6a21\u578b\u8868\u4e2d\u3002\u6700\u7ec8\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u53ef\u89c6\u5316\u5de5\u5177\u8fde\u63a5StarRocks\u67e5\u770b\u5230\u5b9e\u65f6\u5237\u65b0\u7684\u699c\u5355\u3002"}),"\n",(0,r.jsx)(s.h2,{id:"\u51c6\u5907\u5de5\u4f5c",children:"\u51c6\u5907\u5de5\u4f5c"}),"\n",(0,r.jsx)(s.h3,{id:"\u4e0b\u8f7d\u5e76\u5b89\u88c5\u540c\u6b65\u5de5\u5177",children:"\u4e0b\u8f7d\u5e76\u5b89\u88c5\u540c\u6b65\u5de5\u5177"}),"\n",(0,r.jsx)(s.p,{children:"\u540c\u6b65\u65f6\u9700\u8981\u4f7f\u7528 SMT\u3001 Flink\u3001Flink CDC connector\u3001flink-starrocks-connector\uff0c\u4e0b\u8f7d\u548c\u5b89\u88c5\u6b65\u9aa4\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"\u4e0b\u8f7d\u3001\u5b89\u88c5\u5e76\u542f\u52a8 Flink \u96c6\u7fa4"}),"\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["\u8bf4\u660e\uff1a\u4e0b\u8f7d\u548c\u5b89\u88c5\u65b9\u5f0f\u4e5f\u53ef\u4ee5\u53c2\u8003 ",(0,r.jsx)(s.a,{href:"https://nightlies.apache.org/flink/flink-docs-release-1.13/docs/try-flink/local_installation/",children:"Flink \u5b98\u65b9\u6587\u6863"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u60a8\u9700\u8981\u63d0\u524d\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u5b89\u88c5 Java 8 \u6216\u8005 Java 11\uff0c\u4ee5\u6b63\u5e38\u8fd0\u884c Flink\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6765\u68c0\u67e5\u5df2\u7ecf\u5b89\u88c5\u7684 Java \u7248\u672c\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:'# \u67e5\u770bjava\u7248\u672c\njava -version\n\n# \u5982\u4e0b\u663e\u793a\u5df2\u7ecf\u5b89\u88c5 java 8\nopenjdk version "1.8.0_322"\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.322-b06, mixed mode)\n'})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u4e0b\u8f7d\u5e76\u89e3\u538b ",(0,r.jsx)(s.a,{href:"https://flink.apache.org/downloads.html",children:"Flink"}),"\u3002\u672c\u793a\u4f8b\u4f7f\u7528 Flink 1.14.5\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"\u8bf4\u660e\uff1a\u63a8\u8350\u4f7f\u7528 1.14 \u53ca\u4ee5\u4e0a\u7248\u672c\uff0c\u6700\u4f4e\u652f\u6301 1.11 \u7248\u672c\u3002"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"# \u4e0b\u8f7d Flink\nwget https://archive.apache.org/dist/flink/flink-1.14.5/flink-1.14.5-bin-scala_2.11.tgz\n# \u89e3\u538b Flink  \ntar -xzf flink-1.14.5-bin-scala_2.11.tgz\n# \u8fdb\u5165 Flink \u76ee\u5f55\ncd flink-1.14.5\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u542f\u52a8 Flink \u96c6\u7fa4\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"# \u542f\u52a8 Flink \u96c6\u7fa4\n./bin/start-cluster.sh\n\n# \u8fd4\u56de\u5982\u4e0b\u4fe1\u606f\uff0c\u8868\u793a\u6210\u529f\u542f\u52a8 flink \u96c6\u7fa4\nStarting cluster.\nStarting standalonesession daemon on host.\nStarting taskexecutor daemon on host.\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["\u4e0b\u8f7d ",(0,r.jsx)(s.a,{href:"https://github.com/ververica/flink-cdc-connectors/releases",children:"Flink CDC connector"})]}),"\u3002\u672c\u793a\u4f8b\u7684\u6570\u636e\u6e90\u4e3a MySQL\uff0c\u56e0\u6b64\u4e0b\u8f7d flink-sql-connector-",(0,r.jsx)(s.strong,{children:"mysql"}),"-cdc-x.x.x.jar\u3002\u5e76\u4e14\u7248\u672c\u9700\u652f\u6301\u5bf9\u5e94\u7684 Flink \u7248\u672c\uff0c\u4e24\u8005\u7248\u672c\u652f\u6301\u5ea6\uff0c\u8bf7\u53c2\u89c1 ",(0,r.jsx)(s.a,{href:"https://ververica.github.io/flink-cdc-connectors/release-2.2/content/about.html#supported-flink-versions",children:"Supported Flink Versions"}),"\u3002\u7531\u4e8e\u672c\u6587\u4f7f\u7528 Flink  1.14.5\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528 flink-sql-connector-mysql-cdc-2.2.0.jar\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"wget https://repo1.maven.org/maven2/com/ververica/flink-sql-connector-mysql-cdc/2.2.0/flink-sql-connector-mysql-cdc-2.2.0.jar\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["\u4e0b\u8f7d ",(0,r.jsx)(s.a,{href:"https://search.maven.org/artifact/com.starrocks/flink-connector-starrocks",children:"flink-connector-starrocks"})]}),"\uff0c\u5e76\u4e14\u5176\u7248\u672c\u9700\u8981\u5bf9\u5e94 Flink \u7684\u7248\u672c\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["flink-connector-starrocks \u7684 JAR \u5305 (",(0,r.jsx)(s.strong,{children:"x.x.x_flink-y.yy_z.zz.jar"}),") \u4f1a\u5305\u542b\u4e09\u4e2a\u7248\u672c\u53f7\uff1a"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u7b2c\u4e00\u4e2a\u7248\u672c\u53f7 x.x.x \u4e3a flink-connector-starrocks \u7684\u7248\u672c\u53f7\u3002"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u7b2c\u4e8c\u4e2a\u7248\u672c\u53f7 y.yy \u4e3a\u5176\u652f\u6301\u7684 Flink \u7248\u672c\u53f7\u3002"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u7b2c\u4e09\u4e2a\u7248\u672c\u53f7 z.zz \u4e3a Flink \u652f\u6301\u7684 Scala \u7248\u672c\u53f7\u3002\u5982\u679c Flink \u4e3a 1.14.x \u4ee5\u53ca\u4e4b\u524d\u7248\u672c\uff0c\u5219\u9700\u8981\u4e0b\u8f7d\u5e26\u6709 Scala \u7248\u672c\u53f7\u7684 flink-connector-starrocks\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["\u7531\u4e8e\u672c\u6587\u4f7f\u7528 Flink \u7248\u672c\u53f7 1.14.5\uff0cScala \u7248\u672c\u53f7 2.11\uff0c\u56e0\u6b64\u53ef\u4ee5\u4e0b\u8f7d flink-connector-starrocks JAR \u5305 ",(0,r.jsx)(s.strong,{children:"1.2.3_flink-1.14_2.11.jar"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u5c06 Flink CDC connector\u3001Flink-connector-starrocks \u7684 JAR \u5305 ",(0,r.jsx)(s.strong,{children:"flink-sql-connector-mysql-cdc-2.2.0.jar"}),"\u3001",(0,r.jsx)(s.strong,{children:"1.2.3_flink-1.14_2.11.jar"})," \u79fb\u52a8\u81f3 Flink \u7684 ",(0,r.jsx)(s.strong,{children:"lib"})," \u76ee\u5f55\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsx)(s.p,{children:"\u5982\u679c Flink \u5df2\u7ecf\u5904\u4e8e\u8fd0\u884c\u72b6\u6001\u4e2d\uff0c\u5219\u9700\u8981\u5148\u505c\u6b62 Flink\uff0c\u7136\u540e\u91cd\u542f Flink \uff0c\u4ee5\u52a0\u8f7d\u5e76\u751f\u6548 JAR \u5305\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"./bin/stop-cluster.sh\n./bin/start-cluster.sh\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u4e0b\u8f7d\u5e76\u89e3\u538b ",(0,r.jsx)(s.a,{href:"https://www.mirrorship.cn/zh-CN/download/community",children:"SMT"}),"\uff0c\u5e76\u5c06\u5176\u653e\u5728 ",(0,r.jsx)(s.strong,{children:"flink-1.14.5"})," \u76ee\u5f55\u4e0b\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u64cd\u4f5c\u7cfb\u7edf\u548c CPU \u67b6\u6784\u9009\u62e9\u5bf9\u5e94\u7684 SMT \u5b89\u88c5\u5305\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"# \u9002\u7528\u4e8e Linux x86\nwget https://releases.starrocks.io/resources/smt.tar.gz\n# \u9002\u7528\u4e8e macOS ARM64\nwget https://releases.starrocks.io/resources/smt_darwin_arm64.tar.gz\n\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"\u5f00\u542f-mysql-binlog-\u65e5\u5fd7",children:"\u5f00\u542f MySQL Binlog \u65e5\u5fd7"}),"\n",(0,r.jsx)(s.p,{children:"\u60a8\u9700\u8981\u786e\u4fdd\u5df2\u7ecf\u5f00\u542f MySQL Binlog \u65e5\u5fd7\uff0c\u5b9e\u65f6\u540c\u6b65\u65f6\u9700\u8981\u8bfb\u53d6 MySQL Binlog \u65e5\u5fd7\u6570\u636e\uff0c\u89e3\u6790\u5e76\u540c\u6b65\u81f3 StarRocks\u3002"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u7f16\u8f91 MySQL \u914d\u7f6e\u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"my.cnf"}),"\uff08\u9ed8\u8ba4\u8def\u5f84\u4e3a ",(0,r.jsx)(s.strong,{children:"/etc/my.cnf"}),"\uff09\uff0c\u4ee5\u5f00\u542f MySQL Binlog\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"# \u5f00\u542f Binlog \u65e5\u5fd7\nlog_bin = ON\n# \u8bbe\u7f6e Binlog \u7684\u5b58\u50a8\u4f4d\u7f6e\nlog_bin =/var/lib/mysql/mysql-bin\n# \u8bbe\u7f6e server_id \n# \u5728 MySQL 5.7.3 \u53ca\u4ee5\u540e\u7248\u672c\uff0c\u5982\u679c\u6ca1\u6709 server_id\uff0c\u90a3\u4e48\u8bbe\u7f6e binlog \u540e\u65e0\u6cd5\u5f00\u542f MySQL \u670d\u52a1 \nserver_id = 1\n# \u8bbe\u7f6e Binlog \u6a21\u5f0f\u4e3a ROW\nbinlog_format = ROW\n# binlog \u65e5\u5fd7\u7684\u57fa\u672c\u6587\u4ef6\u540d\uff0c\u540e\u9762\u4f1a\u8ffd\u52a0\u6807\u8bc6\u6765\u8868\u793a\u6bcf\u4e00\u4e2a Binlog \u6587\u4ef6\nlog_bin_basename =/var/lib/mysql/mysql-bin\n# binlog \u6587\u4ef6\u7684\u7d22\u5f15\u6587\u4ef6\uff0c\u7ba1\u7406\u6240\u6709 Binlog \u6587\u4ef6\u7684\u76ee\u5f55\nlog_bin_index =/var/lib/mysql/mysql-bin.index\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u91cd\u542f MySQL\uff0c\u751f\u6548\u4fee\u6539\u540e\u7684\u914d\u7f6e\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:" # \u4f7f\u7528 service \u542f\u52a8\n service mysqld restart\n # \u4f7f\u7528 mysqld \u811a\u672c\u542f\u52a8\n /etc/init.d/mysqld restart\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"\u8fde\u63a5 MySQL\uff0c\u6267\u884c\u5982\u4e0b\u8bed\u53e5\u786e\u8ba4\u662f\u5426\u5df2\u7ecf\u5f00\u542f Binlog\uff1a"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Plain",children:"-- \u8fde\u63a5 MySQL\nmysql -h xxx.xx.xxx.xx -P 3306 -u root -pxxxxxx\n\n-- \u68c0\u67e5\u662f\u5426\u5df2\u7ecf\u5f00\u542f MySQL Binlog\uff0c`ON`\u5c31\u8868\u793a\u5df2\u5f00\u542f\nmysql> SHOW VARIABLES LIKE 'log_bin'; \n+---------------+-------+\n| Variable_name | Value |\n+---------------+-------+\n| log_bin       | ON    |\n+---------------+-------+\n1 row in set (0.00 sec)\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"\u540c\u6b65\u5e93\u8868\u7ed3\u6784",children:"\u540c\u6b65\u5e93\u8868\u7ed3\u6784"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u914d\u7f6e SMT \u914d\u7f6e\u6587\u4ef6\u3002\n\u8fdb\u5165 SMT \u7684 ",(0,r.jsx)(s.strong,{children:"conf"})," \u76ee\u5f55\uff0c\u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"config_prod.conf"}),"\u3002\u4f8b\u5982\u6e90 MySQL \u8fde\u63a5\u4fe1\u606f\u3001\u5f85\u540c\u6b65\u5e93\u8868\u7684\u5339\u914d\u89c4\u5219\uff0cflink-starrocks-connector \u914d\u7f6e\u4fe1\u606f\u7b49\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"[db]\nhost = xxx.xx.xxx.xx\nport = 3306\nuser = user1\npassword = xxxxxx\n\n[other]\n# number of backends in StarRocks\nbe_num = 3\n# `decimal_v3` is supported since StarRocks-1.18.1\nuse_decimal_v3 = true\n# file to save the converted DDL SQL\noutput_dir = ./result\n\n[table-rule.1]\n# pattern to match databases for setting properties\ndatabase = ^demo.*$\n# pattern to match tables for setting properties\ntable = ^.*$\n\n############################################\n### flink sink configurations\n### DO NOT set `connector`, `table-name`, `database-name`, they are auto-generated\n############################################\nflink.starrocks.jdbc-url=jdbc:mysql://<fe_host>:<fe_query_port>\nflink.starrocks.load-url= <fe_host>:<fe_http_port>\nflink.starrocks.username=user2\nflink.starrocks.password=xxxxxx\nflink.starrocks.sink.properties.format=csv\nflink.starrocks.sink.properties.column_separator=\\x01\nflink.starrocks.sink.properties.row_delimiter=\\x02\nflink.starrocks.sink.buffer-flush.interval-ms=15000\n"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"[db]"}),"\uff1aMySQL \u7684\u8fde\u63a5\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"host"})," \uff1aMySQL \u6240\u5728\u670d\u52a1\u5668\u7684 IP \u5730\u5740\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"port"}),"\uff1aMySQL \u7aef\u53e3\u53f7\uff0c\u9ed8\u8ba4\u4e3a",(0,r.jsx)(s.code,{children:"3306"}),"\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"user"})," \uff1a\u7528\u6237\u540d\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"password"}),"\uff1a\u7528\u6237\u767b\u5f55\u5bc6\u7801\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"[table-rule]"})," \uff1a\u5e93\u8868\u5339\u914d\u89c4\u5219\uff0c\u4ee5\u53ca\u5bf9\u5e94\u7684flink-connector-starrocks \u914d\u7f6e\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\u5982\u679c\u9700\u8981\u4e3a\u4e0d\u540c\u8868\u5339\u914d\u4e0d\u540c\u7684 flink-connector-starrocks \u914d\u7f6e\uff0c\u4f8b\u5982\u90e8\u5206\u8868\u66f4\u65b0\u9891\u7e41\uff0c\u9700\u8981\u63d0\u9ad8\u5bfc\u5165\u901f\u5ea6\uff0c\u8bf7\u53c2\u89c1",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/loading/Flink_cdc_load#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E",children:"\u8865\u5145\u8bf4\u660e"}),"\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:["\u5982\u679c\u9700\u8981\u5c06 MySQL \u5206\u5e93\u5206\u8868\u540e\u7684\u591a\u5f20\u8868\u5bfc\u5165\u81f3 StarRocks\u7684\u4e00\u5f20\u8868\u4e2d\uff0c\u8bf7\u53c2\u89c1",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/loading/Flink_cdc_load#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E",children:"\u8865\u5145\u8bf4\u660e"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"database"}),"\u3001",(0,r.jsx)(s.code,{children:"table"}),"\uff1aMySQL \u4e2d\u540c\u6b65\u5bf9\u8c61\u7684\u5e93\u8868\u540d\uff0c\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"flink.starrocks.*"})," \uff1aflink-connector-starrocks \u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u66f4\u591a\u914d\u7f6e\u548c\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1 ",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/loading/Flink-connector-starrocks#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E",children:"Flink-connector-starrocks"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"[other]"})," \uff1a\u5176\u4ed6\u4fe1\u606f"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"be_num"}),"\uff1a StarRocks \u96c6\u7fa4\u7684 BE \u8282\u70b9\u6570\uff08\u540e\u7eed\u751f\u6210\u7684 StarRocks \u5efa\u8868 SQL \u6587\u4ef6\u4f1a\u53c2\u8003\u8be5\u53c2\u6570\uff0c\u8bbe\u7f6e\u5408\u7406\u7684\u5206\u6876\u6570\u91cf\uff09\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"use_decimal_v3"}),"\uff1a\u662f\u5426\u5f00\u542f ",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/sql-reference/sql-statements/data-types/DECIMAL",children:"decimalV3"}),"\u3002\u5f00\u542f\u540e\uff0cMySQL \u5c0f\u6570\u7c7b\u578b\u7684\u6570\u636e\u540c\u6b65\u81f3 StarRocks \u65f6\u4f1a\u8f6c\u6362\u4e3a decimalV3\u3002"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"output_dir"})," \uff1a\u5f85\u751f\u6210\u7684 SQL \u6587\u4ef6\u7684\u8def\u5f84\u3002SQL \u6587\u4ef6\u4f1a\u7528\u4e8e\u5728 StarRocks \u96c6\u7fa4\u521b\u5efa\u5e93\u8868\uff0c \u5411 Flink \u96c6\u7fa4\u63d0\u4ea4 Flink job\u3002\u9ed8\u8ba4\u4e3a ",(0,r.jsx)(s.code,{children:"./result"}),"\uff0c\u4e0d\u5efa\u8bae\u4fee\u6539\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0cSMT \u4f1a\u8bfb\u53d6 MySQL \u4e2d\u540c\u6b65\u5bf9\u8c61\u7684\u5e93\u8868\u7ed3\u6784\uff0c\u5e76\u4e14\u7ed3\u5408\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f\uff0c\u5728 ",(0,r.jsx)(s.strong,{children:"result"})," \u76ee\u5f55\u751f\u6210 SQL \u6587\u4ef6\uff0c\u7528\u4e8e  StarRocks \u96c6\u7fa4\u521b\u5efa\u5e93\u8868\uff08",(0,r.jsx)(s.strong,{children:"starrocks-create.all.sql"}),"\uff09\uff0c \u7528\u4e8e\u5411 Flink \u96c6\u7fa4\u63d0\u4ea4\u540c\u6b65\u6570\u636e\u7684 flink job\uff08",(0,r.jsx)(s.strong,{children:"flink-create.all.sql"}),"\uff09\u3002\n\u5e76\u4e14\u6e90\u8868\u4e0d\u540c\uff0c\u5219 ",(0,r.jsx)(s.strong,{children:"starrocks-create.all.sql"})," \u4e2d\u5efa\u8868\u8bed\u53e5\u9ed8\u8ba4\u521b\u5efa\u7684\u6570\u636e\u6a21\u578b\u4e0d\u540c\u3002"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u5982\u679c\u6e90\u8868\u6ca1\u6709 Primary Key\u3001 Unique Key\uff0c\u5219\u9ed8\u8ba4\u521b\u5efa\u660e\u7ec6\u6a21\u578b\u3002"}),"\n",(0,r.jsxs)(s.li,{children:["\u5982\u679c\u6e90\u8868\u6709 Primary Key\u3001 Unique Key\uff0c\u5219\u533a\u5206\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\uff1a","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u6e90\u8868\u662f Hive \u8868\u3001ClickHouse MergeTree \u8868\uff0c\u5219\u9ed8\u8ba4\u521b\u5efa\u660e\u7ec6\u6a21\u578b\u3002"}),"\n",(0,r.jsx)(s.li,{children:"\u6e90\u8868\u662f ClickHouse SummingMergeTree\u8868\uff0c\u5219\u9ed8\u8ba4\u521b\u5efa\u805a\u5408\u6a21\u578b\u3002"}),"\n",(0,r.jsx)(s.li,{children:"\u6e90\u8868\u4e3a\u5176\u4ed6\u7c7b\u578b\uff0c\u5219\u9ed8\u8ba4\u521b\u5efa\u4e3b\u952e\u6a21\u578b\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"# \u8fd0\u884c SMT\n./starrocks-migrate-tool\n\n# \u8fdb\u5165\u5e76\u67e5\u770b result \u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\ncd result\nls result\nflink-create.1.sql    smt.tar.gz              starrocks-create.all.sql\nflink-create.all.sql  starrocks-create.1.sql\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u8fde\u63a5 StarRocks\uff0c\u5e76\u6267\u884c SQL \u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"starrocks-create.all.sql"}),"\uff0c\u7528\u4e8e\u521b\u5efa\u76ee\u6807\u5e93\u548c\u8868\u3002\u63a8\u8350\u4f7f\u7528 SQL \u6587\u4ef6\u4e2d\u9ed8\u8ba4\u7684\u5efa\u8868\u8bed\u53e5\uff0c\u672c\u793a\u4f8b\u4e2d\u5efa\u8868\u8bed\u53e5\u9ed8\u8ba4\u521b\u5efa\u7684\u6570\u636e\u6a21\u578b\u4e3a",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/table_design/table_types/primary_key_table",children:"\u4e3b\u952e\u6a21\u578b"}),"\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u60a8\u4e5f\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u9700\u8981\uff0c\u4fee\u6539 SQL \u6587\u4ef6\u4e2d\u7684\u5efa\u8868\u8bed\u53e5\uff0c\u57fa\u4e8e\u5176\u4ed6\u6a21\u578b\u521b\u5efa\u76ee\u6807\u8868\u3002"}),"\n",(0,r.jsx)(s.li,{children:"\u5982\u679c\u60a8\u9009\u62e9\u57fa\u4e8e\u975e\u4e3b\u952e\u6a21\u578b\u521b\u5efa\u76ee\u6807\u8868\uff0cStarRocks \u4e0d\u652f\u6301\u5c06\u6e90\u8868\u4e2d DELETE \u64cd\u4f5c\u540c\u6b65\u81f3\u975e\u4e3b\u952e\u6a21\u578b\u7684\u8868\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"mysql -h <fe_host> -P <fe_query_port> -u user2 -pxxxxxx < starrocks-create.all.sql\n"})}),"\n",(0,r.jsxs)(s.p,{children:["\u5982\u679c\u6570\u636e\u9700\u8981\u7ecf\u8fc7 Flink \u5904\u7406\u540e\u5199\u5165\u76ee\u6807\u8868\uff0c\u76ee\u6807\u8868\u4e0e\u6e90\u8868\u7684\u7ed3\u6784\u4e0d\u4e00\u6837\uff0c\u5219\u60a8\u9700\u8981\u4fee\u6539 SQL \u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"starrocks-create.all.sql"})," \u4e2d\u7684\u5efa\u8868\u8bed\u53e5\u3002\u672c\u793a\u4f8b\u4e2d\u76ee\u6807\u8868\u4ec5\u9700\u8981\u4fdd\u7559\u5546\u54c1 ID (product_id)\u3001\u5546\u54c1\u540d\u79f0(product_name)\uff0c\u5e76\u4e14\u5bf9\u5546\u54c1\u9500\u91cf\u8fdb\u884c\u5b9e\u65f6\u6392\u540d\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u5efa\u8868\u8bed\u53e5\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:'CREATE DATABASE IF NOT EXISTS `demo`;\n\nCREATE TABLE IF NOT EXISTS `demo`.`orders` (\n`product_id` INT(11) NOT NULL COMMENT "",\n`product_name` STRING NOT NULL COMMENT "",\n`sales_cnt` BIGINT NOT NULL COMMENT ""\n) ENGINE=olap\nPRIMARY KEY(`product_id`)\nDISTRIBUTED BY HASH(`product_id`)\nPROPERTIES (\n"replication_num" = "3"\n);\n'})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsxs)(s.p,{children:["\u81ea 2.5.7 \u7248\u672c\u8d77\uff0cStarRocks \u652f\u6301\u5728\u5efa\u8868\u548c\u65b0\u589e\u5206\u533a\u65f6\u81ea\u52a8\u8bbe\u7f6e\u5206\u6876\u6570\u91cf (BUCKETS)\uff0c\u60a8\u65e0\u9700\u624b\u52a8\u8bbe\u7f6e\u5206\u6876\u6570\u91cf\u3002\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 ",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/table_design/Data_distribution#%E7%A1%AE%E5%AE%9A%E5%88%86%E6%A1%B6%E6%95%B0%E9%87%8F",children:"\u786e\u5b9a\u5206\u6876\u6570\u91cf"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"\u540c\u6b65\u6570\u636e",children:"\u540c\u6b65\u6570\u636e"}),"\n",(0,r.jsx)(s.p,{children:"\u8fd0\u884c Flink \u96c6\u7fa4\uff0c\u63d0\u4ea4 Flink job\uff0c\u542f\u52a8\u6d41\u5f0f\u4f5c\u4e1a\uff0c\u6e90\u6e90\u4e0d\u65ad\u5c06 MySQL \u6570\u636e\u5e93\u4e2d\u7684\u5168\u91cf\u548c\u589e\u91cf\u6570\u636e\u540c\u6b65\u5230 StarRocks \u4e2d\u3002"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u8fdb\u5165 Flink \u76ee\u5f55\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u5728 Flink SQL \u5ba2\u6237\u7aef\u8fd0\u884c SQL \u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"flink-create.all.sql"}),"\u3002"]}),"\n",(0,r.jsx)(s.p,{children:"\u8be5 SQL \u6587\u4ef6\u5b9a\u4e49\u4e86\u52a8\u6001\u8868 source table\u3001sink table\uff0c\u67e5\u8be2\u8bed\u53e5 INSERT INTO SELECT\uff0c\u5e76\u4e14\u6307\u5b9a connector\u3001\u6e90\u6570\u636e\u5e93\u548c\u76ee\u6807\u6570\u636e\u5e93\u3002Flink SQL \u5ba2\u6237\u7aef\u6267\u884c\u8be5 SQL \u6587\u4ef6\u540e\uff0c\u5411 Flink \u96c6\u7fa4\u63d0\u4ea4\u4e00\u4e2a Flink job\uff0c\u5f00\u542f\u540c\u6b65\u4efb\u52a1\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"./bin/sql-client.sh -f flink-create.all.sql\n"})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u9700\u8981\u786e\u4fdd Flink \u96c6\u7fa4\u5df2\u7ecf\u542f\u52a8\u3002\u53ef\u901a\u8fc7\u547d\u4ee4 ",(0,r.jsx)(s.code,{children:"flink/bin/start-cluster.sh"})," \u542f\u52a8\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u5982\u679c\u60a8\u4f7f\u7528 Flink 1.13 \u4e4b\u524d\u7684\u7248\u672c\uff0c\u5219\u53ef\u80fd\u65e0\u6cd5\u76f4\u63a5\u8fd0\u884c SQL \u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"flink-create.all.sql"}),"\u3002\u60a8\u9700\u8981\u5728 SQL \u5ba2\u6237\u7aef\u547d\u4ee4\u884c\u754c\u9762\uff0c\u9010\u6761\u6267\u884c SQL \u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"flink-create.all.sql"})," \u4e2d\u7684 SQL \u8bed\u53e5\uff0c\u5e76\u4e14\u9700\u8981\u505a\u5bf9",(0,r.jsx)(s.code,{children:"\\"}),"\u5b57\u7b26\u8fdb\u884c\u8f6c\u4e49\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"'sink.properties.column_separator' = '\\\\x01'\n'sink.properties.row_delimiter' = '\\\\x02'  \n"})}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u5904\u7406\u540c\u6b65\u6570\u636e"})}),"\n",(0,r.jsxs)(s.p,{children:["\u5728\u540c\u6b65\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u60a8\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u4e00\u5b9a\u7684\u5904\u7406\uff0c\u4f8b\u5982 GROUP BY\u3001JOIN \u7b49\uff0c\u5219\u53ef\u4ee5\u4fee\u6539 SQL \u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"flink-create.all.sql"}),"\u3002\u672c\u793a\u4f8b\u53ef\u4ee5\u901a\u8fc7\u6267\u884c count(*) \u548c GROUP BY \u8ba1\u7b97\u51fa\u4ea7\u54c1\u9500\u91cf\u7684\u5b9e\u65f6\u6392\u540d\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"$ ./bin/sql-client.sh -f flink-create.all.sql\nNo default environment specified.\nSearching for '/home/disk1/flink-1.13.6/conf/sql-client-defaults.yaml'...not found.\n[INFO] Executing SQL from file.\n\nFlink SQL> CREATE DATABASE IF NOT EXISTS `default_catalog`.`demo`;\n[INFO] Execute statement succeed.\n\n-- \u6839\u636e MySQL \u7684\u8ba2\u5355\u8868\u521b\u5efa\u52a8\u6001\u8868 source table\nFlink SQL> \nCREATE TABLE IF NOT EXISTS `default_catalog`.`demo`.`orders_src` (\n  `order_id` BIGINT NOT NULL,\n  `product_id` INT NULL,\n  `order_date` TIMESTAMP NOT NULL,\n  `customer_name` STRING NOT NULL,\n  `product_name` STRING NOT NULL,\n  `price` DECIMAL(10, 5) NULL,\n  PRIMARY KEY(`order_id`)\n NOT ENFORCED\n) with (\n  'connector' = 'mysql-cdc',\n  'hostname' = 'xxx.xx.xxx.xxx',\n  'port' = '3306',\n  'username' = 'root',\n  'password' = '',\n  'database-name' = 'demo',\n  'table-name' = 'orders'\n);\n[INFO] Execute statement succeed.\n\n-- \u521b\u5efa\u52a8\u6001\u8868 sink table\nFlink SQL> \nCREATE TABLE IF NOT EXISTS `default_catalog`.`demo`.`orders_sink` (\n `product_id` INT NOT NULL,\n `product_name` STRING NOT NULL,\n `sales_cnt` BIGINT NOT NULL,\n PRIMARY KEY(`product_id`)\nNOT ENFORCED\n) with (\n  'sink.max-retries' = '10',\n  'jdbc-url' = 'jdbc:mysql://<fe_host>:<fe_query_port>',\n  'password' = '',\n  'sink.properties.strip_outer_array' = 'true',\n  'sink.properties.format' = 'json',\n  'load-url' = '<fe_host>:<fe_http_port>',\n  'username' = 'root',\n  'sink.buffer-flush.interval-ms' = '15000',\n  'connector' = 'starrocks',\n  'database-name' = 'demo',\n  'table-name' = 'orders'\n);\n[INFO] Execute statement succeed.\n\n-- \u6267\u884c\u67e5\u8be2\uff0c\u5b9e\u73b0\u4ea7\u54c1\u5b9e\u65f6\u6392\u884c\u699c\u529f\u80fd\uff0c\u67e5\u8be2\u4e0d\u65ad\u66f4\u65b0 sink table\uff0c\u4ee5\u53cd\u6620 source table \u4e0a\u7684\u66f4\u6539\nFlink SQL> \nINSERT INTO `default_catalog`.`demo`.`orders_sink` select product_id,product_name, count(*) as cnt from `default_catalog`.`demo`.`orders_src` group by product_id,product_name;\n[INFO] Submitting SQL update statement to the cluster...\n[INFO] SQL update statement has been successfully submitted to the cluster:\nJob ID: 5ae005c4b3425d8bb13fe660260a35da\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u5982\u679c\u60a8\u53ea\u9700\u8981\u540c\u6b65\u90e8\u5206\u6570\u636e\uff0c\u4f8b\u5982\u652f\u4ed8\u65f6\u95f4\u5728 2021 \u5e74 01 \u6708 01 \u65e5\u4e4b\u540e\u7684\u6570\u636e\uff0c\u5219\u53ef\u4ee5\u5728 INSERT INTO SELECT \u8bed\u53e5\u4e2d\u4f7f\u7528 WHERE order_date >'2021-01-01' \u8bbe\u7f6e\u8fc7\u6ee4\u6761\u4ef6\u3002\u4e0d\u6ee1\u8db3\u8be5\u6761\u4ef6\u7684\u6570\u636e\uff0c\u5373\u652f\u4ed8\u65f6\u95f4\u5728 2021 \u5e74 01 \u6708 01 \u65e5\u6216\u8005\u4e4b\u524d\u7684\u6570\u636e\u4e0d\u4f1a\u540c\u6b65\u81f3 StarRocks\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sql",children:"INSERT INTO `default_catalog`.`demo`.`orders_sink` SELECT product_id,product_name, COUNT(*) AS cnt FROM `default_catalog`.`demo`.`orders_src` WHERE order_date >'2021-01-01 00:00:01' GROUP BY product_id,product_name;\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u5982\u679c\u8fd4\u56de\u5982\u4e0b\u7ed3\u679c\uff0c\u5219\u8868\u793a Flink job \u5df2\u7ecf\u63d0\u4ea4\uff0c\u5f00\u59cb\u540c\u6b65\u5168\u91cf\u548c\u589e\u91cf\u6570\u636e\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-SQL",children:"[INFO] Submitting SQL update statement to the cluster...\n[INFO] SQL update statement has been successfully submitted to the cluster:\nJob ID: 5ae005c4b3425d8bb13fe660260a35da\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(s.a,{href:"https://nightlies.apache.org/flink/flink-docs-master/docs/try-flink/flink-operations-playground/#flink-webui",children:"Flink WebUI"})," \u6216\u8005\u5728 Flink \u547d\u4ee4\u884c\u6267\u884c\u547d\u4ee4",(0,r.jsx)(s.code,{children:"bin/flink list -running"}),"\uff0c\u67e5\u770b Flink \u96c6\u7fa4\u4e2d\u6b63\u5728\u8fd0\u884c\u7684 Flink job\uff0c\u4ee5\u53ca Flink job ID\u3002"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Flink WebUI \u754c\u9762\n",(0,r.jsx)(s.img,{alt:"task \u62d3\u6251",src:e(56360).Z+"",width:"1123",height:"808"})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u5728 Flink \u547d\u4ee4\u884c\u6267\u884c\u547d\u4ee4",(0,r.jsx)(s.code,{children:"bin/flink list -running"})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"$ bin/flink list -running\nWaiting for response...\n------------------ Running/Restarting Jobs -------------------\n13.10.2022 15:03:54 : 040a846f8b58e82eb99c8663424294d5 : insert-into_default_catalog.lily.example_tbl1_sink (RUNNING)\n--------------------------------------------------------------\n"})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"\u8bf4\u660e"}),"\n",(0,r.jsxs)(s.p,{children:["\u5982\u679c\u4efb\u52a1\u51fa\u73b0\u5f02\u5e38\uff0c\u53ef\u4ee5\u901a\u8fc7 Flink WebUI \u6216\u8005  ",(0,r.jsx)(s.strong,{children:"flink-1.14.5/log"})," \u76ee\u5f55\u7684\u65e5\u5fd7\u6587\u4ef6\u8fdb\u884c\u6392\u67e5\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,r.jsx)(s.h3,{id:"\u5982\u4f55\u4e3a\u4e0d\u540c\u7684\u8868\u8bbe\u7f6e\u4e0d\u540c\u7684-flink-connector-starrocks-\u914d\u7f6e",children:(0,r.jsx)(s.strong,{children:"\u5982\u4f55\u4e3a\u4e0d\u540c\u7684\u8868\u8bbe\u7f6e\u4e0d\u540c\u7684 flink-connector-starrocks \u914d\u7f6e"})}),"\n",(0,r.jsxs)(s.p,{children:["\u4f8b\u5982\u6570\u636e\u6e90\u67d0\u4e9b\u8868\u66f4\u65b0\u9891\u7e41\uff0c\u9700\u8981\u63d0\u9ad8 flink connector sr \u7684\u5bfc\u5165\u901f\u5ea6\u7b49\uff0c\u5219\u9700\u8981\u5728 SMT \u914d\u7f6e\u6587\u4ef6 ",(0,r.jsx)(s.strong,{children:"config_prod.conf"})," \u4e2d\u4e3a\u8fd9\u4e9b\u8868\u8bbe\u7f6e\u5355\u72ec\u7684 flink-connector-starrocks \u914d\u7f6e\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"[table-rule.1]\n# pattern to match databases for setting properties\ndatabase = ^order.*$\n# pattern to match tables for setting properties\ntable = ^.*$\n\n############################################\n### flink sink configurations\n### DO NOT set `connector`, `table-name`, `database-name`, they are auto-generated\n############################################\nflink.starrocks.jdbc-url=jdbc:mysql://<fe_host>:<fe_query_port>\nflink.starrocks.load-url= <fe_host>:<fe_http_port>\nflink.starrocks.username=user2\nflink.starrocks.password=xxxxxx\nflink.starrocks.sink.properties.format=csv\nflink.starrocks.sink.properties.column_separator=\\x01\nflink.starrocks.sink.properties.row_delimiter=\\x02\nflink.starrocks.sink.buffer-flush.interval-ms=15000\n\n[table-rule.2]\n# pattern to match databases for setting properties\ndatabase = ^order2.*$\n# pattern to match tables for setting properties\ntable = ^.*$\n\n############################################\n### flink sink configurations\n### DO NOT set `connector`, `table-name`, `database-name`, they are auto-generated\n############################################\nflink.starrocks.jdbc-url=jdbc:mysql://<fe_host>:<fe_query_port>\nflink.starrocks.load-url= <fe_host>:<fe_http_port>\nflink.starrocks.username=user2\nflink.starrocks.password=xxxxxx\nflink.starrocks.sink.properties.format=csv\nflink.starrocks.sink.properties.column_separator=\\x01\nflink.starrocks.sink.properties.row_delimiter=\\x02\nflink.starrocks.sink.buffer-flush.interval-ms=10000\n"})}),"\n",(0,r.jsx)(s.h3,{id:"\u540c\u6b65-mysql-\u5206\u5e93\u5206\u8868\u540e\u7684\u591a\u5f20\u8868\u81f3-starrocks-\u7684\u4e00\u5f20\u8868",children:(0,r.jsx)(s.strong,{children:"\u540c\u6b65 MySQL \u5206\u5e93\u5206\u8868\u540e\u7684\u591a\u5f20\u8868\u81f3 StarRocks \u7684\u4e00\u5f20\u8868"})}),"\n",(0,r.jsxs)(s.p,{children:["\u5982\u679c\u6570\u636e\u6e90 MySQL \u8fdb\u884c\u5206\u5e93\u5206\u8868\uff0c\u6570\u636e\u62c6\u5206\u6210\u591a\u5f20\u8868\u751a\u81f3\u5206\u5e03\u5728\u591a\u4e2a\u5e93\u4e2d\uff0c\u5e76\u4e14\u6240\u6709\u8868\u7684\u7ed3\u6784\u90fd\u662f\u76f8\u540c\u7684\uff0c\u5219\u60a8\u53ef\u4ee5\u8bbe\u7f6e",(0,r.jsx)(s.code,{children:"[table-rule]"}),"\uff0c\u5c06\u8fd9\u4e9b\u8868\u540c\u6b65\u81f3 StarRocks \u7684\u4e00\u5f20\u8868\u4e2d\u3002\u6bd4\u5982 MySQL \u6709\u4e24\u4e2a\u6570\u636e\u5e93 edu_db_1\uff0cedu_db_2\uff0c\u6bcf\u4e2a\u6570\u636e\u5e93\u4e0b\u9762\u5206\u522b\u6709\u4e24\u5f20\u8868 course_1\uff0ccourse_2\uff0c\u5e76\u4e14\u6240\u6709\u8868\u7684\u7ed3\u6784\u90fd\u662f\u76f8\u540c\u7684\uff0c\u5219\u901a\u8fc7\u8bbe\u7f6e\u5982\u4e0b",(0,r.jsx)(s.code,{children:"[table-rule]"}),"\u53ef\u4ee5\u5c06\u5176\u540c\u6b65\u81f3 StarRocks\u7684\u4e00\u5f20\u8868\u4e2d\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u8bf4\u660e"})}),"\n",(0,r.jsxs)(s.p,{children:["\u6570\u636e\u6e90\u591a\u5f20\u8868\u540c\u6b65\u81f3 StarRocks\u7684\u4e00\u5f20\u8868\uff0c\u8868\u540d\u9ed8\u8ba4\u4e3a course__auto_shard\u3002\u5982\u679c\u9700\u8981\u4fee\u6539\uff0c\u5219\u53ef\u4ee5\u5728 ",(0,r.jsx)(s.strong,{children:"result"})," \u76ee\u5f55\u7684 SQL \u6587\u4ef6  ",(0,r.jsx)(s.strong,{children:"starrocks-create.all.sql\u3001 flink-create.all.sql"})," \u4e2d\u4fee\u6539\u3002"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Bash",children:"[table-rule.1]\n# pattern to match databases for setting properties\ndatabase = ^edu_db_[0-9]*$\n# pattern to match tables for setting properties\ntable = ^course_[0-9]*$\n\n############################################\n### flink sink configurations\n### DO NOT set `connector`, `table-name`, `database-name`, they are auto-generated\n############################################\nflink.starrocks.jdbc-url = jdbc: mysql://xxx.xxx.x.x:xxxx\nflink.starrocks.load-url = xxx.xxx.x.x:xxxx\nflink.starrocks.username = user2\nflink.starrocks.password = xxxxxx\nflink.starrocks.sink.properties.format=csv\nflink.starrocks.sink.properties.column_separator =\\x01\nflink.starrocks.sink.properties.row_delimiter =\\x02\nflink.starrocks.sink.buffer-flush.interval-ms = 5000\n"})}),"\n",(0,r.jsxs)(s.h3,{id:"\u6570\u636e\u4ee5-json-\u683c\u5f0f\u5bfc\u5165",children:[(0,r.jsx)(s.strong,{children:"\u6570\u636e\u4ee5"})," ",(0,r.jsx)(s.strong,{children:"JSON"})," ",(0,r.jsx)(s.strong,{children:"\u683c\u5f0f\u5bfc\u5165"})]}),"\n",(0,r.jsxs)(s.p,{children:["\u4ee5\u4e0a\u793a\u4f8b\u6570\u636e\u4ee5 CSV \u683c\u5f0f\u5bfc\u5165\uff0c\u5982\u679c\u6570\u636e\u65e0\u6cd5\u9009\u51fa\u5408\u9002\u7684\u5206\u9694\u7b26\uff0c\u5219\u60a8\u9700\u8981\u66ff\u6362 ",(0,r.jsx)(s.code,{children:"[table-rule]"})," \u4e2d",(0,r.jsx)(s.code,{children:"flink.starrocks.*"}),"\u7684\u5982\u4e0b\u53c2\u6570\u3002"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Plain",children:"flink.starrocks.sink.properties.format=csv\nflink.starrocks.sink.properties.column_separator =\\x01\nflink.starrocks.sink.properties.row_delimiter =\\x02\n"})}),"\n",(0,r.jsx)(s.p,{children:"\u4f20\u5165\u5982\u4e0b\u53c2\u6570\uff0c\u6570\u636e\u4ee5 JSON \u683c\u5f0f\u5bfc\u5165\u3002"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-Plain",children:"flink.starrocks.sink.properties.format=json\nflink.starrocks.sink.properties.strip_outer_array=true\n"})}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsx)(s.p,{children:"\u8be5\u65b9\u5f0f\u4f1a\u5bf9\u5bfc\u5165\u901f\u5ea6\u6709\u4e00\u5b9a\u7684\u5f71\u54cd\u3002"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"\u591a\u4e2a\u7684-insert-into-\u8bed\u53e5\u5408\u5e76\u4e3a\u4e00\u4e2a-flink-job",children:"\u591a\u4e2a\u7684 INSERT INTO \u8bed\u53e5\u5408\u5e76\u4e3a\u4e00\u4e2a Flink job"}),"\n",(0,r.jsxs)(s.p,{children:["\u5728 ",(0,r.jsx)(s.strong,{children:"flink-create.all.sql"})," \u6587\u4ef6\u4f7f\u7528 ",(0,r.jsx)(s.a,{href:"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sqlclient/#execute-a-set-of-sql-statements",children:"STATEMENT SET"})," \u8bed\u53e5\uff0c\u5c06\u591a\u4e2a\u7684 INSERT INTO \u8bed\u53e5\u5408\u5e76\u4e3a\u4e00\u4e2a Flink job\uff0c\u907f\u514d\u5360\u7528\u8fc7\u591a\u7684 Flink job \u8d44\u6e90\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"\u8bf4\u660e"}),"\n",(0,r.jsxs)(s.p,{children:["Flink \u81ea 1.13 \u8d77 \u652f\u6301  ",(0,r.jsx)(s.a,{href:"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sqlclient/#execute-a-set-of-sql-statements",children:"STATEMENT SET"})," \u8bed\u6cd5\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u6253\u5f00 ",(0,r.jsx)(s.strong,{children:"result/flink-create.all.sql"})," \u6587\u4ef6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["\u4fee\u6539\u6587\u4ef6\u4e2d\u7684 SQL \u8bed\u53e5\uff0c\u5c06\u6240\u6709\u7684  INSERT INTO \u8bed\u53e5\u8c03\u6574\u4f4d\u7f6e\u5230\u6587\u4ef6\u672b\u5c3e\u3002\u7136\u540e\u5728\u7b2c\u4e00\u6761 INSERT\u8bed\u53e5\u7684\u524d\u9762\u52a0\u4e0a",(0,r.jsx)(s.code,{children:"EXECUTE STATEMENT SET BEGIN"})," \u5728\u6700\u540e\u4e00 INSERT \u8bed\u53e5\u540e\u9762\u52a0\u4e0a\u4e00\u884c",(0,r.jsx)(s.code,{children:"END;"}),"\u3002"]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,r.jsx)(s.p,{children:"CREATE DATABASE\u3001CREATE TABLE  \u7684\u4f4d\u7f6e\u4fdd\u6301\u4e0d\u53d8\u3002"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-SQL",children:"CREATE DATABASE IF NOT EXISTS db;\nCREATE TABLE IF NOT EXISTS db.a1;\nCREATE TABLE IF NOT EXISTS db.b1;\nCREATE TABLE IF NOT EXISTS db.a2;\nCREATE TABLE IF NOT EXISTS db.b2;\nEXECUTE STATEMENT SET \nBEGIN\n  -- 1\u4e2a\u6216\u8005\u591a\u4e2a INSERT INTO statements\nINSERT INTO db.a1 SELECT * FROM db.b1;\nINSERT INTO db.a2 SELECT * FROM db.b2;\nEND;\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["\u66f4\u591a\u5e38\u89c1\u95ee\u9898\uff0c\u8bf7\u53c2\u89c1 ",(0,r.jsx)(s.a,{href:"/doc/zh/docs/3.0/faq/loading/synchronize_mysql_into_sr",children:"MySQL \u5b9e\u65f6\u540c\u6b65\u81f3 StarRocks \u5e38\u89c1\u95ee\u9898"}),"\u3002"]})]})}const h=function(n={}){const{wrapper:s}=Object.assign({},(0,l.ah)(),n.components);return s?(0,r.jsx)(s,Object.assign({},n,{children:(0,r.jsx)(d,n)})):d(n)}},87655:(n,s,e)=>{e.d(s,{Z:()=>r});const r=e.p+"assets/images/4.9.2-bde39f3aa7c56cfb1c29cdeb7de03e0c.png"},56360:(n,s,e)=>{e.d(s,{Z:()=>r});const r=e.p+"assets/images/4.9.3-9e843337839f2cf335718301cd414239.png"},11151:(n,s,e)=>{e.d(s,{Zo:()=>t,ah:()=>i});var r=e(67294);const l=r.createContext({});function i(n){const s=r.useContext(l);return r.useMemo((()=>"function"==typeof n?n(s):{...s,...n}),[s,n])}const c={};function t({components:n,children:s,disableParentContext:e}){let t;return t=e?"function"==typeof n?n({}):n||c:i(n),r.createElement(l.Provider,{value:t},s)}}}]);