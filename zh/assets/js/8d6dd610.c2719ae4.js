"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[57195],{4406:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>t,contentTitle:()=>i,default:()=>j,frontMatter:()=>c,metadata:()=>r,toc:()=>h});var l=n(85893),d=n(11151);const c={displayed_sidebar:"Chinese31"},i="CBO \u7edf\u8ba1\u4fe1\u606f",r={id:"using_starrocks/Cost_based_optimizer",title:"CBO \u7edf\u8ba1\u4fe1\u606f",description:"\u672c\u6587\u4ecb\u7ecd StarRocks CBO\uff08Cost-based Optimizer\uff09\u4f18\u5316\u5668\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u4ee5\u53ca\u5982\u4f55\u4e3a CBO \u4f18\u5316\u5668\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f\u3002StarRocks 2.4 \u7248\u672c\u5f15\u5165\u76f4\u65b9\u56fe\u4f5c\u4e3a\u7edf\u8ba1\u4fe1\u606f\uff0c\u63d0\u4f9b\u66f4\u51c6\u786e\u7684\u6570\u636e\u5206\u5e03\u7edf\u8ba1\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-3.1/using_starrocks/Cost_based_optimizer.md",sourceDirName:"using_starrocks",slug:"/using_starrocks/Cost_based_optimizer",permalink:"/doc/zh/docs/using_starrocks/Cost_based_optimizer",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/docs.zh-cn/edit/main/using_starrocks/Cost_based_optimizer.md",tags:[],version:"3.1",frontMatter:{displayed_sidebar:"Chinese31"},sidebar:"Chinese31",previous:{title:"\u67e5\u8be2\u52a0\u901f",permalink:"/doc/zh/docs/category/\u67e5\u8be2\u52a0\u901f"},next:{title:"\u540c\u6b65\u7269\u5316\u89c6\u56fe",permalink:"/doc/zh/docs/using_starrocks/Materialized_view-single_table"}},t={},h=[{value:"\u4ec0\u4e48\u662f CBO \u4f18\u5316\u5668",id:"\u4ec0\u4e48\u662f-cbo-\u4f18\u5316\u5668",level:2},{value:"\u7edf\u8ba1\u4fe1\u606f\u6570\u636e\u7c7b\u578b",id:"\u7edf\u8ba1\u4fe1\u606f\u6570\u636e\u7c7b\u578b",level:2},{value:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",id:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",level:3},{value:"\u76f4\u65b9\u56fe",id:"\u76f4\u65b9\u56fe",level:3},{value:"\u91c7\u96c6\u7c7b\u578b",id:"\u91c7\u96c6\u7c7b\u578b",level:2},{value:"\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f",id:"\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f",level:2},{value:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6 (Auto Full Collection)",id:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6-auto-full-collection",level:3},{value:"\u624b\u52a8\u91c7\u96c6 (Manual Collection)",id:"\u624b\u52a8\u91c7\u96c6-manual-collection",level:3},{value:"\u624b\u52a8\u91c7\u96c6\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",id:"\u624b\u52a8\u91c7\u96c6\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",level:4},{value:"\u624b\u52a8\u91c7\u96c6\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f",id:"\u624b\u52a8\u91c7\u96c6\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f",level:4},{value:"\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6 (Custom Collection)",id:"\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6-custom-collection",level:3},{value:"\u521b\u5efa\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",id:"\u521b\u5efa\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",level:4},{value:"\u67e5\u770b\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",id:"\u67e5\u770b\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",level:4},{value:"\u5220\u9664\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",id:"\u5220\u9664\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",level:4},{value:"\u67e5\u770b\u91c7\u96c6\u4efb\u52a1\u72b6\u6001",id:"\u67e5\u770b\u91c7\u96c6\u4efb\u52a1\u72b6\u6001",level:2},{value:"\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f",id:"\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f",level:2},{value:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e",id:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e",level:3},{value:"\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e",id:"\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e",level:3},{value:"\u5220\u9664\u7edf\u8ba1\u4fe1\u606f",id:"\u5220\u9664\u7edf\u8ba1\u4fe1\u606f",level:2},{value:"\u5220\u9664\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",id:"\u5220\u9664\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",level:3},{value:"\u5220\u9664\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f",id:"\u5220\u9664\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f",level:3},{value:"\u53d6\u6d88\u91c7\u96c6\u4efb\u52a1",id:"\u53d6\u6d88\u91c7\u96c6\u4efb\u52a1",level:2},{value:"FE\u914d\u7f6e\u9879\u8bf4\u660e",id:"fe\u914d\u7f6e\u9879\u8bf4\u660e",level:2},{value:"\u66f4\u591a\u4fe1\u606f",id:"\u66f4\u591a\u4fe1\u606f",level:2}];function x(s){const e=Object.assign({h1:"h1",p:"p",h2:"h2",h3:"h3",ul:"ul",li:"li",code:"code",strong:"strong",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",blockquote:"blockquote",ol:"ol",a:"a",h4:"h4",pre:"pre"},(0,d.ah)(),s.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h1,{id:"cbo-\u7edf\u8ba1\u4fe1\u606f",children:"CBO \u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.p,{children:"\u672c\u6587\u4ecb\u7ecd StarRocks CBO\uff08Cost-based Optimizer\uff09\u4f18\u5316\u5668\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u4ee5\u53ca\u5982\u4f55\u4e3a CBO \u4f18\u5316\u5668\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f\u3002StarRocks 2.4 \u7248\u672c\u5f15\u5165\u76f4\u65b9\u56fe\u4f5c\u4e3a\u7edf\u8ba1\u4fe1\u606f\uff0c\u63d0\u4f9b\u66f4\u51c6\u786e\u7684\u6570\u636e\u5206\u5e03\u7edf\u8ba1\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u4ec0\u4e48\u662f-cbo-\u4f18\u5316\u5668",children:"\u4ec0\u4e48\u662f CBO \u4f18\u5316\u5668"}),"\n",(0,l.jsx)(e.p,{children:"CBO \u4f18\u5316\u5668\u662f\u67e5\u8be2\u4f18\u5316\u7684\u5173\u952e\u3002\u4e00\u6761 SQL \u67e5\u8be2\u5230\u8fbe StarRocks \u540e\uff0c\u4f1a\u89e3\u6790\u4e3a\u4e00\u6761\u903b\u8f91\u6267\u884c\u8ba1\u5212\uff0cCBO \u4f18\u5316\u5668\u5bf9\u903b\u8f91\u8ba1\u5212\u8fdb\u884c\u6539\u5199\u548c\u8f6c\u6362\uff0c\u751f\u6210\u591a\u4e2a\u7269\u7406\u6267\u884c\u8ba1\u5212\u3002\u901a\u8fc7\u4f30\u7b97\u8ba1\u5212\u4e2d\u6bcf\u4e2a\u7b97\u5b50\u7684\u6267\u884c\u4ee3\u4ef7\uff08CPU\u3001\u5185\u5b58\u3001\u7f51\u7edc\u3001I/O \u7b49\u8d44\u6e90\u6d88\u8017\uff09\uff0c\u9009\u62e9\u4ee3\u4ef7\u6700\u4f4e\u7684\u4e00\u6761\u67e5\u8be2\u8def\u5f84\u4f5c\u4e3a\u6700\u7ec8\u7684\u7269\u7406\u67e5\u8be2\u8ba1\u5212\u3002"}),"\n",(0,l.jsx)(e.p,{children:"StarRocks CBO \u4f18\u5316\u5668\u91c7\u7528 Cascades \u6846\u67b6\uff0c\u57fa\u4e8e\u591a\u79cd\u7edf\u8ba1\u4fe1\u606f\u8fdb\u884c\u4ee3\u4ef7\u4f30\u7b97\uff0c\u80fd\u591f\u5728\u6570\u4e07\u7ea7\u522b\u7684\u6267\u884c\u8ba1\u5212\u4e2d\uff0c\u9009\u62e9\u4ee3\u4ef7\u6700\u4f4e\u7684\u6267\u884c\u8ba1\u5212\uff0c\u63d0\u5347\u590d\u6742\u67e5\u8be2\u7684\u6548\u7387\u548c\u6027\u80fd\u3002StarRocks 1.16.0 \u7248\u672c\u63a8\u51fa\u81ea\u7814\u7684 CBO \u4f18\u5316\u5668\u30021.19 \u7248\u672c\u53ca\u4ee5\u4e0a\uff0c\u8be5\u7279\u6027\u9ed8\u8ba4\u5f00\u542f\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u7edf\u8ba1\u4fe1\u606f\u662f CBO \u4f18\u5316\u5668\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u7edf\u8ba1\u4fe1\u606f\u7684\u51c6\u786e\u4e0e\u5426\u51b3\u5b9a\u4e86\u4ee3\u4ef7\u4f30\u7b97\u662f\u5426\u51c6\u786e\uff0c\u8fdb\u800c\u51b3\u5b9a\u4e86CBO \u4f18\u5316\u5668\u7684\u6027\u80fd\u597d\u574f\u3002\u4e0b\u6587\u8be6\u7ec6\u4ecb\u7ecd\u7edf\u8ba1\u4fe1\u606f\u7684\u7c7b\u578b\u3001\u91c7\u96c6\u7b56\u7565\u3001\u4ee5\u53ca\u5982\u4f55\u521b\u5efa\u91c7\u96c6\u4efb\u52a1\u548c\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f\u3002"}),"\n",(0,l.jsx)(e.h2,{id:"\u7edf\u8ba1\u4fe1\u606f\u6570\u636e\u7c7b\u578b",children:"\u7edf\u8ba1\u4fe1\u606f\u6570\u636e\u7c7b\u578b"}),"\n",(0,l.jsx)(e.p,{children:"StarRocks \u4f1a\u91c7\u96c6\u591a\u79cd\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e3a\u67e5\u8be2\u4f18\u5316\u63d0\u4f9b\u4ee3\u4ef7\u4f30\u7b97\u7684\u53c2\u8003\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",children:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.p,{children:"StarRocks \u9ed8\u8ba4\u5b9a\u671f\u91c7\u96c6\u8868\u548c\u5217\u7684\u5982\u4e0b\u57fa\u7840\u4fe1\u606f\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"row_count : \u8868\u7684\u603b\u884c\u6570"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"data_size: \u5217\u7684\u6570\u636e\u5927\u5c0f"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"ndv: \u5217\u57fa\u6570\uff0c\u5373 distinct value \u7684\u4e2a\u6570"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"null_count: \u5217\u4e2d NULL \u503c\u7684\u4e2a\u6570"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"min: \u5217\u7684\u6700\u5c0f\u503c"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"max: \u5217\u7684\u6700\u5927\u503c"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u5b58\u50a8\u5728 ",(0,l.jsx)(e.code,{children:"_statistics_.table_statistic_v1"})," \u8868\u4e2d\uff0c\u60a8\u53ef\u4ee5\u5728 StarRocks \u96c6\u7fa4 ",(0,l.jsx)(e.code,{children:"_statistics_"})," \u6570\u636e\u5e93\u4e0b\u67e5\u770b\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"\u76f4\u65b9\u56fe",children:"\u76f4\u65b9\u56fe"}),"\n",(0,l.jsx)(e.p,{children:"\u4ece 2.4 \u7248\u672c\u5f00\u59cb\uff0cStarRocks \u5f15\u5165\u76f4\u65b9\u56fe (Histogram)\u3002\u76f4\u65b9\u56fe\u5e38\u7528\u4e8e\u4f30\u7b97\u6570\u636e\u5206\u5e03\uff0c\u5f53\u6570\u636e\u5b58\u5728\u503e\u659c\u65f6\uff0c\u76f4\u65b9\u56fe\u53ef\u4ee5\u5f25\u8865\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u4f30\u7b97\u5b58\u5728\u7684\u504f\u5dee\uff0c\u8f93\u51fa\u66f4\u51c6\u786e\u7684\u6570\u636e\u5206\u5e03\u4fe1\u606f\u3002"}),"\n",(0,l.jsx)(e.p,{children:"StarRocks \u91c7\u7528\u7b49\u6df1\u76f4\u65b9\u56fe (Equi-height Histogram)\uff0c\u5373\u9009\u5b9a\u82e5\u5e72\u4e2a bucket\uff0c\u6bcf\u4e2a bucket \u4e2d\u7684\u6570\u636e\u91cf\u51e0\u4e4e\u76f8\u7b49\u3002\u5bf9\u4e8e\u51fa\u73b0\u9891\u6b21\u8f83\u9ad8\u3001\u5bf9\u9009\u62e9\u7387\uff08selectivity\uff09\u5f71\u54cd\u8f83\u5927\u7684\u6570\u503c\uff0cStarRocks \u4f1a\u5206\u914d\u5355\u72ec\u7684\u6876\u8fdb\u884c\u5b58\u50a8\u3002\u6876\u6570\u91cf\u8d8a\u591a\u65f6\uff0c\u76f4\u65b9\u56fe\u7684\u4f30\u7b97\u7cbe\u5ea6\u5c31\u8d8a\u9ad8\uff0c\u4f46\u662f\u4e5f\u4f1a\u589e\u52a0\u7edf\u8ba1\u4fe1\u606f\u7684\u5185\u5b58\u4f7f\u7528\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\u8c03\u6574\u76f4\u65b9\u56fe\u7684\u6876\u4e2a\u6570\u548c\u5355\u4e2a\u91c7\u96c6\u4efb\u52a1\u7684 MCV\uff08most common value) \u4e2a\u6570\u3002"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u76f4\u65b9\u56fe\u9002\u7528\u4e8e\u6709\u660e\u663e\u6570\u636e\u503e\u659c\uff0c\u5e76\u4e14\u6709\u9891\u7e41\u67e5\u8be2\u8bf7\u6c42\u7684\u5217\u3002\u5982\u679c\u60a8\u7684\u8868\u6570\u636e\u5206\u5e03\u6bd4\u8f83\u5747\u5300\uff0c\u53ef\u4ee5\u4e0d\u4f7f\u7528\u76f4\u65b9\u56fe\u3002\u76f4\u65b9\u56fe\u652f\u6301\u7684\u5217\u7c7b\u578b\u4e3a\u6570\u503c\u7c7b\u578b\u3001DATE\u3001DATETIME \u6216\u5b57\u7b26\u4e32\u7c7b\u578b\u3002"})}),"\n",(0,l.jsxs)(e.p,{children:["\u76ee\u524d\u76f4\u65b9\u56fe\u4ec5\u652f\u6301",(0,l.jsx)(e.strong,{children:"\u624b\u52a8\u62bd\u6837"}),"\u91c7\u96c6\u3002\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f\u5b58\u50a8\u5728 ",(0,l.jsx)(e.code,{children:"_statistics_"})," \u6570\u636e\u5e93\u7684 ",(0,l.jsx)(e.code,{children:"histogram_statistics"})," \u8868\u4e2d\u3002"]}),"\n",(0,l.jsx)(e.h2,{id:"\u91c7\u96c6\u7c7b\u578b",children:"\u91c7\u96c6\u7c7b\u578b"}),"\n",(0,l.jsx)(e.p,{children:"\u968f\u7740\u8868\u7684\u5bfc\u5165\u6216\u8005\u5220\u9664\u64cd\u4f5c\uff0c\u8868\u7684\u5927\u5c0f\u548c\u6570\u636e\u5206\u5e03\u4f1a\u9891\u7e41\u66f4\u65b0\uff0c\u56e0\u6b64\u9700\u8981\u5b9a\u671f\u66f4\u65b0\u7edf\u8ba1\u4fe1\u606f\uff0c\u4ee5\u786e\u4fdd\u7edf\u8ba1\u4fe1\u606f\u80fd\u51c6\u786e\u53cd\u6620\u8868\u4e2d\u7684\u5b9e\u9645\u6570\u636e\u3002\u5728\u521b\u5efa\u91c7\u96c6\u4efb\u52a1\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u6839\u636e\u4e1a\u52a1\u573a\u666f\u51b3\u5b9a\u4f7f\u7528\u54ea\u79cd\u91c7\u96c6\u7c7b\u578b\u548c\u91c7\u96c6\u65b9\u5f0f\u3002"}),"\n",(0,l.jsx)(e.p,{children:"StarRocks \u652f\u6301\u5168\u91cf\u91c7\u96c6 (full collection) \u548c\u62bd\u6837\u91c7\u96c6 (sampled collection)\u3002\u5168\u91cf\u91c7\u96c6\u548c\u62bd\u6837\u91c7\u96c6\u5747\u652f\u6301\u81ea\u52a8\u548c\u624b\u52a8\u91c7\u96c6\u65b9\u5f0f\u3002"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u91c7\u96c6\u7c7b\u578b"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u91c7\u96c6\u65b9\u5f0f"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u91c7\u96c6\u65b9\u6cd5"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u4f18\u7f3a\u70b9"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u5168\u91cf\u91c7\u96c6"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u6216\u624b\u52a8"}),(0,l.jsxs)(e.td,{children:["\u626b\u63cf\u5168\u8868\uff0c\u91c7\u96c6\u771f\u5b9e\u7684\u7edf\u8ba1\u4fe1\u606f\u503c\u3002\u6309\u7167\u5206\u533a\uff08Partition\uff09\u7ea7\u522b\u91c7\u96c6\uff0c\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u7684\u76f8\u5e94\u5217\u4f1a\u6309\u7167\u6bcf\u4e2a\u5206\u533a\u91c7\u96c6\u4e00\u6761\u7edf\u8ba1\u4fe1\u606f\u3002\u5982\u679c\u5bf9\u5e94\u5206\u533a\u65e0\u6570\u636e\u66f4\u65b0\uff0c\u5219\u4e0b\u6b21\u81ea\u52a8\u91c7\u96c6\u65f6\uff0c\u4e0d\u518d\u91c7\u96c6\u8be5\u5206\u533a\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u51cf\u5c11\u8d44\u6e90\u5360\u7528\u3002\u5168\u91cf\u7edf\u8ba1\u4fe1\u606f\u5b58\u50a8\u5728 ",(0,l.jsx)(e.code,{children:"_statistics_.column_statistics"})," \u8868\u4e2d\u3002"]}),(0,l.jsx)(e.td,{children:"\u4f18\u70b9\uff1a\u7edf\u8ba1\u4fe1\u606f\u51c6\u786e\uff0c\u6709\u5229\u4e8e\u4f18\u5316\u5668\u66f4\u51c6\u786e\u5730\u4f30\u7b97\u6267\u884c\u8ba1\u5212\u3002\u7f3a\u70b9\uff1a\u6d88\u8017\u5927\u91cf\u7cfb\u7edf\u8d44\u6e90\uff0c\u901f\u5ea6\u8f83\u6162\u3002\u4ece 2.4.5 \u7248\u672c\u5f00\u59cb\u652f\u6301\u7528\u6237\u914d\u7f6e\u81ea\u52a8\u91c7\u96c6\u7684\u65f6\u95f4\u6bb5\uff0c\u51cf\u5c11\u8d44\u6e90\u6d88\u8017\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"\u62bd\u6837\u91c7\u96c6"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u6216\u624b\u52a8"}),(0,l.jsxs)(e.td,{children:["\u4ece\u8868\u7684\u6bcf\u4e2a\u5206\u533a\u4e2d\u5747\u5300\u62bd\u53d6 N \u884c\u6570\u636e\uff0c\u8ba1\u7b97\u7edf\u8ba1\u4fe1\u606f\u3002\u62bd\u6837\u7edf\u8ba1\u4fe1\u606f\u6309\u7167\u8868\u7ea7\u522b\u91c7\u96c6\uff0c\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u7684\u6bcf\u4e00\u5217\u4f1a\u5b58\u50a8\u4e00\u6761\u7edf\u8ba1\u4fe1\u606f\u3002\u5217\u7684\u57fa\u6570\u4fe1\u606f (ndv) \u662f\u6309\u7167\u62bd\u6837\u6837\u672c\u4f30\u7b97\u7684\u5168\u5c40\u57fa\u6570\uff0c\u548c\u771f\u5b9e\u7684\u57fa\u6570\u4fe1\u606f\u4f1a\u5b58\u5728\u4e00\u5b9a\u504f\u5dee\u3002\u62bd\u6837\u7edf\u8ba1\u4fe1\u606f\u5b58\u50a8\u5728 ",(0,l.jsx)(e.code,{children:"_statistics_.table_statistic_v1"})," \u8868\u4e2d\u3002"]}),(0,l.jsx)(e.td,{children:"\u4f18\u70b9\uff1a\u6d88\u8017\u8f83\u5c11\u7684\u7cfb\u7edf\u8d44\u6e90\uff0c\u901f\u5ea6\u5feb\u3002 \u7f3a\u70b9\uff1a\u7edf\u8ba1\u4fe1\u606f\u5b58\u5728\u4e00\u5b9a\u8bef\u5dee\uff0c\u53ef\u80fd\u4f1a\u5f71\u54cd\u4f18\u5316\u5668\u8bc4\u4f30\u6267\u884c\u8ba1\u5212\u7684\u51c6\u786e\u6027\u3002"})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f",children:"\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.p,{children:"StarRocks \u63d0\u4f9b\u7075\u6d3b\u7684\u4fe1\u606f\u91c7\u96c6\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u573a\u666f\u9009\u62e9\u81ea\u52a8\u91c7\u96c6\u3001\u624b\u52a8\u91c7\u96c6\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cStarRocks \u4f1a\u5468\u671f\u6027\u81ea\u52a8\u91c7\u96c6\u8868\u7684\u5168\u91cf\u7edf\u8ba1\u4fe1\u606f\u3002\u9ed8\u8ba4\u68c0\u67e5\u66f4\u65b0\u65f6\u95f4\u4e3a 5 \u5206\u949f\u4e00\u6b21\uff0c\u5982\u679c\u53d1\u73b0\u6570\u636e\u7684\u66f4\u65b0\u6bd4\u4f8b\u6ee1\u8db3\u6761\u4ef6\uff0c\u4f1a\u81ea\u52a8\u89e6\u53d1\u91c7\u96c6\u3002",(0,l.jsx)(e.strong,{children:"\u5168\u91cf\u91c7\u96c6\u53ef\u80fd\u4f1a\u6d88\u8017\u5927\u91cf\u7684\u7cfb\u7edf\u8d44\u6e90"}),"\uff0c\u5982\u679c\u60a8\u4e0d\u5e0c\u671b\u4f7f\u7528\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\uff0c\u53ef\u4ee5\u8bbe\u7f6e FE \u914d\u7f6e\u9879 ",(0,l.jsx)(e.code,{children:"enable_collect_full_statistic"})," \u4e3a ",(0,l.jsx)(e.code,{children:"false"}),"\uff0c\u7cfb\u7edf\u4f1a\u505c\u6b62\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\uff0c\u6839\u636e\u60a8\u521b\u5efa\u7684\u81ea\u5b9a\u4e49\u4efb\u52a1\u8fdb\u884c\u5b9a\u5236\u5316\u91c7\u96c6\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6-auto-full-collection",children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6 (Auto Full Collection)"}),"\n",(0,l.jsx)(e.p,{children:"\u5bf9\u4e8e\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\uff0cStarRocks \u9ed8\u8ba4\u81ea\u52a8\u8fdb\u884c\u5168\u8868\u5168\u91cf\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\uff0c\u65e0\u9700\u4eba\u5de5\u64cd\u4f5c\u3002\u5bf9\u4e8e\u4ece\u672a\u91c7\u96c6\u8fc7\u7edf\u8ba1\u4fe1\u606f\u7684\u8868\uff0c\u4f1a\u5728\u4e00\u4e2a\u8c03\u5ea6\u5468\u671f\u5185\u81ea\u52a8\u8fdb\u884c\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u3002\u5bf9\u4e8e\u5df2\u7ecf\u91c7\u96c6\u8fc7\u7edf\u8ba1\u4fe1\u606f\u7684\u8868\uff0cStarRocks \u4f1a\u81ea\u52a8\u66f4\u65b0\u8868\u7684\u603b\u884c\u6570\u4ee5\u53ca\u4fee\u6539\u7684\u884c\u6570\uff0c\u5c06\u8fd9\u4e9b\u4fe1\u606f\u5b9a\u671f\u6301\u4e45\u5316\u4e0b\u6765\uff0c\u4f5c\u4e3a\u662f\u5426\u89e6\u53d1\u81ea\u52a8\u91c7\u96c6\u7684\u5224\u65ad\u6761\u4ef6\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u4ece 2.4.5 \u7248\u672c\u5f00\u59cb\uff0c\u652f\u6301\u7528\u6237\u914d\u7f6e\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u7684\u65f6\u95f4\u6bb5\uff0c\u9632\u6b62\u56e0\u96c6\u4e2d\u91c7\u96c6\u800c\u5bfc\u81f4\u7684\u96c6\u7fa4\u6027\u80fd\u6296\u52a8\u3002\u91c7\u96c6\u65f6\u95f4\u6bb5\u53ef\u901a\u8fc7 ",(0,l.jsx)(e.code,{children:"statistic_auto_analyze_start_time"})," \u548c ",(0,l.jsx)(e.code,{children:"statistic_auto_analyze_end_time"})," \u8fd9\u4e24\u4e2a FE \u914d\u7f6e\u9879\u6765\u914d\u7f6e\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u89e6\u53d1\u81ea\u52a8\u91c7\u96c6\u7684\u5224\u65ad\u6761\u4ef6\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4e0a\u6b21\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u4e4b\u540e\uff0c\u8be5\u8868\u662f\u5426\u53d1\u751f\u8fc7\u6570\u636e\u53d8\u66f4\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5206\u533a\u6570\u636e\u662f\u5426\u53d1\u751f\u8fc7\u4fee\u6539\uff0c\u672a\u53d1\u751f\u8fc7\u4fee\u6539\u7684\u5206\u533a\u4e0d\u505a\u91cd\u65b0\u91c7\u96c6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u91c7\u96c6\u662f\u5426\u843d\u5728\u914d\u7f6e\u7684\u81ea\u52a8\u91c7\u96c6\u65f6\u95f4\u6bb5\u5185\uff08\u9ed8\u8ba4\u4e3a\u5168\u5929\u91c7\u96c6\uff0c\u53ef\u8fdb\u884c\u4fee\u6539\uff09\u3002"}),"\n",(0,l.jsxs)(e.li,{children:["\u8be5\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u5065\u5eb7\u5ea6\uff08",(0,l.jsx)(e.code,{children:"statistic_auto_collect_ratio"}),"\uff09\u662f\u5426\u4f4e\u4e8e\u914d\u7f6e\u9608\u503c\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u5065\u5eb7\u5ea6\u8ba1\u7b97\u516c\u5f0f\uff1a"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5f53\u66f4\u65b0\u5206\u533a\u6570\u91cf\u5c0f\u4e8e 10\u4e2a \u65f6\uff1a1 - MIN(\u4e0a\u6b21\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u540e\u7684\u66f4\u65b0\u884c\u6570/\u603b\u884c\u6570)"}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u5f53\u66f4\u65b0\u5206\u533a\u6570\u91cf\u5927\u4e8e\u7b49\u4e8e 10 \u4e2a\u65f6\uff1a 1 - MIN(\u4e0a\u6b21\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u540e\u7684\u66f4\u65b0\u884c\u6570/\u603b\u884c\u6570, \u4e0a\u6b21\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u540e\u7684\u66f4\u65b0\u7684\u5206\u533a\u6570/\u603b\u5206\u533a\u6570)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u540c\u65f6\uff0cStarRocks \u5bf9\u4e8e\u4e0d\u540c\u66f4\u65b0\u9891\u7387\u3001\u4e0d\u540c\u5927\u5c0f\u7684\u8868\uff0c\u505a\u4e86\u8be6\u7ec6\u7684\u914d\u7f6e\u7b56\u7565\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u5bf9\u4e8e\u6570\u636e\u91cf\u8f83\u5c0f\u7684\u8868\uff0c",(0,l.jsx)(e.strong,{children:"StarRocks \u9ed8\u8ba4\u4e0d\u505a\u9650\u5236\uff0c\u5373\u4f7f\u8868\u7684\u66f4\u65b0\u9891\u7387\u5f88\u9ad8\uff0c\u4e5f\u4f1a\u5b9e\u65f6\u91c7\u96c6"}),"\u3002\u53ef\u4ee5\u901a\u8fc7 ",(0,l.jsx)(e.code,{children:"statistic_auto_collect_small_table_size"})," \u914d\u7f6e\u5c0f\u8868\u7684\u5927\u5c0f\u9608\u503c\uff0c\u6216\u8005\u901a\u8fc7",(0,l.jsx)(e.code,{children:"statistic_auto_collect_small_table_interval"})," \u914d\u7f6e\u5c0f\u8868\u7684\u91c7\u96c6\u95f4\u9694\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u5bf9\u4e8e\u6570\u636e\u91cf\u8f83\u5927\u7684\u8868\uff0cStarRocks\u6309\u7167\u4ee5\u4e0b\u7b56\u7565\u9650\u5236\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u9ed8\u8ba4\u91c7\u96c6\u7684\u95f4\u9694\u4e0d\u4f4e\u4e8e 12 \u5c0f\u65f6\uff0c\u901a\u8fc7  ",(0,l.jsx)(e.code,{children:"statistic_auto_collect_large_table_interval"})," \u914d\u7f6e\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u6ee1\u8db3\u91c7\u96c6\u95f4\u9694\u7684\u6761\u4ef6\u4e0b\uff0c\u5f53\u5065\u5eb7\u5ea6\u4f4e\u4e8e\u62bd\u6837\u9608\u91c7\u96c6\u503c\u65f6\uff0c\u89e6\u53d1\u62bd\u6837\u91c7\u96c6\uff0c\u901a\u8fc7 ",(0,l.jsx)(e.code,{children:"statistic_auto_collect_sample_threshold"})," \u914d\u7f6e\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u6ee1\u8db3\u91c7\u96c6\u95f4\u9694\u7684\u6761\u4ef6\u4e0b\uff0c\u5065\u5eb7\u5ea6\u9ad8\u4e8e\u62bd\u6837\u91c7\u96c6\u9608\u503c\uff0c\u4f4e\u4e8e\u91c7\u96c6\u9608\u503c\u65f6\uff0c\u89e6\u53d1\u5168\u91cf\u91c7\u96c6\uff0c\u901a\u8fc7 ",(0,l.jsx)(e.code,{children:"statistic_auto_collect_ratio"})," \u914d\u7f6e\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5f53\u6536\u96c6\u7684\u6700\u5927\u5206\u533a\u5927\u5c0f\u5927\u4e8e 100G \u65f6\uff0c\u89e6\u53d1\u62bd\u6837\u91c7\u96c6\uff0c\u901a\u8fc7 ",(0,l.jsx)(e.code,{children:"statistic_max_full_collect_data_size"})," \u914d\u7f6e\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u7531\u7cfb\u7edf\u81ea\u52a8\u6267\u884c\uff0c\u9ed8\u8ba4\u914d\u7f6e\u5982\u4e0b\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 ",(0,l.jsx)(e.a,{href:"/doc/zh/docs/sql-reference/sql-statements/Administration/ADMIN_SET_CONFIG",children:"ADMIN SET CONFIG"})," \u547d\u4ee4\u4fee\u6539\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u914d\u7f6e\u9879:"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"FE\u914d\u7f6e\u9879"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u7c7b\u578b"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u9ed8\u8ba4\u503c"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"enable_statistic_collect"}),(0,l.jsx)(e.td,{children:"BOOLEAN"}),(0,l.jsx)(e.td,{children:"TRUE"}),(0,l.jsx)(e.td,{children:"\u662f\u5426\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f\u3002\u8be5\u53c2\u6570\u9ed8\u8ba4\u6253\u5f00\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"enable_collect_full_statistic"}),(0,l.jsx)(e.td,{children:"BOOLEAN"}),(0,l.jsx)(e.td,{children:"TRUE"}),(0,l.jsx)(e.td,{children:"\u662f\u5426\u5f00\u542f\u81ea\u52a8\u5168\u91cf\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u3002\u8be5\u53c2\u6570\u9ed8\u8ba4\u6253\u5f00\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_collect_interval_sec"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"300"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5b9a\u671f\u4efb\u52a1\u4e2d\uff0c\u68c0\u6d4b\u6570\u636e\u66f4\u65b0\u7684\u95f4\u9694\uff0c\u9ed8\u8ba4 5 \u5206\u949f\u3002\u5355\u4f4d\uff1a\u79d2\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_analyze_start_time"}),(0,l.jsx)(e.td,{children:"STRING"}),(0,l.jsx)(e.td,{children:"00:00:00"}),(0,l.jsxs)(e.td,{children:["\u7528\u4e8e\u914d\u7f6e\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u7684\u8d77\u59cb\u65f6\u95f4\u3002\u53d6\u503c\u8303\u56f4\uff1a",(0,l.jsx)(e.code,{children:"00:00:00"})," ~ ",(0,l.jsx)(e.code,{children:"23:59:59"}),"\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_analyze_end_time"}),(0,l.jsx)(e.td,{children:"STRING"}),(0,l.jsx)(e.td,{children:"23:59:59"}),(0,l.jsxs)(e.td,{children:["\u7528\u4e8e\u914d\u7f6e\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u7684\u7ed3\u675f\u65f6\u95f4\u3002\u53d6\u503c\u8303\u56f4\uff1a",(0,l.jsx)(e.code,{children:"00:00:00"})," ~ ",(0,l.jsx)(e.code,{children:"23:59:59"}),"\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_small_table_size"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"5368709120"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u7684\u5c0f\u8868\u9608\u503c\uff0c\u9ed8\u8ba4 5 GB\uff0c\u5355\u4f4d\uff1aByte\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_small_table_interval"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"3600"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u7684\u5c0f\u8868\u91c7\u96c6\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_large_table_interval"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"86400"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u7684\u5927\u8868\u91c7\u96c6\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_ratio"}),(0,l.jsx)(e.td,{children:"DOUBLE"}),(0,l.jsx)(e.td,{children:"0.8"}),(0,l.jsx)(e.td,{children:"\u89e6\u53d1\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u6536\u96c6\u7684\u5065\u5eb7\u5ea6\u9608\u503c\u3002\u5982\u679c\u7edf\u8ba1\u4fe1\u606f\u7684\u5065\u5eb7\u5ea6\u5c0f\u4e8e\u8be5\u9608\u503c\uff0c\u5219\u89e6\u53d1\u81ea\u52a8\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_sample_threshold"}),(0,l.jsx)(e.td,{children:"DOUBLE"}),(0,l.jsx)(e.td,{children:"0.3"}),(0,l.jsx)(e.td,{children:"\u89e6\u53d1\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u62bd\u6837\u6536\u96c6\u7684\u5065\u5eb7\u5ea6\u9608\u503c\u3002\u5982\u679c\u7edf\u8ba1\u4fe1\u606f\u7684\u5065\u5eb7\u5ea6\u5c0f\u4e8e\u8be5\u9608\u503c\uff0c\u5219\u89e6\u53d1\u81ea\u52a8\u62bd\u6837\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_max_full_collect_data_size"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"107374182400"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u7684\u6700\u5927\u5206\u533a\u5927\u5c0f\u3002\u5355\u4f4d\uff1aByte\u3002\u5982\u679c\u8d85\u8fc7\u8be5\u503c\uff0c\u5219\u653e\u5f03\u5168\u91cf\u91c7\u96c6\uff0c\u8f6c\u4e3a\u5bf9\u8be5\u8868\u8fdb\u884c\u62bd\u6837\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_full_collect_buffer"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"20971520"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u5199\u5165\u7684\u7f13\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\uff1aByte\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_collect_max_row_count_per_query"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"5000000000"}),(0,l.jsx)(e.td,{children:"\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u5355\u6b21\u6700\u591a\u67e5\u8be2\u7684\u6570\u636e\u884c\u6570\u3002\u7edf\u8ba1\u4fe1\u606f\u4efb\u52a1\u4f1a\u6309\u7167\u8be5\u914d\u7f6e\u81ea\u52a8\u62c6\u5206\u4e3a\u591a\u6b21\u4efb\u52a1\u6267\u884c\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_collect_too_many_version_sleep"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"600000"}),(0,l.jsx)(e.td,{children:"\u5f53\u7edf\u8ba1\u4fe1\u606f\u8868\u7684\u5199\u5165\u7248\u672c\u8fc7\u591a\u65f6(Too many tablet \u5f02\u5e38)\uff0c\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u7684\u4f11\u7720\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\u3002"})]})]})]}),"\n",(0,l.jsx)(e.h3,{id:"\u624b\u52a8\u91c7\u96c6-manual-collection",children:"\u624b\u52a8\u91c7\u96c6 (Manual Collection)"}),"\n",(0,l.jsxs)(e.p,{children:["\u53ef\u4ee5\u901a\u8fc7 ANALYZE TABLE \u8bed\u53e5\u521b\u5efa\u624b\u52a8\u91c7\u96c6\u4efb\u52a1\u3002",(0,l.jsx)(e.strong,{children:"\u624b\u52a8\u91c7\u96c6\u9ed8\u8ba4\u4e3a\u540c\u6b65\u64cd\u4f5c\u3002\u60a8\u4e5f\u53ef\u4ee5\u5c06\u624b\u52a8\u4efb\u52a1\u8bbe\u7f6e\u4e3a\u5f02\u6b65\uff0c\u6267\u884c\u547d\u4ee4\u540e\uff0c\u7cfb\u7edf\u4f1a\u7acb\u5373\u8fd4\u56de\u547d\u4ee4\u7684\u72b6\u6001\uff0c\u4f46\u662f\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u4efb\u52a1\u4f1a\u5f02\u6b65\u5728\u540e\u53f0\u8fd0\u884c\u3002\u5f02\u6b65\u91c7\u96c6\u9002\u7528\u4e8e\u8868\u6570\u636e\u91cf\u5927\u7684\u573a\u666f\uff0c\u540c\u6b65\u91c7\u96c6\u9002\u7528\u4e8e\u8868\u6570\u636e\u91cf\u5c0f\u7684\u573a\u666f\u3002\u624b\u52a8\u4efb\u52a1\u521b\u5efa\u540e\u4ec5\u4f1a\u6267\u884c\u4e00\u6b21\uff0c\u65e0\u9700\u624b\u52a8\u5220\u9664\u3002\u8fd0\u884c\u72b6\u6001\u53ef\u4ee5\u4f7f\u7528 SHOW ANALYZE STATUS \u67e5\u770b"}),"\u3002"]}),"\n",(0,l.jsx)(e.h4,{id:"\u624b\u52a8\u91c7\u96c6\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",children:"\u624b\u52a8\u91c7\u96c6\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"ANALYZE [FULL|SAMPLE] TABLE tbl_name (col_name [,col_name])\n[WITH SYNC | ASYNC MODE]\nPROPERTIES (property [,property]);\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u91c7\u96c6\u7c7b\u578b"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"FULL\uff1a\u5168\u91cf\u91c7\u96c6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"SAMPLE\uff1a\u62bd\u6837\u91c7\u96c6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679c\u4e0d\u6307\u5b9a\u91c7\u96c6\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3a\u5168\u91cf\u91c7\u96c6\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"WITH SYNC | ASYNC MODE"}),": \u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\u540c\u6b65\u91c7\u96c6\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"col_name"}),": \u8981\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f\u7684\u5217\uff0c\u591a\u5217\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u8868\u793a\u91c7\u96c6\u6574\u5f20\u8868\u7684\u4fe1\u606f\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"PROPERTIES"}),": \u91c7\u96c6\u4efb\u52a1\u7684\u81ea\u5b9a\u4e49\u53c2\u6570\u3002\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u5219\u91c7\u7528",(0,l.jsx)(e.code,{children:"fe.conf"}),"\u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"PROPERTIES"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u7c7b\u578b"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u9ed8\u8ba4\u503c"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsx)(e.tbody,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_sample_collect_rows"}),(0,l.jsx)(e.td,{children:"INT"}),(0,l.jsx)(e.td,{children:"200000"}),(0,l.jsx)(e.td,{children:"\u6700\u5c0f\u91c7\u6837\u884c\u6570\u3002\u5982\u679c\u53c2\u6570\u53d6\u503c\u8d85\u8fc7\u4e86\u5b9e\u9645\u7684\u8868\u884c\u6570\uff0c\u9ed8\u8ba4\u8fdb\u884c\u5168\u91cf\u91c7\u96c6\u3002"})]})})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u793a\u4f8b"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u624b\u52a8\u5168\u91cf\u91c7\u96c6 (Manual full collection)"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"-- \u624b\u52a8\u5168\u91cf\u91c7\u96c6\u6307\u5b9a\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u3002\nANALYZE TABLE tbl_name;\n\n-- \u624b\u52a8\u5168\u91cf\u91c7\u96c6\u6307\u5b9a\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u3002\nANALYZE FULL TABLE tbl_name;\n\n-- \u624b\u52a8\u5168\u91cf\u91c7\u96c6\u6307\u5b9a\u8868\u6307\u5b9a\u5217\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u3002\nANALYZE TABLE tbl_name(c1, c2, c3);\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u624b\u52a8\u62bd\u6837\u91c7\u96c6 (Manual sampled collection)"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:'-- \u624b\u52a8\u62bd\u6837\u91c7\u96c6\u6307\u5b9a\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u3002\nANALYZE SAMPLE TABLE tbl_name;\n\n-- \u624b\u52a8\u62bd\u6837\u91c7\u96c6\u6307\u5b9a\u8868\u6307\u5b9a\u5217\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u8bbe\u7f6e\u62bd\u6837\u884c\u6570\u3002\nANALYZE SAMPLE TABLE tbl_name (v1, v2, v3) PROPERTIES(\n    "statistic_sample_collect_rows" = "1000000"\n);\n'})}),"\n",(0,l.jsx)(e.h4,{id:"\u624b\u52a8\u91c7\u96c6\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f",children:"\u624b\u52a8\u91c7\u96c6\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"ANALYZE TABLE tbl_name UPDATE HISTOGRAM ON col_name [, col_name]\n[WITH SYNC | ASYNC MODE]\n[WITH N BUCKETS]\nPROPERTIES (property [,property]);\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"col_name"}),": \u8981\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f\u7684\u5217\uff0c\u591a\u5217\u4f7f\u7528\u9017\u53f7\u5206\u9694\u3002\u8be5\u53c2\u6570\u5fc5\u586b\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"WITH SYNC | ASYNC MODE"}),": \u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\u540c\u6b65\u91c7\u96c6\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"WITH N BUCKETS"}),": ",(0,l.jsx)(e.code,{children:"N"}),"\u4e3a\u76f4\u65b9\u56fe\u7684\u5206\u6876\u6570\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u5219\u4f7f\u7528 ",(0,l.jsx)(e.code,{children:"fe.conf"})," \u4e2d\u7684\u9ed8\u8ba4\u503c\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["PROPERTIES: \u91c7\u96c6\u4efb\u52a1\u7684\u81ea\u5b9a\u4e49\u53c2\u6570\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u5219\u4f7f\u7528 ",(0,l.jsx)(e.code,{children:"fe.conf"})," \u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"PROPERTIES"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u7c7b\u578b"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u9ed8\u8ba4\u503c"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_sample_collect_rows"}),(0,l.jsx)(e.td,{children:"INT"}),(0,l.jsx)(e.td,{children:"200000"}),(0,l.jsx)(e.td,{children:"\u6700\u5c0f\u91c7\u6837\u884c\u6570\u3002\u5982\u679c\u53c2\u6570\u53d6\u503c\u8d85\u8fc7\u4e86\u5b9e\u9645\u7684\u8868\u884c\u6570\uff0c\u9ed8\u8ba4\u8fdb\u884c\u5168\u91cf\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"histogram_mcv_size"}),(0,l.jsx)(e.td,{children:"INT"}),(0,l.jsx)(e.td,{children:"100"}),(0,l.jsx)(e.td,{children:"\u76f4\u65b9\u56fe most common value (MCV) \u7684\u6570\u91cf\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"histogram_sample_ratio"}),(0,l.jsx)(e.td,{children:"FLOAT"}),(0,l.jsx)(e.td,{children:"0.1"}),(0,l.jsx)(e.td,{children:"\u76f4\u65b9\u56fe\u91c7\u6837\u6bd4\u4f8b\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"histogram_max_sample_row_count"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"10000000"}),(0,l.jsx)(e.td,{children:"\u76f4\u65b9\u56fe\u6700\u5927\u91c7\u6837\u884c\u6570\u3002"})]})]})]}),"\n",(0,l.jsxs)(e.p,{children:["\u76f4\u65b9\u56fe\u7684\u91c7\u6837\u884c\u6570\u7531\u591a\u4e2a\u53c2\u6570\u5171\u540c\u63a7\u5236\uff0c\u91c7\u6837\u884c\u6570\u53d6 ",(0,l.jsx)(e.code,{children:"statistic_sample_collect_rows"})," \u548c\u8868\u603b\u884c\u6570 ",(0,l.jsx)(e.code,{children:"histogram_sample_ratio"})," \u4e24\u8005\u4e2d\u7684\u6700\u5927\u503c\u3002\u6700\u591a\u4e0d\u8d85\u8fc7 ",(0,l.jsx)(e.code,{children:"histogram_max_sample_row_count"})," \u6307\u5b9a\u7684\u884c\u6570\u3002\u5982\u679c\u8d85\u8fc7\uff0c\u5219\u6309\u7167\u8be5\u53c2\u6570\u5b9a\u4e49\u7684\u4e0a\u9650\u884c\u6570\u8fdb\u884c\u91c7\u96c6\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:["\u76f4\u65b9\u56fe\u4efb\u52a1\u5b9e\u9645\u6267\u884c\u4e2d\u4f7f\u7528\u7684 ",(0,l.jsx)(e.strong,{children:"PROPERTIES"}),"\uff0c\u53ef\u4ee5\u901a\u8fc7 SHOW ANALYZE STATUS \u4e2d\u7684 ",(0,l.jsx)(e.strong,{children:"PROPERTIES"})," \u5217\u67e5\u770b\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u793a\u4f8b"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:'-- \u624b\u52a8\u91c7\u96c6v1\u5217\u7684\u76f4\u65b9\u56fe\u4fe1\u606f\uff0c\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u3002\nANALYZE TABLE tbl_name UPDATE HISTOGRAM ON v1;\n\n-- \u624b\u52a8\u91c7\u96c6v1\u5217\u7684\u76f4\u65b9\u56fe\u4fe1\u606f\uff0c\u6307\u5b9a32\u4e2a\u5206\u6876\uff0cmcv\u6307\u5b9a\u4e3a32\u4e2a\uff0c\u91c7\u6837\u6bd4\u4f8b\u4e3a50%\u3002\nANALYZE TABLE tbl_name UPDATE HISTOGRAM ON v1,v2 WITH 32 BUCKETS \nPROPERTIES(\n   "histogram_mcv_size" = "32",\n   "histogram_sample_ratio" = "0.5"\n);\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6-custom-collection",children:"\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6 (Custom Collection)"}),"\n",(0,l.jsx)(e.h4,{id:"\u521b\u5efa\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",children:"\u521b\u5efa\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1"}),"\n",(0,l.jsx)(e.p,{children:"\u53ef\u4ee5\u901a\u8fc7 CREATE ANALYZE \u8bed\u53e5\u521b\u5efa\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u3002"}),"\n",(0,l.jsxs)(e.p,{children:["\u521b\u5efa\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u4e4b\u524d\uff0c\u9700\u8981\u5148\u5173\u95ed\u81ea\u52a8\u5168\u91cf\u91c7\u96c6 ",(0,l.jsx)(e.code,{children:"enable_collect_full_statistic=false"}),"\uff0c\u5426\u5219\u81ea\u5b9a\u4e49\u91c7\u96c6\u4efb\u52a1\u4e0d\u751f\u6548\u3002 \u5728\u5173\u95ed ",(0,l.jsx)(e.code,{children:"enable_collect_full_statistic=false"}),"\u540e\uff0c ",(0,l.jsx)(e.strong,{children:"StarRocks\u4f1a\u81ea\u52a8\u521b\u5efa\u81ea\u5b9a\u4e49\u91c7\u96c6\u4efb\u52a1\uff0c\u9ed8\u8ba4\u91c7\u96c6\u62bd\u6837\u91c7\u96c6\u6240\u6709\u8868\u3002"})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"-- \u5b9a\u671f\u91c7\u96c6\u6240\u6709\u6570\u636e\u5e93\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE [FULL|SAMPLE] ALL PROPERTIES (property [,property]);\n\n-- \u5b9a\u671f\u91c7\u96c6\u6307\u5b9a\u6570\u636e\u5e93\u4e0b\u6240\u6709\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE [FULL|SAMPLE] DATABASE db_name PROPERTIES (property [,property]);\n\n-- \u5b9a\u671f\u91c7\u96c6\u6307\u5b9a\u8868\u3001\u5217\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE [FULL|SAMPLE] TABLE tbl_name (col_name [,col_name]) PROPERTIES (property [,property]);\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"\u91c7\u96c6\u7c7b\u578b"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"FULL\uff1a\u5168\u91cf\u91c7\u96c6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"SAMPLE\uff1a\u62bd\u6837\u91c7\u96c6\u3002"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679c\u4e0d\u6307\u5b9a\u91c7\u96c6\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3a\u5168\u91cf\u91c7\u96c6\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"col_name"}),": \u8981\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f\u7684\u5217\uff0c\u591a\u5217\u4f7f\u7528\u9017\u53f7 (,)\u5206\u9694\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u8868\u793a\u91c7\u96c6\u6574\u5f20\u8868\u7684\u4fe1\u606f\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"PROPERTIES"}),": \u91c7\u96c6\u4efb\u52a1\u7684\u81ea\u5b9a\u4e49\u53c2\u6570\u3002\u5982\u679c\u4e0d\u914d\u7f6e\uff0c\u5219\u91c7\u7528",(0,l.jsx)(e.code,{children:"fe.conf"}),"\u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"PROPERTIES"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u7c7b\u578b"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u9ed8\u8ba4\u503c"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_ratio"}),(0,l.jsx)(e.td,{children:"FLOAT"}),(0,l.jsx)(e.td,{children:"0.8"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u7684\u5065\u5eb7\u5ea6\u9608\u503c\u3002\u5982\u679c\u7edf\u8ba1\u4fe1\u606f\u7684\u5065\u5eb7\u5ea6\u5c0f\u4e8e\u8be5\u9608\u503c\uff0c\u5219\u89e6\u53d1\u81ea\u52a8\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistics_max_full_collect_data_size"}),(0,l.jsx)(e.td,{children:"INT"}),(0,l.jsx)(e.td,{children:"100"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u7684\u6700\u5927\u5206\u533a\u7684\u5927\u5c0f\u3002\u5355\u4f4d: GB\u3002\u5982\u679c\u67d0\u4e2a\u5206\u533a\u8d85\u8fc7\u8be5\u503c\uff0c\u5219\u653e\u5f03\u5168\u91cf\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\uff0c\u8f6c\u4e3a\u5bf9\u8be5\u8868\u8fdb\u884c\u62bd\u6837\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_sample_collect_rows"}),(0,l.jsx)(e.td,{children:"INT"}),(0,l.jsx)(e.td,{children:"200000"}),(0,l.jsx)(e.td,{children:"\u62bd\u6837\u91c7\u96c6\u7684\u91c7\u6837\u884c\u6570\u3002\u5982\u679c\u8be5\u53c2\u6570\u53d6\u503c\u8d85\u8fc7\u4e86\u5b9e\u9645\u7684\u8868\u884c\u6570\uff0c\u5219\u8fdb\u884c\u5168\u91cf\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_exclude_pattern"}),(0,l.jsx)(e.td,{children:"STRING"}),(0,l.jsx)(e.td,{children:"NULL"}),(0,l.jsxs)(e.td,{children:["\u81ea\u52a8\u91c7\u96c6\u65f6\uff0c\u9700\u8981\u6392\u9664\u7684\u5e93\u8868\uff0c\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\uff0c\u5339\u914d\u7684\u683c\u5f0f\u4e3a ",(0,l.jsx)(e.code,{children:"database.table"}),"\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_interval"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"0"}),(0,l.jsxs)(e.td,{children:["\u81ea\u52a8\u91c7\u96c6\u7684\u95f4\u9694\u65f6\u95f4\uff0cStarRocks \u9ed8\u8ba4\u6839\u636e\u8868\u5927\u5c0f\u9009\u62e9\u4f7f\u7528",(0,l.jsx)(e.code,{children:"statistic_auto_collect_small_table_interval"})," \u6216\u8005 ",(0,l.jsx)(e.code,{children:"statistic_auto_collect_large_table_interval"}),"\uff0c\u5355\u4f4d\uff1a\u79d2\u3002"]})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u793a\u4f8b"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:'-- \u5b9a\u671f\u5168\u91cf\u91c7\u96c6\u6240\u6709\u6570\u636e\u5e93\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE ALL;\n\n-- \u5b9a\u671f\u5168\u91cf\u91c7\u96c6\u6307\u5b9a\u6570\u636e\u5e93\u4e0b\u6240\u6709\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE DATABASE db_name;\n\n-- \u5b9a\u671f\u5168\u91cf\u91c7\u96c6\u6307\u5b9a\u6570\u636e\u5e93\u4e0b\u6240\u6709\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE FULL DATABASE db_name;\n\n-- \u5b9a\u671f\u5168\u91cf\u91c7\u96c6\u6307\u5b9a\u8868\u3001\u5217\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE TABLE tbl_name(c1, c2, c3); \n    \n-- \u5b9a\u671f\u5168\u91cf\u91c7\u96c6\u6240\u6709\u6570\u636e\u5e93\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e0d\u6536\u96c6`db_name`\u6570\u636e\u5e93\u3002\nCREATE ANALYZE ALL PROPERTIES (\n   "statistic_exclude_pattern" = "db_name\\."\n);    \n'})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u81ea\u52a8\u62bd\u6837\u91c7\u96c6"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:'-- \u5b9a\u671f\u62bd\u6837\u91c7\u96c6\u6307\u5b9a\u6570\u636e\u5e93\u4e0b\u6240\u6709\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\nCREATE ANALYZE SAMPLE DATABASE db_name;\n\n-- \u5b9a\u671f\u62bd\u6837\u91c7\u96c6\u6307\u5b9a\u8868\u3001\u5217\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u8bbe\u7f6e\u91c7\u6837\u884c\u6570\u548c\u5065\u5eb7\u5ea6\u9608\u503c\u3002\nCREATE ANALYZE SAMPLE TABLE tbl_name(c1, c2, c3) PROPERTIES(\n   "statistic_auto_collect_ratio" = "0.5",\n   "statistic_sample_collect_rows" = "1000000"\n);\n    \n-- \u81ea\u52a8\u91c7\u96c6\u6240\u6709\u6570\u636e\u5e93\u7684\u7edf\u8ba1\u4fe1\u606f\uff0c\u4e0d\u6536\u96c6`db_name.tbl_name`\u8868\u3002\nCREATE ANALYZE SAMPLE DATABASE db_name PROPERTIES (\n   "statistic_exclude_pattern" = "db_name\\.tbl_name"\n);    \n'})}),"\n",(0,l.jsx)(e.h4,{id:"\u67e5\u770b\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",children:"\u67e5\u770b\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"SHOW ANALYZE JOB [WHERE predicate]\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u60a8\u53ef\u4ee5\u4f7f\u7528 WHERE \u5b50\u53e5\u8bbe\u5b9a\u7b5b\u9009\u6761\u4ef6\uff0c\u8fdb\u884c\u8fd4\u56de\u7ed3\u679c\u7b5b\u9009\u3002\u8be5\u8bed\u53e5\u4f1a\u8fd4\u56de\u5982\u4e0b\u5217\u3002"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u5217\u540d"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Id"}),(0,l.jsx)(e.td,{children:"\u91c7\u96c6\u4efb\u52a1\u7684ID\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Database"}),(0,l.jsx)(e.td,{children:"\u6570\u636e\u5e93\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Table"}),(0,l.jsx)(e.td,{children:"\u8868\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Columns"}),(0,l.jsx)(e.td,{children:"\u5217\u540d\u5217\u8868\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Type"}),(0,l.jsx)(e.td,{children:"\u7edf\u8ba1\u4fe1\u606f\u7684\u7c7b\u578b\u3002\u53d6\u503c\uff1a FULL\uff0cSAMPLE\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Schedule"}),(0,l.jsxs)(e.td,{children:["\u8c03\u5ea6\u7684\u7c7b\u578b\u3002\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u56fa\u5b9a\u4e3a ",(0,l.jsx)(e.code,{children:"SCHEDULE"}),"\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Properties"}),(0,l.jsx)(e.td,{children:"\u81ea\u5b9a\u4e49\u53c2\u6570\u4fe1\u606f\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Status"}),(0,l.jsx)(e.td,{children:"\u4efb\u52a1\u72b6\u6001\uff0c\u5305\u62ec PENDING\uff08\u7b49\u5f85\uff09\u3001RUNNING\uff08\u6b63\u5728\u6267\u884c\uff09\u3001SUCCESS\uff08\u6267\u884c\u6210\u529f\uff09\u548c FAILED\uff08\u6267\u884c\u5931\u8d25\uff09\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"LastWorkTime"}),(0,l.jsx)(e.td,{children:"\u6700\u8fd1\u4e00\u6b21\u91c7\u96c6\u65f6\u95f4\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Reason"}),(0,l.jsxs)(e.td,{children:["\u4efb\u52a1\u5931\u8d25\u7684\u539f\u56e0\u3002\u5982\u679c\u6267\u884c\u6210\u529f\u5219\u4e3a ",(0,l.jsx)(e.code,{children:"NULL"}),"\u3002"]})]})]})]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u793a\u4f8b"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"-- \u67e5\u770b\u96c6\u7fa4\u5168\u90e8\u81ea\u5b9a\u4e49\u91c7\u96c6\u4efb\u52a1\u3002\nSHOW ANALYZE JOB\n\n-- \u67e5\u770b\u6570\u636e\u5e93test\u4e0b\u7684\u81ea\u5b9a\u4e49\u91c7\u96c6\u4efb\u52a1\u3002\nSHOW ANALYZE JOB where `database` = 'test';\n"})}),"\n",(0,l.jsx)(e.h4,{id:"\u5220\u9664\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1",children:"\u5220\u9664\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"DROP ANALYZE <ID>;\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u793a\u4f8b"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"DROP ANALYZE 266030;\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u67e5\u770b\u91c7\u96c6\u4efb\u52a1\u72b6\u6001",children:"\u67e5\u770b\u91c7\u96c6\u4efb\u52a1\u72b6\u6001"}),"\n",(0,l.jsx)(e.p,{children:"\u60a8\u53ef\u4ee5\u901a\u8fc7 SHOW ANALYZE STATUS \u8bed\u53e5\u67e5\u770b\u5f53\u524d\u6240\u6709\u91c7\u96c6\u4efb\u52a1\u7684\u72b6\u6001\u3002\u8be5\u8bed\u53e5\u4e0d\u652f\u6301\u67e5\u770b\u81ea\u5b9a\u4e49\u91c7\u96c6\u4efb\u52a1\u7684\u72b6\u6001\uff0c\u5982\u8981\u67e5\u770b\uff0c\u8bf7\u4f7f\u7528 SHOW ANALYZE JOB\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"SHOW ANALYZE STATUS [LIKE | WHERE predicate];\n"})}),"\n",(0,l.jsxs)(e.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.jsx)(e.code,{children:"Like"})," \u6216 ",(0,l.jsx)(e.code,{children:"Where"})," \u6765\u7b5b\u9009\u9700\u8981\u8fd4\u56de\u7684\u4fe1\u606f\u3002"]}),"\n",(0,l.jsx)(e.p,{children:"\u76ee\u524d SHOW ANALYZE STATUS \u4f1a\u8fd4\u56de\u5982\u4e0b\u5217\u3002"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u5217\u540d"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Id"}),(0,l.jsx)(e.td,{children:"\u91c7\u96c6\u4efb\u52a1\u7684ID\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Database"}),(0,l.jsx)(e.td,{children:"\u6570\u636e\u5e93\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Table"}),(0,l.jsx)(e.td,{children:"\u8868\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Columns"}),(0,l.jsx)(e.td,{children:"\u5217\u540d\u5217\u8868\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Type"}),(0,l.jsx)(e.td,{children:"\u7edf\u8ba1\u4fe1\u606f\u7684\u7c7b\u578b\uff0c\u5305\u62ec FULL\uff0cSAMPLE\uff0cHISTOGRAM\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Schedule"}),(0,l.jsxs)(e.td,{children:["\u8c03\u5ea6\u7684\u7c7b\u578b\u3002",(0,l.jsx)(e.code,{children:"ONCE"})," \u8868\u793a\u624b\u52a8\uff0c",(0,l.jsx)(e.code,{children:"SCHEDULE"})," \u8868\u793a\u81ea\u52a8\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Status"}),(0,l.jsx)(e.td,{children:"\u4efb\u52a1\u72b6\u6001\uff0c\u5305\u62ec RUNNING\uff08\u6b63\u5728\u6267\u884c\uff09\u3001SUCCESS\uff08\u6267\u884c\u6210\u529f\uff09\u548c FAILED\uff08\u6267\u884c\u5931\u8d25\uff09\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"StartTime"}),(0,l.jsx)(e.td,{children:"\u4efb\u52a1\u5f00\u59cb\u6267\u884c\u7684\u65f6\u95f4\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"EndTime"}),(0,l.jsx)(e.td,{children:"\u4efb\u52a1\u7ed3\u675f\u6267\u884c\u7684\u65f6\u95f4\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Properties"}),(0,l.jsx)(e.td,{children:"\u81ea\u5b9a\u4e49\u53c2\u6570\u4fe1\u606f\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Reason"}),(0,l.jsx)(e.td,{children:"\u4efb\u52a1\u5931\u8d25\u7684\u539f\u56e0\u3002\u5982\u679c\u6267\u884c\u6210\u529f\u5219\u4e3a NULL\u3002"})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f",children:"\u67e5\u770b\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.h3,{id:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e",children:"\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"SHOW STATS META [WHERE predicate];\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u8be5\u8bed\u53e5\u8fd4\u56de\u5982\u4e0b\u5217\u3002"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u5217\u540d"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Database"}),(0,l.jsx)(e.td,{children:"\u6570\u636e\u5e93\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Table"}),(0,l.jsx)(e.td,{children:"\u8868\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Columns"}),(0,l.jsx)(e.td,{children:"\u5217\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Type"}),(0,l.jsxs)(e.td,{children:["\u7edf\u8ba1\u4fe1\u606f\u7684\u7c7b\u578b\uff0c",(0,l.jsx)(e.code,{children:"FULL"})," \u8868\u793a\u5168\u91cf\uff0c",(0,l.jsx)(e.code,{children:"SAMPLE"})," \u8868\u793a\u62bd\u6837\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"UpdateTime"}),(0,l.jsx)(e.td,{children:"\u5f53\u524d\u8868\u7684\u6700\u65b0\u7edf\u8ba1\u4fe1\u606f\u66f4\u65b0\u65f6\u95f4\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Properties"}),(0,l.jsx)(e.td,{children:"\u81ea\u5b9a\u4e49\u53c2\u6570\u4fe1\u606f\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Healthy"}),(0,l.jsx)(e.td,{children:"\u7edf\u8ba1\u4fe1\u606f\u5065\u5eb7\u5ea6\u3002"})]})]})]}),"\n",(0,l.jsx)(e.h3,{id:"\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e",children:"\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"SHOW HISTOGRAM META [WHERE predicate];\n"})}),"\n",(0,l.jsx)(e.p,{children:"\u8be5\u8bed\u53e5\u8fd4\u56de\u5982\u4e0b\u5217\u3002"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u5217\u540d"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Database"}),(0,l.jsx)(e.td,{children:"\u6570\u636e\u5e93\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Table"}),(0,l.jsx)(e.td,{children:"\u8868\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Column"}),(0,l.jsx)(e.td,{children:"\u5217\u540d\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Type"}),(0,l.jsxs)(e.td,{children:["\u7edf\u8ba1\u4fe1\u606f\u7684\u7c7b\u578b\uff0c\u76f4\u65b9\u56fe\u56fa\u5b9a\u4e3a ",(0,l.jsx)(e.code,{children:"HISTOGRAM"}),"\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"UpdateTime"}),(0,l.jsx)(e.td,{children:"\u5f53\u524d\u8868\u7684\u6700\u65b0\u7edf\u8ba1\u4fe1\u606f\u66f4\u65b0\u65f6\u95f4\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Properties"}),(0,l.jsx)(e.td,{children:"\u81ea\u5b9a\u4e49\u53c2\u6570\u4fe1\u606f\u3002"})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"\u5220\u9664\u7edf\u8ba1\u4fe1\u606f",children:"\u5220\u9664\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.p,{children:"StarRocks \u652f\u6301\u624b\u52a8\u5220\u9664\u7edf\u8ba1\u4fe1\u606f\u3002\u624b\u52a8\u5220\u9664\u7edf\u8ba1\u4fe1\u606f\u65f6\uff0c\u4f1a\u5220\u9664\u7edf\u8ba1\u4fe1\u606f\u6570\u636e\u548c\u7edf\u8ba1\u4fe1\u606f\u5143\u6570\u636e\uff0c\u5e76\u4e14\u4f1a\u5220\u9664\u8fc7\u671f\u5185\u5b58\u4e2d\u7684\u7edf\u8ba1\u4fe1\u606f\u7f13\u5b58\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u5f53\u524d\u5b58\u5728\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\uff0c\u53ef\u80fd\u4f1a\u91cd\u65b0\u91c7\u96c6\u4e4b\u524d\u5df2\u5220\u9664\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 SHOW ANALYZE STATUS \u67e5\u770b\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u5386\u53f2\u8bb0\u5f55\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"\u5220\u9664\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f",children:"\u5220\u9664\u57fa\u7840\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"DROP STATS tbl_name\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u5220\u9664\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f",children:"\u5220\u9664\u76f4\u65b9\u56fe\u7edf\u8ba1\u4fe1\u606f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"ANALYZE TABLE tbl_name DROP HISTOGRAM ON col_name [, col_name];\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u53d6\u6d88\u91c7\u96c6\u4efb\u52a1",children:"\u53d6\u6d88\u91c7\u96c6\u4efb\u52a1"}),"\n",(0,l.jsx)(e.p,{children:"\u60a8\u53ef\u4ee5\u901a\u8fc7 KILL ANALYZE \u8bed\u53e5\u53d6\u6d88\u6b63\u5728\u8fd0\u884c\u4e2d\uff08Running\uff09\u7684\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u4efb\u52a1\uff0c\u5305\u62ec\u624b\u52a8\u91c7\u96c6\u4efb\u52a1\u548c\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u3002"}),"\n",(0,l.jsx)(e.p,{children:"\u624b\u52a8\u91c7\u96c6\u4efb\u52a1\u7684\u4efb\u52a1 ID \u53ef\u4ee5\u5728 SHOW ANALYZE STATUS \u4e2d\u67e5\u770b\u3002\u81ea\u5b9a\u4e49\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u7684\u4efb\u52a1 ID \u53ef\u4ee5\u5728 SHOW ANALYZE JOB \u4e2d\u67e5\u770b\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-SQL",children:"KILL ANALYZE <ID>;\n"})}),"\n",(0,l.jsx)(e.h2,{id:"fe\u914d\u7f6e\u9879\u8bf4\u660e",children:"FE\u914d\u7f6e\u9879\u8bf4\u660e"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"FE\u914d\u7f6e\u9879"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u7c7b\u578b"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u9ed8\u8ba4\u503c"})}),(0,l.jsx)(e.th,{children:(0,l.jsx)(e.strong,{children:"\u8bf4\u660e"})})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"enable_statistic_collect"}),(0,l.jsx)(e.td,{children:"BOOLEAN"}),(0,l.jsx)(e.td,{children:"TRUE"}),(0,l.jsx)(e.td,{children:"\u662f\u5426\u91c7\u96c6\u7edf\u8ba1\u4fe1\u606f\u3002\u8be5\u53c2\u6570\u9ed8\u8ba4\u6253\u5f00\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"enable_collect_full_statistic"}),(0,l.jsx)(e.td,{children:"BOOLEAN"}),(0,l.jsx)(e.td,{children:"TRUE"}),(0,l.jsx)(e.td,{children:"\u662f\u5426\u5f00\u542f\u81ea\u52a8\u5168\u91cf\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u3002\u8be5\u53c2\u6570\u9ed8\u8ba4\u6253\u5f00\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_collect_interval_sec"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"300"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5b9a\u671f\u4efb\u52a1\u4e2d\uff0c\u68c0\u6d4b\u6570\u636e\u66f4\u65b0\u7684\u95f4\u9694\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a 5 \u5206\u949f\u3002\u5355\u4f4d\uff1a\u79d2\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_analyze_start_time"}),(0,l.jsx)(e.td,{children:"STRING"}),(0,l.jsx)(e.td,{children:"00:00:00"}),(0,l.jsxs)(e.td,{children:["\u7528\u4e8e\u914d\u7f6e\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u7684\u8d77\u59cb\u65f6\u95f4\u3002\u53d6\u503c\u8303\u56f4\uff1a",(0,l.jsx)(e.code,{children:"00:00:00"})," ~ ",(0,l.jsx)(e.code,{children:"23:59:59"}),"\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_analyze_end_time"}),(0,l.jsx)(e.td,{children:"STRING"}),(0,l.jsx)(e.td,{children:"23:59:59"}),(0,l.jsxs)(e.td,{children:["\u7528\u4e8e\u914d\u7f6e\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u7684\u7ed3\u675f\u65f6\u95f4\u3002\u53d6\u503c\u8303\u56f4\uff1a",(0,l.jsx)(e.code,{children:"00:00:00"})," ~ ",(0,l.jsx)(e.code,{children:"23:59:59"}),"\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_small_table_size"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"5368709120"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u7684\u5c0f\u8868\u9608\u503c\uff0c\u9ed8\u8ba4 5GB\uff0c\u5355\u4f4d\uff1aByte\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_small_table_interval"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"3600"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u7684\u5c0f\u8868\u91c7\u96c6\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_large_table_interval"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"86400"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u7684\u5927\u8868\u91c7\u96c6\u95f4\u9694\uff0c\u5355\u4f4d\uff1a\u79d2\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_ratio"}),(0,l.jsx)(e.td,{children:"DOUBLE"}),(0,l.jsx)(e.td,{children:"0.8"}),(0,l.jsx)(e.td,{children:"\u89e6\u53d1\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u6536\u96c6\u7684\u5065\u5eb7\u5ea6\u9608\u503c\u3002\u5982\u679c\u7edf\u8ba1\u4fe1\u606f\u7684\u5065\u5eb7\u5ea6\u5c0f\u4e8e\u8be5\u9608\u503c\uff0c\u5219\u89e6\u53d1\u81ea\u52a8\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_auto_collect_sample_threshold"}),(0,l.jsx)(e.td,{children:"DOUBLE"}),(0,l.jsx)(e.td,{children:"0.3"}),(0,l.jsx)(e.td,{children:"\u89e6\u53d1\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u62bd\u6837\u6536\u96c6\u7684\u5065\u5eb7\u5ea6\u9608\u503c\u3002\u5982\u679c\u7edf\u8ba1\u4fe1\u606f\u7684\u5065\u5eb7\u5ea6\u5c0f\u4e8e\u8be5\u9608\u503c\uff0c\u5219\u89e6\u53d1\u81ea\u52a8\u62bd\u6837\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_max_full_collect_data_size"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"107374182400"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u7684\u6700\u5927\u5206\u533a\u5927\u5c0f\u3002\u5355\u4f4d\uff1aByte\u3002\u5982\u679c\u8d85\u8fc7\u8be5\u503c\uff0c\u5219\u653e\u5f03\u5168\u91cf\u91c7\u96c6\uff0c\u8f6c\u4e3a\u5bf9\u8be5\u8868\u8fdb\u884c\u62bd\u6837\u91c7\u96c6\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_collect_max_row_count_per_query"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"5000000000"}),(0,l.jsx)(e.td,{children:"\u7edf\u8ba1\u4fe1\u606f\u91c7\u96c6\u5355\u6b21\u6700\u591a\u67e5\u8be2\u7684\u6570\u636e\u884c\u6570\u3002\u7edf\u8ba1\u4fe1\u606f\u4efb\u52a1\u4f1a\u6309\u7167\u8be5\u914d\u7f6e\u81ea\u52a8\u62c6\u5206\u4e3a\u591a\u6b21\u4efb\u52a1\u6267\u884c\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_full_collect_buffer"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"20971520"}),(0,l.jsx)(e.td,{children:"\u81ea\u52a8\u5168\u91cf\u91c7\u96c6\u4efb\u52a1\u5199\u5165\u7684\u7f13\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\uff1aByte\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_collect_too_many_version_sleep"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"600000"}),(0,l.jsx)(e.td,{children:"\u5f53\u7edf\u8ba1\u4fe1\u606f\u8868\u7684\u5199\u5165\u7248\u672c\u8fc7\u591a\u65f6(Too many tablet\u5f02\u5e38)\uff0c\u81ea\u52a8\u91c7\u96c6\u4efb\u52a1\u7684\u4f11\u7720\u65f6\u95f4\uff0c\u5355\u4f4d\uff1a\u79d2\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_sample_collect_rows"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"200000"}),(0,l.jsxs)(e.td,{children:["\u6700\u5c0f\u91c7\u6837\u884c\u6570\u3002\u5982\u679c\u6307\u5b9a\u4e86\u91c7\u96c6\u7c7b\u578b\u4e3a\u62bd\u6837\u91c7\u96c6\uff08SAMPLE\uff09\uff0c\u9700\u8981\u8bbe\u7f6e\u8be5\u53c2\u6570\u3002",(0,l.jsx)("br",{}),"\u5982\u679c\u53c2\u6570\u53d6\u503c\u8d85\u8fc7\u4e86\u5b9e\u9645\u7684\u8868\u884c\u6570\uff0c\u9ed8\u8ba4\u8fdb\u884c\u5168\u91cf\u91c7\u96c6\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_collect_concurrency"}),(0,l.jsx)(e.td,{children:"INT"}),(0,l.jsx)(e.td,{children:"3"}),(0,l.jsxs)(e.td,{children:["\u624b\u52a8\u91c7\u96c6\u4efb\u52a1\u7684\u6700\u5927\u5e76\u53d1\u6570\uff0c\u9ed8\u8ba4\u4e3a 3\uff0c\u5373\u6700\u591a\u53ef\u4ee5\u6709 3 \u4e2a\u624b\u52a8\u91c7\u96c6\u4efb\u52a1\u540c\u65f6\u8fd0\u884c\u3002",(0,l.jsx)("br",{}),"\u8d85\u51fa\u7684\u4efb\u52a1\u5904\u4e8e PENDING \u72b6\u6001\uff0c\u7b49\u5f85\u8c03\u5ea6\u3002"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"histogram_buckets_size"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"64"}),(0,l.jsx)(e.td,{children:"\u76f4\u65b9\u56fe\u9ed8\u8ba4\u5206\u6876\u6570\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"histogram_mcv_size"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"100"}),(0,l.jsx)(e.td,{children:"\u76f4\u65b9\u56fe\u9ed8\u8ba4 most common value \u7684\u6570\u91cf\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"histogram_sample_ratio"}),(0,l.jsx)(e.td,{children:"FLOAT"}),(0,l.jsx)(e.td,{children:"0.1"}),(0,l.jsx)(e.td,{children:"\u76f4\u65b9\u56fe\u9ed8\u8ba4\u91c7\u6837\u6bd4\u4f8b\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"histogram_max_sample_row_count"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"10000000"}),(0,l.jsx)(e.td,{children:"\u76f4\u65b9\u56fe\u6700\u5927\u91c7\u6837\u884c\u6570\u3002"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_manager_sleep_time_sec"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"60"}),(0,l.jsxs)(e.td,{children:["\u7edf\u8ba1\u4fe1\u606f\u76f8\u5173\u5143\u6570\u636e\u8c03\u5ea6\u95f4\u9694\u5468\u671f\u3002\u5355\u4f4d\uff1a\u79d2\u3002\u7cfb\u7edf\u6839\u636e\u8fd9\u4e2a\u95f4\u9694\u5468\u671f\uff0c\u6765\u6267\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a",(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"\u521b\u5efa\u7edf\u8ba1\u4fe1\u606f\u8868\uff1b"}),(0,l.jsx)("li",{children:"\u5220\u9664\u5df2\u7ecf\u88ab\u5220\u9664\u7684\u8868\u7684\u7edf\u8ba1\u4fe1\u606f\uff1b"}),(0,l.jsx)("li",{children:"\u5220\u9664\u8fc7\u671f\u7684\u7edf\u8ba1\u4fe1\u606f\u5386\u53f2\u8bb0\u5f55\u3002"})]})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"statistic_analyze_status_keep_second"}),(0,l.jsx)(e.td,{children:"LONG"}),(0,l.jsx)(e.td,{children:"259200"}),(0,l.jsx)(e.td,{children:"\u91c7\u96c6\u4efb\u52a1\u8bb0\u5f55\u4fdd\u7559\u65f6\u95f4\uff0c\u9ed8\u8ba4\u4e3a 3 \u5929\u3002\u5355\u4f4d\uff1a\u79d2\u3002"})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"\u66f4\u591a\u4fe1\u606f",children:"\u66f4\u591a\u4fe1\u606f"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5982\u9700\u67e5\u8be2 FE \u914d\u7f6e\u9879\u7684\u53d6\u503c\uff0c\u6267\u884c ",(0,l.jsx)(e.a,{href:"/doc/zh/docs/sql-reference/sql-statements/Administration/ADMIN_SHOW_CONFIG",children:"ADMIN SHOW CONFIG"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["\u5982\u9700\u4fee\u6539 FE \u914d\u7f6e\u9879\u7684\u53d6\u503c\uff0c\u6267\u884c ",(0,l.jsx)(e.a,{href:"/doc/zh/docs/sql-reference/sql-statements/Administration/ADMIN_SET_CONFIG",children:"ADMIN SET CONFIG"}),"\u3002"]}),"\n"]}),"\n"]})]})}const j=function(s={}){const{wrapper:e}=Object.assign({},(0,d.ah)(),s.components);return e?(0,l.jsx)(e,Object.assign({},s,{children:(0,l.jsx)(x,s)})):x(s)}},11151:(s,e,n)=>{n.d(e,{Zo:()=>r,ah:()=>c});var l=n(67294);const d=l.createContext({});function c(s){const e=l.useContext(d);return l.useMemo((()=>"function"==typeof s?s(e):{...e,...s}),[e,s])}const i={};function r({components:s,children:e,disableParentContext:n}){let r;return r=n?"function"==typeof s?s({}):s||i:c(s),l.createElement(d.Provider,{value:r},e)}}}]);