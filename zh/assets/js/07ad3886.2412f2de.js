"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[78443],{13593:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var r=s(85893),i=s(11151);const l={displayed_sidebar:"Chinese"},t="\u6269\u5bb9\u7f29\u5bb9",d={id:"administration/Scale_up_down",title:"\u6269\u5bb9\u7f29\u5bb9",description:"FE\u6269\u7f29\u5bb9",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-2.1/administration/Scale_up_down.md",sourceDirName:"administration",slug:"/administration/Scale_up_down",permalink:"/zh/docs/2.1/administration/Scale_up_down",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/docs.zh-cn/edit/main/administration/Scale_up_down.md",tags:[],version:"2.1",frontMatter:{displayed_sidebar:"Chinese"},sidebar:"Chinese",previous:{title:"\u526f\u672c\u7ba1\u7406",permalink:"/zh/docs/2.1/administration/Replica"},next:{title:"\u7528\u6237\u6743\u9650",permalink:"/zh/docs/2.1/administration/User_privilege"}},o={},c=[{value:"FE\u6269\u7f29\u5bb9",id:"fe\u6269\u7f29\u5bb9",level:2},{value:"FE\u6269\u5bb9",id:"fe\u6269\u5bb9",level:3},{value:"FE\u7f29\u5bb9",id:"fe\u7f29\u5bb9",level:3},{value:"BE\u6269\u7f29\u5bb9",id:"be\u6269\u7f29\u5bb9",level:2},{value:"BE\u6269\u5bb9",id:"be\u6269\u5bb9",level:3},{value:"BE\u7f29\u5bb9",id:"be\u7f29\u5bb9",level:3}];function a(e){const n=Object.assign({h1:"h1",h2:"h2",p:"p",ul:"ul",li:"li",h3:"h3",pre:"pre",code:"code",a:"a"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"\u6269\u5bb9\u7f29\u5bb9",children:"\u6269\u5bb9\u7f29\u5bb9"}),"\n",(0,r.jsx)(n.h2,{id:"fe\u6269\u7f29\u5bb9",children:"FE\u6269\u7f29\u5bb9"}),"\n",(0,r.jsx)(n.p,{children:"StarRocks \u6709\u4e24\u79cd FE \u8282\u70b9\uff1aFollower \u548c Observer\u3002Follower\u53c2\u4e0e\u9009\u4e3e\u6295\u7968\u548c\u5199\u5165\uff0cObserver\u53ea\u7528\u6765\u540c\u6b65\u65e5\u5fd7\uff0c\u6269\u5c55\u8bfb\u6027\u80fd\u3002"}),"\n",(0,r.jsx)(n.p,{children:"FE\u6269\u7f29\u5bb9\u65f6\u8981\u6ce8\u610f\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Follower FE(\u5305\u62ecMaster)\u7684\u6570\u91cf\u5fc5\u987b\u4e3a\u5947\u6570\uff0c\u5efa\u8bae\u90e8\u7f723\u4e2a\uff0c\u7ec4\u6210\u9ad8\u53ef\u7528(HA)\u6a21\u5f0f\u5373\u53ef\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u5f53 FE \u5904\u4e8e\u9ad8\u53ef\u7528\u90e8\u7f72\u65f6\uff081\u4e2aMaster\uff0c2\u4e2aFollower\uff09\uff0c\u5efa\u8bae\u901a\u8fc7\u589e\u52a0 Observer FE \u6765\u6269\u5c55 FE \u7684\u8bfb\u670d\u52a1\u80fd\u529b\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u7ee7\u7eed\u589e\u52a0 Follower FE\uff0c\u4f46\u51e0\u4e4e\u662f\u4e0d\u5fc5\u8981\u7684\u3002"}),"\n",(0,r.jsx)(n.li,{children:"\u901a\u5e38\u4e00\u4e2a FE \u8282\u70b9\u53ef\u4ee5\u5e94\u5bf9 10-20 \u53f0 BE \u8282\u70b9\u3002\u5efa\u8bae\u603b\u7684 FE \u8282\u70b9\u6570\u91cf\u5728 10 \u4e2a\u4ee5\u4e0b\u3002\u800c3\u4e2a\u5373\u53ef\u6ee1\u8db3\u7edd\u5927\u90e8\u5206\u9700\u6c42\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"fe\u6269\u5bb9",children:"FE\u6269\u5bb9"}),"\n",(0,r.jsx)(n.p,{children:"\u90e8\u7f72\u597dFE\u8282\u70b9\uff0c\u542f\u52a8\u5b8c\u6210\u670d\u52a1\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'bin/start_be.sh --helper "fe_host:edit_log_port" --daemon ;\n--fe_host\u4e3amaster\u8282\u70b9\u7684ip\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u901a\u8fc7\u547d\u4ee4\u6269\u5bb9FE\u8282\u70b9\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'alter system add follower "fe_host:edit_log_port";\nalter system add observer "fe_host:edit_log_port";\n'})}),"\n",(0,r.jsx)(n.h3,{id:"fe\u7f29\u5bb9",children:"FE\u7f29\u5bb9"}),"\n",(0,r.jsx)(n.p,{children:"\u7f29\u5bb9\u548c\u6269\u5bb9\u547d\u4ee4\u7c7b\u4f3c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:'alter system drop follower "fe_host:edit_log_port";\nalter system drop observer "fe_host:edit_log_port";\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u6269\u7f29\u5bb9\u5b8c\u6210\u540e\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(n.code,{children:"show proc '/frontends';"}),"\u67e5\u770b\u8282\u70b9\u4fe1\u606f"]}),"\n",(0,r.jsx)(n.h2,{id:"be\u6269\u7f29\u5bb9",children:"BE\u6269\u7f29\u5bb9"}),"\n",(0,r.jsx)(n.p,{children:"BE \u6269\u7f29\u5bb9\u540e\uff0cStarRocks \u4f1a\u81ea\u52a8\u6839\u636e\u8d1f\u8f7d\u60c5\u51b5\uff0c\u8fdb\u884c\u6570\u636e\u5747\u8861\uff0c\u671f\u95f4\u4e0d\u5f71\u54cd\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"be\u6269\u5bb9",children:"BE\u6269\u5bb9"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8fd0\u884c\u547d\u4ee4\u8fdb\u884c\u6269\u5bb9"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"alter system add backend 'be_host:be_heartbeat_service_port';\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u8fd0\u884c\u547d\u4ee4\u67e5\u770bBE\u72b6\u6001"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"show proc '/backends';\n"})}),"\n",(0,r.jsx)(n.h3,{id:"be\u7f29\u5bb9",children:"BE\u7f29\u5bb9"}),"\n",(0,r.jsx)(n.p,{children:"\u7f29\u5bb9BE\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a DROP\u548cDECOMMISSION\u3002"}),"\n",(0,r.jsx)(n.p,{children:"DROP\u4f1a\u7acb\u523b\u5220\u9664BE\u8282\u70b9\uff0c\u4e22\u5931\u7684\u526f\u672c\u7531FE\u8c03\u5ea6\u8865\u9f50\uff1bDECOMMISSION\u5148\u4fdd\u8bc1\u526f\u672c\u8865\u9f50\uff0c\u7136\u540e\u518d\u4e0b\u6389BE\u8282\u70b9\u3002DECOMMISSION\u65b9\u5f0f\u66f4\u52a0\u53cb\u597d\u4e00\u70b9\uff0c\u5efa\u8bae\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u8fdb\u884c\u7f29\u5bb9\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u4e8c\u8005\u7684\u547d\u4ee4\u7c7b\u4f3c\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'alter system decommission backend "be_host:be_heartbeat_service_port";'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'alter system drop backend "be_host:be_heartbeat_service_port";'})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Drop backend\u662f\u4e00\u4e2a\u5371\u9669\u64cd\u4f5c\u6240\u4ee5\u9700\u8981\u4e8c\u6b21\u786e\u8ba4\u540e\u6267\u884c"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'alter system drop backend "be_host:be_heartbeat_service_port";'})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["FE\u548cBE\u6269\u5bb9\u4e4b\u540e\u7684\u72b6\u6001\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b",(0,r.jsx)(n.a,{href:"/zh/docs/2.1/administration/Cluster_administration#%E7%A1%AE%E8%AE%A4%E9%9B%86%E7%BE%A4%E5%81%A5%E5%BA%B7%E7%8A%B6%E6%80%81",children:"\u96c6\u7fa4\u72b6\u6001"}),"\u4e00\u8282\u4e2d\u7684\u9875\u9762\u8fdb\u884c\u67e5\u770b\u3002"]})]})}const h=function(e={}){const{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(a,e)})):a(e)}},11151:(e,n,s)=>{s.d(n,{Zo:()=>d,ah:()=>l});var r=s(67294);const i=r.createContext({});function l(e){const n=r.useContext(i);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const t={};function d({components:e,children:n,disableParentContext:s}){let d;return d=s?"function"==typeof e?e({}):e||t:l(e),r.createElement(i.Provider,{value:d},n)}}}]);