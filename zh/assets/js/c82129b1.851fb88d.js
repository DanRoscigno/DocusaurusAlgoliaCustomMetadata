"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[36967],{88114:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>o});var t=s(85893),i=s(11151);const r={displayed_sidebar:"Chinese"},l="\u7406\u89e3StarRocks\u8868\u8bbe\u8ba1",c={id:"table_design/StarRocks_table_design",title:"\u7406\u89e3StarRocks\u8868\u8bbe\u8ba1",description:"\u5217\u5f0f\u5b58\u50a8",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-1.19/table_design/StarRocks_table_design.md",sourceDirName:"table_design",slug:"/table_design/StarRocks_table_design",permalink:"/zh/docs/1.19/table_design/StarRocks_table_design",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/docs.zh-cn/edit/main/table_design/StarRocks_table_design.md",tags:[],version:"1.19",frontMatter:{displayed_sidebar:"Chinese"},sidebar:"Chinese",previous:{title:"\u6392\u5e8f\u952e",permalink:"/zh/docs/1.19/table_design/Sort_key"}},a={},o=[{value:"\u5217\u5f0f\u5b58\u50a8",id:"\u5217\u5f0f\u5b58\u50a8",level:2},{value:"\u7a00\u758f\u7d22\u5f15",id:"\u7a00\u758f\u7d22\u5f15",level:2},{value:"\u52a0\u901f\u6570\u636e\u5904\u7406",id:"\u52a0\u901f\u6570\u636e\u5904\u7406",level:2}];function d(e){const n=Object.assign({h1:"h1",h2:"h2",p:"p",img:"img",ol:"ol",li:"li"},(0,i.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u7406\u89e3starrocks\u8868\u8bbe\u8ba1",children:"\u7406\u89e3StarRocks\u8868\u8bbe\u8ba1"}),"\n",(0,t.jsx)(n.h2,{id:"\u5217\u5f0f\u5b58\u50a8",children:"\u5217\u5f0f\u5b58\u50a8"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"column",src:s(27597).Z+"",width:"1616",height:"522"})}),"\n",(0,t.jsx)(n.p,{children:"StarRocks\u7684\u8868\u548c\u5173\u7cfb\u578b\u6570\u636e\u76f8\u540c, \u7531\u884c\u548c\u5217\u6784\u6210. \u6bcf\u884c\u6570\u636e\u5bf9\u5e94\u7528\u6237\u4e00\u6761\u8bb0\u5f55, \u6bcf\u5217\u6570\u636e\u6709\u76f8\u540c\u6570\u636e\u7c7b\u578b. \u6240\u6709\u6570\u636e\u884c\u7684\u5217\u6570\u76f8\u540c, \u53ef\u4ee5\u52a8\u6001\u589e\u5220\u5217. \xa0StarRocks\u4e2d, \u4e00\u5f20\u8868\u7684\u5217\u53ef\u4ee5\u5206\u4e3a\u7ef4\u5ea6\u5217(\u4e5f\u6210\u4e3akey\u5217)\u548c\u6307\u6807\u5217(value\u5217), \u7ef4\u5ea6\u5217\u7528\u4e8e\u5206\u7ec4\u548c\u6392\u5e8f, \u6307\u6807\u5217\u53ef\u901a\u8fc7\u805a\u5408\u51fd\u6570SUM, COUNT, MIN, MAX, REPLACE, HLL_UNION, BITMAP_UNION\u7b49\u7d2f\u52a0\u8d77\u6765. \u56e0\u6b64, StarRocks\u7684\u8868\u4e5f\u53ef\u4ee5\u8ba4\u4e3a\u662f\u591a\u7ef4\u7684key\u5230\u591a\u7ef4\u6307\u6807\u7684\u6620\u5c04."}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"\u5728StarRocks\u4e2d, \u8868\u4e2d\u6570\u636e\u6309\u5217\u5b58\u50a8, \u7269\u7406\u4e0a, \u4e00\u5217\u6570\u636e\u4f1a\u7ecf\u8fc7\u5206\u5757\u7f16\u7801\u538b\u7f29\u7b49\u64cd\u4f5c, \u7136\u540e\u6301\u4e45\u5316\u4e8e\u975e\u6613\u5931\u8bbe\u5907, \u4f46\u5728\u903b\u8f91\u4e0a, \u4e00\u5217\u6570\u636e\u53ef\u4ee5\u770b\u6210\u7531\u76f8\u540c\u7c7b\u578b\u7684\u5143\u7d20\u6784\u6210\u7684\u6570\u7ec4. \xa0\u4e00\u884c\u6570\u636e\u7684\u6240\u6709\u5217\u5728\u5404\u81ea\u7684\u5217\u6570\u7ec4\u4e2d\u4fdd\u6301\u5bf9\u9f50, \u5373\u62e5\u6709\u76f8\u540c\u7684\u6570\u7ec4\u4e0b\u6807, \u8be5\u4e0b\u6807\u79f0\u4e4b\u4e3a\u5e8f\u53f7\u6216\u8005\u884c\u53f7. \u8be5\u5e8f\u53f7\u662f\u9690\u5f0f, \u4e0d\u9700\u8981\u5b58\u50a8\u7684, \u8868\u4e2d\u7684\u6240\u6709\u884c\u6309\u7167\u7ef4\u5ea6\u5217, \u505a\u591a\u91cd\u6392\u5e8f, \u6392\u5e8f\u540e\u7684\u4f4d\u7f6e\u5c31\u662f\u8be5\u884c\u7684\u884c\u53f7."}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:'\u67e5\u8be2\u65f6, \u5982\u679c\u6307\u5b9a\u4e86\u7ef4\u5ea6\u5217\u7684\u7b49\u503c\u6761\u4ef6\u6216\u8005\u8303\u56f4\u6761\u4ef6, \u5e76\u4e14\u8fd9\u4e9b\u6761\u4ef6\u4e2d\u7ef4\u5ea6\u5217\u53ef\u6784\u6210\u8868\u7ef4\u5ea6\u5217\u7684\u524d\u7f00, \u5219\u53ef\u4ee5\u5229\u7528\u6570\u636e\u7684\u6709\u5e8f\u6027, \u4f7f\u7528range-scan\u5feb\u901f\u9501\u5b9a\u76ee\u6807\u884c. \u4f8b\u5982: \u5bf9\u4e8e\u8868table1: (event_day, siteid, citycode, username)\u279c(pv); \u5f53\u67e5\u8be2\u6761\u4ef6\u4e3aevent_day > 2020-09-18 and siteid = 2, \u5219\u53ef\u4ee5\u4f7f\u7528\u8303\u56f4\u67e5\u627e; \u5982\u679c\u6307\u5b9a\u6761\u4ef6\u4e3acitycode = 4 and username in ["Andy", "Boby", "Christian", "StarRocks"], \u5219\u65e0\u6cd5\u4f7f\u7528\u8303\u56f4\u67e5\u627e.'}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h2,{id:"\u7a00\u758f\u7d22\u5f15",children:"\u7a00\u758f\u7d22\u5f15"}),"\n",(0,t.jsx)(n.p,{children:"\u5f53\u8303\u56f4\u67e5\u627e\u65f6, \u5982\u4f55\u5feb\u901f\u5730\u627e\u5230\u8d77\u59cb\u7684\u76ee\u6807\u884c\u5462? \u7b54\u6848\u662fshortkey index. \u5982\u4e0b\u56fe\u6240\u793a: shortkey\u7d22\u5f15\u4e3a\u7a00\u758f\u7d22\u5f15,"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{alt:"index",src:s(85005).Z+"",width:"899",height:"463"}),"\n\u8868\u4e2d\u6570\u636e\u7ec4\u7ec7\u6709\u4e3b\u8981\u7531\u4e09\u90e8\u5206\u6784\u6210:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"shortkey index\u8868: \xa0\u8868\u4e2d\u6570\u636e\u6bcf1024\u884c, \u6784\u6210\u4e00\u4e2a\u903b\u8f91block. \u6bcf\u4e2a\u903b\u8f91block\u5728shortkey index\u8868\u4e2d\u5b58\u50a8\u4e00\u9879\u7d22\u5f15, \u5185\u5bb9\u4e3a\u8868\u7684\u7ef4\u5ea6\u5217\u7684\u524d\u7f00, \u5e76\u4e14\u4e0d\u8d85\u8fc736\u5b57\u8282. \xa0shortkey index\u4e3a\u7a00\u758f\u7d22\u5f15, \u7528\u6570\u636e\u884c\u7684\u7ef4\u5ea6\u5217\u7684\u524d\u7f00\u67e5\u627e\u7d22\u5f15\u8868, \u53ef\u4ee5\u786e\u5b9a\u8be5\u884c\u6570\u636e\u6240\u5728\u903b\u8f91\u5757\u7684\u8d77\u59cb\u884c\u53f7."}),"\n",(0,t.jsx)(n.li,{children:"Per-column data block: \u8868\u4e2d\u6bcf\u4e00\u5217\u6570\u636e\u630964KB\u5206\u5757\u5b58\u50a8, \xa0\u6570\u636e\u5757\u4f5c\u4e3a\u4e00\u4e2a\u5355\u4f4d\u5355\u72ec\u7f16\u7801\u538b\u7f29, \u4e5f\u4f5c\u4e3aIO\u5355\u4f4d, \u6574\u4f53\u5199\u56de\u8bbe\u5907\u6216\u8005\u8bfb\u51fa."}),"\n",(0,t.jsx)(n.li,{children:"Per-column cardinal index: \xa0\u8868\u4e2d\u7684\u6bcf\u5217\u6570\u636e\u6709\u5404\u81ea\u7684\u884c\u53f7\u7d22\u5f15\u8868, \xa0\u5217\u7684\u6570\u636e\u5757\u548c\u884c\u53f7\u7d22\u5f15\u9879\u4e00\u4e00\u5bf9\u5e94, \u7d22\u5f15\u9879\u7531\u6570\u636e\u5757\u7684\u8d77\u59cb\u884c\u53f7\u548c\u6570\u636e\u5757\u7684\u4f4d\u7f6e\u548c\u957f\u5ea6\u4fe1\u606f\u6784\u6210, \u7528\u6570\u636e\u884c\u7684\u884c\u53f7\u67e5\u627e\u884c\u53f7\u7d22\u5f15\u8868, \u53ef\u4ee5\u83b7\u53d6\u5305\u542b\u8be5\u884c\u53f7\u7684\u6570\u636e\u5757\u6240\u5728\u4f4d\u7f6e, \u8bfb\u53d6\u76ee\u6807\u6570\u636e\u5757\u540e, \u53ef\u4ee5\u8fdb\u4e00\u6b65\u67e5\u627e\u6570\u636e."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u7531\u6b64\u53ef\u89c1, \u67e5\u627e\u7ef4\u5ea6\u5217\u7684\u524d\u7f00\u7684\u67e5\u627e\u8fc7\u7a0b\u4e3a: \xa0\u5148\u67e5\u627eshortkey index, \u83b7\u5f97\u903b\u8f91\u5757\u7684\u8d77\u59cb\u884c\u53f7, \u67e5\u627e\u7ef4\u5ea6\u5217\u7684\u884c\u53f7\u7d22\u5f15, \u83b7\u5f97\u76ee\u6807\u5217\u7684\u6570\u636e\u5757, \u8bfb\u53d6\u6570\u636e\u5757, \u7136\u540e\u89e3\u538b\u89e3\u7801, \u4ece\u6570\u636e\u5757\u4e2d\u627e\u5230\u7ef4\u5ea6\u5217\u524d\u7f00\u5bf9\u5e94\u7684\u6570\u636e\u9879."}),"\n",(0,t.jsx)(n.h2,{id:"\u52a0\u901f\u6570\u636e\u5904\u7406",children:"\u52a0\u901f\u6570\u636e\u5904\u7406"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u9884\u5148\u805a\u5408: \xa0StarRocks\u652f\u6301\u805a\u5408\u6a21\u578b, \u7ef4\u5ea6\u5217\u53d6\u503c\u76f8\u540c\u6570\u636e\u884c\u53ef\u5408\u5e76\u4e00\u884c, \u5408\u5e76\u540e\u6570\u636e\u884c\u7684\u7ef4\u5ea6\u5217\u53d6\u503c\u4e0d\u53d8, \u6307\u6807\u5217\u7684\u53d6\u503c\u4e3a\u8fd9\u4e9b\u6570\u636e\u884c\u7684\u805a\u5408\u7ed3\u679c, \u7528\u6237\u9700\u8981\u7ed9\u6307\u6807\u5217\u6307\u5b9a\u805a\u5408\u51fd\u6570. \xa0\u901a\u8fc7\u9884\u5148\u805a\u5408, \u53ef\u4ee5\u52a0\u901f\u805a\u5408\u64cd\u4f5c."}),"\n",(0,t.jsx)(n.li,{children:"\u5206\u533a\u5206\u6876: \xa0\u4e8b\u5b9e\u4e0aStarRocks\u7684\u8868\u88ab\u5212\u5206\u6210tablet, \u6bcf\u4e2atablet\u591a\u526f\u672c\u5197\u4f59\u5b58\u50a8\u5728BE\u4e0a, BE\u548ctablet\u7684\u6570\u91cf\u53ef\u4ee5\u6839\u636e\u8ba1\u7b97\u8d44\u6e90\u548c\u6570\u636e\u89c4\u6a21\u800c\u5f39\u6027\u4f38\u7f29. \u67e5\u8be2\u65f6, \u591a\u53f0BE\u53ef\u5e76\u884c\u5730\u67e5\u627etablet\u5feb\u901f\u83b7\u53d6\u6570\u636e. \u6b64\u5916, tablet\u7684\u526f\u672c\u53ef\u590d\u5236\u548c\u8fc1\u79fb, \u589e\u5f3a\u4e86\u6570\u636e\u7684\u53ef\u9760\u6027, \u907f\u514d\u4e86\u6570\u636e\u503e\u659c. \u603b\u4e4b, \u5206\u533a\u5206\u6876\u4fdd\u8bc1\u4e86\u6570\u636e\u8bbf\u95ee\u7684\u9ad8\u6548\u6027\u548c\u7a33\u5b9a\u6027."}),"\n",(0,t.jsx)(n.li,{children:"RollUp\u8868\u7d22\u5f15: shortkey index\u53ef\u52a0\u901f\u6570\u636e\u67e5\u627e, \u7136\u540eshortkey index\u4f9d\u8d56\u7ef4\u5ea6\u5217\u6392\u5217\u6b21\u5e8f. \u5982\u679c\u4f7f\u7528\u975e\u524d\u7f00\u7684\u7ef4\u5ea6\u5217\u6784\u9020\u67e5\u627e\u8c13\u8bcd, \u5219\u65e0\u6cd5\u4f7f\u7528shortkey index. \u7528\u6237\u53ef\u4ee5\u4e3a\u6570\u636e\u8868\u521b\u5efa\u82e5\u5e72RollUp\u8868\u7d22\u5f15, RollUp\u8868\u7d22\u5f15\u7684\u6570\u636e\u7ec4\u7ec7\u548c\u5b58\u50a8\u548c\u6570\u636e\u8868\u76f8\u540c, \u4f46RollUp\u8868\u62e5\u6709\u81ea\u8eab\u7684shortkey index. \u7528\u6237\u521b\u5efaRollUp\u8868\u7d22\u5f15\u65f6, \u53ef\u9009\u62e9\u805a\u5408\u7684\u7c92\u5ea6, \u5217\u7684\u6570\u91cf, \u7ef4\u5ea6\u5217\u7684\u6b21\u5e8f; \u4f7f\u9891\u7e41\u4f7f\u7528\u7684\u67e5\u8be2\u6761\u4ef6\u80fd\u591f\u547d\u4e2d\u76f8\u5e94\u7684RollUp\u8868\u7d22\u5f15."}),"\n",(0,t.jsx)(n.li,{children:"\u5217\u7ea7\u522b\u7684\u7d22\u5f15\u6280\u672f: \xa0Bloomfilter\u53ef\u5feb\u901f\u5224\u65ad\u6570\u636e\u5757\u4e2d\u4e0d\u542b\u6240\u67e5\u627e\u503c, ZoneMap\u901a\u8fc7\u6570\u636e\u8303\u56f4\u5feb\u901f\u8fc7\u6ee4\u5f85\u67e5\u627e\u503c, Bitmap\u7d22\u5f15\u53ef\u5feb\u901f\u8ba1\u7b97\u51fa\u679a\u4e3e\u7c7b\u578b\u7684\u5217\u6ee1\u8db3\u4e00\u5b9a\u6761\u4ef6\u7684\u884c."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u8868\u7684\u8bbe\u8ba1\u8be6\u7ec6\u4ecb\u7ecd, \u8bf7\u53c2\u8003\u4e0b\u6587."})]})}const h=function(e={}){const{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(d,e)})):d(e)}},27597:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/3.1.1-1-eb5d790b7ff6f0d2252953029b12e2f6.png"},85005:(e,n,s)=>{s.d(n,{Z:()=>t});const t=s.p+"assets/images/screenshot_1620803557579-9c16165b453a93406227011319c29cde.png"},11151:(e,n,s)=>{s.d(n,{Zo:()=>c,ah:()=>r});var t=s(67294);const i=t.createContext({});function r(e){const n=t.useContext(i);return t.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const l={};function c({components:e,children:n,disableParentContext:s}){let c;return c=s?"function"==typeof e?e({}):e||l:r(e),t.createElement(i.Provider,{value:c},n)}}}]);