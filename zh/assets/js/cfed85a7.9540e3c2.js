"use strict";(self.webpackChunkstarrocks=self.webpackChunkstarrocks||[]).push([[83594],{29380:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>t});var l=n(85893),r=n(11151);const i={},c="\u914d\u7f6e AWS \u8ba4\u8bc1\u4fe1\u606f",a={id:"integrations/authenticate_to_aws_resources",title:"\u914d\u7f6e AWS \u8ba4\u8bc1\u4fe1\u606f",description:"StarRocks \u652f\u6301\u901a\u8fc7\u4ee5\u4e0b\u4e09\u79cd\u8ba4\u8bc1\u9274\u6743\u65b9\u5f0f\u5b9e\u73b0\u4e0e AWS \u8d44\u6e90\u7684\u96c6\u6210\uff1aInstance Profile\u3001Assumed Role\u3001IAM User\u3002\u672c\u6587\u4ecb\u7ecd\u5728\u8fd9\u4e09\u79cd\u8ba4\u8bc1\u9274\u6743\u65b9\u5f0f\u4e0b\u5982\u4f55\u914d\u7f6e AWS \u5b89\u5168\u51ed\u8bc1\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-3.0/integrations/authenticate_to_aws_resources.md",sourceDirName:"integrations",slug:"/integrations/authenticate_to_aws_resources",permalink:"/doc/zh/docs/3.0/integrations/authenticate_to_aws_resources",draft:!1,unlisted:!1,editUrl:"https://github.com/StarRocks/starrocks/tree/main/versioned_docs/version-3.0/integrations/authenticate_to_aws_resources.md",tags:[],version:"3.0",frontMatter:{},sidebar:"Chinese31",previous:{title:"\u5916\u90e8\u7cfb\u7edf\u96c6\u6210",permalink:"/doc/zh/docs/3.0/category/\u5916\u90e8\u7cfb\u7edf\u96c6\u6210"},next:{title:"\u914d\u7f6e Microsoft Azure Storage \u8ba4\u8bc1\u4fe1\u606f",permalink:"/doc/zh/docs/3.0/integrations/authenticate_to_azure_storage"}},d={},t=[{value:"\u8ba4\u8bc1\u65b9\u5f0f\u4ecb\u7ecd",id:"\u8ba4\u8bc1\u65b9\u5f0f\u4ecb\u7ecd",level:2},{value:"\u57fa\u4e8e Instance Profile \u8ba4\u8bc1\u9274\u6743",id:"\u57fa\u4e8e-instance-profile-\u8ba4\u8bc1\u9274\u6743",level:3},{value:"\u57fa\u4e8e Assumed Role \u8ba4\u8bc1\u9274\u6743",id:"\u57fa\u4e8e-assumed-role-\u8ba4\u8bc1\u9274\u6743",level:3},{value:"\u57fa\u4e8e IAM User \u8ba4\u8bc1\u9274\u6743",id:"\u57fa\u4e8e-iam-user-\u8ba4\u8bc1\u9274\u6743",level:3},{value:"\u51c6\u5907\u5de5\u4f5c",id:"\u51c6\u5907\u5de5\u4f5c",level:2},{value:"\u57fa\u4e8e Instance Profile \u8ba4\u8bc1\u9274\u6743",id:"\u57fa\u4e8e-instance-profile-\u8ba4\u8bc1\u9274\u6743-1",level:3},{value:"\u57fa\u4e8e Assumed Role \u8ba4\u8bc1\u9274\u6743",id:"\u57fa\u4e8e-assumed-role-\u8ba4\u8bc1\u9274\u6743-1",level:3},{value:"\u521b\u5efa IAM \u89d2\u8272\u5e76\u6dfb\u52a0\u7b56\u7565",id:"\u521b\u5efa-iam-\u89d2\u8272\u5e76\u6dfb\u52a0\u7b56\u7565",level:4},{value:"\u914d\u7f6e\u4fe1\u4efb\u5173\u7cfb",id:"\u914d\u7f6e\u4fe1\u4efb\u5173\u7cfb",level:4},{value:"\u57fa\u4e8e IAM User \u8ba4\u8bc1\u9274\u6743",id:"\u57fa\u4e8e-iam-user-\u8ba4\u8bc1\u9274\u6743-1",level:3},{value:"\u539f\u7406\u56fe",id:"\u539f\u7406\u56fe",level:2},{value:"\u53c2\u6570\u914d\u7f6e",id:"\u53c2\u6570\u914d\u7f6e",level:2},{value:"\u8bbf\u95ee AWS S3 \u7684\u8ba4\u8bc1\u53c2\u6570",id:"\u8bbf\u95ee-aws-s3-\u7684\u8ba4\u8bc1\u53c2\u6570",level:3},{value:"\u8bbf\u95ee AWS Glue \u7684\u8ba4\u8bc1\u53c2\u6570",id:"\u8bbf\u95ee-aws-glue-\u7684\u8ba4\u8bc1\u53c2\u6570",level:3},{value:"\u96c6\u6210\u793a\u4f8b",id:"\u96c6\u6210\u793a\u4f8b",level:2},{value:"External Catalog",id:"external-catalog",level:3},{value:"\u57fa\u4e8e Instance Profile \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-instance-profile-\u9274\u6743\u8ba4\u8bc1",level:4},{value:"\u57fa\u4e8e Assumed Role \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-assumed-role-\u9274\u6743\u8ba4\u8bc1",level:4},{value:"\u57fa\u4e8e IAM User \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-iam-user-\u9274\u6743\u8ba4\u8bc1",level:4},{value:"\u6587\u4ef6\u5916\u90e8\u8868",id:"\u6587\u4ef6\u5916\u90e8\u8868",level:3},{value:"\u57fa\u4e8e Instance Profile \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-instance-profile-\u9274\u6743\u8ba4\u8bc1-1",level:4},{value:"\u57fa\u4e8e Assumed Role \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-assumed-role-\u9274\u6743\u8ba4\u8bc1-1",level:4},{value:"\u57fa\u4e8e IAM User \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-iam-user-\u9274\u6743\u8ba4\u8bc1-1",level:4},{value:"\u6570\u636e\u5bfc\u5165",id:"\u6570\u636e\u5bfc\u5165",level:3},{value:"\u57fa\u4e8e Instance Profile \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-instance-profile-\u9274\u6743\u8ba4\u8bc1-2",level:4},{value:"\u57fa\u4e8e Assumed Role \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-assumed-role-\u9274\u6743\u8ba4\u8bc1-2",level:4},{value:"\u57fa\u4e8e IAM User \u9274\u6743\u8ba4\u8bc1",id:"\u57fa\u4e8e-iam-user-\u9274\u6743\u8ba4\u8bc1-2",level:4}];function o(e){const s=Object.assign({h1:"h1",p:"p",h2:"h2",h3:"h3",a:"a",blockquote:"blockquote",strong:"strong",ul:"ul",li:"li",h4:"h4",code:"code",ol:"ol",pre:"pre",img:"img",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,r.ah)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.h1,{id:"\u914d\u7f6e-aws-\u8ba4\u8bc1\u4fe1\u606f",children:"\u914d\u7f6e AWS \u8ba4\u8bc1\u4fe1\u606f"}),"\n",(0,l.jsx)(s.p,{children:"StarRocks \u652f\u6301\u901a\u8fc7\u4ee5\u4e0b\u4e09\u79cd\u8ba4\u8bc1\u9274\u6743\u65b9\u5f0f\u5b9e\u73b0\u4e0e AWS \u8d44\u6e90\u7684\u96c6\u6210\uff1aInstance Profile\u3001Assumed Role\u3001IAM User\u3002\u672c\u6587\u4ecb\u7ecd\u5728\u8fd9\u4e09\u79cd\u8ba4\u8bc1\u9274\u6743\u65b9\u5f0f\u4e0b\u5982\u4f55\u914d\u7f6e AWS \u5b89\u5168\u51ed\u8bc1\u3002"}),"\n",(0,l.jsx)(s.h2,{id:"\u8ba4\u8bc1\u65b9\u5f0f\u4ecb\u7ecd",children:"\u8ba4\u8bc1\u65b9\u5f0f\u4ecb\u7ecd"}),"\n",(0,l.jsx)(s.h3,{id:"\u57fa\u4e8e-instance-profile-\u8ba4\u8bc1\u9274\u6743",children:"\u57fa\u4e8e Instance Profile \u8ba4\u8bc1\u9274\u6743"}),"\n",(0,l.jsx)(s.p,{children:"\u901a\u8fc7 Instance Profile\uff0c\u60a8\u53ef\u4ee5\u8ba9 StarRocks \u96c6\u7fa4\u76f4\u63a5\u4ece\u6240\u5728 AWS EC2 \u865a\u62df\u673a\u7ee7\u627f Instance Profile \u7684\u6743\u9650\u3002\u5728\u8be5\u6a21\u5f0f\u4e0b\uff0c\u4efb\u4f55\u80fd\u591f\u767b\u5f55\u5230\u96c6\u7fa4\u7684\u7528\u6237\u90fd\u53ef\u4ee5\u6839\u636e AWS IAM \u7b56\u7565\u914d\u7f6e\uff0c\u5bf9\u76f8\u5173\u7684 AWS \u8d44\u6e90\u6267\u884c\u6388\u6743\u8303\u56f4\u5185\u5141\u8bb8\u7684\u64cd\u4f5c\uff08\u4f8b\u5982 AWS S3 \u6307\u5b9a Bucket \u7684\u8bfb\u5199\u64cd\u4f5c\uff09\u3002"}),"\n",(0,l.jsx)(s.h3,{id:"\u57fa\u4e8e-assumed-role-\u8ba4\u8bc1\u9274\u6743",children:"\u57fa\u4e8e Assumed Role \u8ba4\u8bc1\u9274\u6743"}),"\n",(0,l.jsxs)(s.p,{children:["\u4e0e Instance Profile \u7684\u6a21\u5f0f\u4e0d\u540c\uff0cAssumed Role \u652f\u6301\u901a\u8fc7\u62c5\u4efb AWS IAM Role \u6765\u5b9e\u73b0\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u7684\u8bbf\u95ee\u8ba4\u8bc1\u548c\u9274\u6743\u3002\u53c2\u89c1 AWS \u5b98\u7f51\u6587\u6863",(0,l.jsx)(s.a,{href:"https://docs.aws.amazon.com/zh_cn/awscloudtrail/latest/userguide/cloudtrail-sharing-logs-assume-role.html",children:"\u4ee3\u5165\u89d2\u8272"}),"\u3002"]}),"\n",(0,l.jsx)(s.h3,{id:"\u57fa\u4e8e-iam-user-\u8ba4\u8bc1\u9274\u6743",children:"\u57fa\u4e8e IAM User \u8ba4\u8bc1\u9274\u6743"}),"\n",(0,l.jsxs)(s.p,{children:["IAM User \u652f\u6301\u901a\u8fc7 AWS IAM User \u6765\u5b9e\u73b0\u5bf9\u5916\u90e8\u6570\u636e\u6e90\u7684\u8bbf\u95ee\u8ba4\u8bc1\u548c\u9274\u6743\u3002\u53c2\u89c1 AWS \u5b98\u7f51\u6587\u6863 ",(0,l.jsx)(s.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html",children:"IAM users"}),"\u3002"]}),"\n",(0,l.jsx)(s.h2,{id:"\u51c6\u5907\u5de5\u4f5c",children:"\u51c6\u5907\u5de5\u4f5c"}),"\n",(0,l.jsx)(s.p,{children:"\u9996\u5148\uff0c\u627e\u5230 StarRocks \u96c6\u7fa4\u6240\u5728 EC2 \u5b9e\u4f8b\u6240\u5173\u8054\u7684 IAM \u89d2\u8272\uff08\u4ee5\u4e0b\u7b80\u79f0\u201cEC2 \u5b9e\u4f8b\u5173\u8054\u89d2\u8272\u201d\uff09\uff0c\u5e76\u83b7\u53d6\u8be5\u89d2\u8272\u7684 ARN\u3002\u5728\u4f7f\u7528\u57fa\u4e8e Instance Profile \u7684\u8ba4\u8bc1\u65b9\u5f0f\u65f6\uff0c\u4f1a\u7528\u5230\u8be5\u89d2\u8272\uff1b\u5728\u4f7f\u7528\u57fa\u4e8e Assumed Role \u7684\u8ba4\u8bc1\u65b9\u5f0f\u65f6\uff0c\u4f1a\u7528\u5230\u8be5\u89d2\u8272\u53ca\u5176 ARN\u3002"}),"\n",(0,l.jsx)(s.p,{children:"\u4e0b\u4e00\u6b65\uff0c\u6839\u636e\u8981\u8bbf\u95ee\u7684 AWS \u8d44\u6e90\u3001\u4ee5\u53ca\u4e0e StarRocks \u96c6\u6210\u7684\u5177\u4f53\u64cd\u4f5c\u573a\u666f\u6765\u521b\u5efa IAM \u7b56\u7565\u3002IAM \u7b56\u7565\u7528\u4e8e\u58f0\u660e\u7279\u5b9a AWS \u8d44\u6e90\u7684\u4e00\u7ec4\u8bbf\u95ee\u6743\u9650\u3002\u521b\u5efa IAM \u7b56\u7565\u540e\uff0c\u60a8\u9700\u8981\u5c06\u521b\u5efa\u597d\u7684\u7b56\u7565\u6dfb\u52a0\u5230\u67d0\u4e2a IAM \u7528\u6237\u6216\u89d2\u8272\uff0c\u4ece\u800c\u4f7f\u8be5 IAM \u7528\u6237\u6216\u89d2\u8272\u62e5\u6709\u8be5\u7b56\u7565\u4e2d\u6240\u58f0\u660e\u7684\u8bbf\u95ee\u7279\u5b9a AWS \u8d44\u6e90\u7684\u6743\u9650\u3002"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.strong,{children:"\u6ce8\u610f"})}),"\n",(0,l.jsxs)(s.p,{children:["\u60a8\u5fc5\u987b\u62e5\u6709\u767b\u5f55 ",(0,l.jsx)(s.a,{href:"https://us-east-1.console.aws.amazon.com/iamv2/home#/home",children:"AWS IAM \u63a7\u5236\u53f0"}),"\u548c\u7f16\u8f91 IAM \u7528\u6237\u53ca\u89d2\u8272\u7684\u6743\u9650\u624d\u80fd\u5b8c\u6210\u4e0a\u8ff0\u51c6\u5907\u5de5\u4f5c\u3002"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"\u5173\u4e8e\u8bbf\u95ee\u7279\u5b9a AWS \u8d44\u6e90\u6240\u9700\u8981\u521b\u5efa\u7684 IAM \u7b56\u7565\uff0c\u89c1\u5982\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/reference/aws_iam_policies#%E4%BB%8E-aws-s3-%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE",children:"\u4ece AWS S3 \u6279\u91cf\u5bfc\u5165\u6570\u636e"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/reference/aws_iam_policies#%E4%BB%8E-aws-s3-%E8%AF%BB%E5%86%99%E6%95%B0%E6%8D%AE",children:"\u4ece AWS S3 \u8bfb\u5199\u6570\u636e"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/reference/aws_iam_policies#%E5%AF%B9%E6%8E%A5-aws-glue",children:"\u5bf9\u63a5 AWS Glue"})}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"\u57fa\u4e8e-instance-profile-\u8ba4\u8bc1\u9274\u6743-1",children:"\u57fa\u4e8e Instance Profile \u8ba4\u8bc1\u9274\u6743"}),"\n",(0,l.jsxs)(s.p,{children:["\u628a\u58f0\u660e\u4e86\u8bbf\u95ee\u7279\u5b9a AWS \u8d44\u6e90\u7684 ",(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/reference/aws_iam_policies",children:"IAM \u7b56\u7565"})," \u6dfb\u52a0\u5230 EC2 \u5b9e\u4f8b\u5173\u8054\u89d2\u8272\u3002"]}),"\n",(0,l.jsx)(s.h3,{id:"\u57fa\u4e8e-assumed-role-\u8ba4\u8bc1\u9274\u6743-1",children:"\u57fa\u4e8e Assumed Role \u8ba4\u8bc1\u9274\u6743"}),"\n",(0,l.jsx)(s.h4,{id:"\u521b\u5efa-iam-\u89d2\u8272\u5e76\u6dfb\u52a0\u7b56\u7565",children:"\u521b\u5efa IAM \u89d2\u8272\u5e76\u6dfb\u52a0\u7b56\u7565"}),"\n",(0,l.jsxs)(s.p,{children:["\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u8bbf\u95ee\u7684 AWS \u8d44\u6e90\u9009\u62e9\u521b\u5efa\u4e00\u4e2a\u6216\u591a\u4e2a IAM \u89d2\u8272\u3002\u5177\u4f53\u64cd\u4f5c\u8bf7\u53c2\u89c1 AWS \u5b98\u7f51\u6587\u6863 ",(0,l.jsx)(s.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html",children:"Creating IAM roles"}),"\u3002\u7136\u540e\uff0c\u628a\u58f0\u660e\u4e86\u8bbf\u95ee\u7279\u5b9a AWS \u8d44\u6e90\u7684 ",(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/reference/aws_iam_policies",children:"IAM \u7b56\u7565"})," \u6dfb\u52a0\u5230\u60a8\u6240\u521b\u5efa\u7684 IAM \u89d2\u8272\u3002"]}),"\n",(0,l.jsxs)(s.p,{children:["\u8fd9\u91cc\u5047\u8bbe\u60a8\u7684\u64cd\u4f5c\u573a\u666f\u9700\u8981 StarRocks \u96c6\u7fa4\u8bbf\u95ee AWS S3 \u548c AWS Glue\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u521b\u5efa\u4e00\u4e2a IAM \u89d2\u8272\uff08\u5982 ",(0,l.jsx)(s.code,{children:"s3_assumed_role"}),"\uff09\uff0c\u7136\u540e\u628a\u8d4b\u6743\u8bbf\u95ee AWS S3 \u7684\u7b56\u7565\u548c\u8d4b\u6743\u8bbf\u95ee AWS Glue \u7684\u7b56\u7565\u90fd\u6dfb\u52a0\u5230\u8be5\u89d2\u8272\u3002\u60a8\u4e5f\u53ef\u4ee5\u9009\u62e9\u521b\u5efa\u4e24\u4e2a\u4e0d\u540c\u7684 IAM \u89d2\u8272\uff08\u5982 ",(0,l.jsx)(s.code,{children:"s3_assumed_role"})," \u548c ",(0,l.jsx)(s.code,{children:"glue_assumed_role"}),"\uff09\uff0c\u7136\u540e\u628a\u8fd9\u4e9b\u4e0d\u540c\u7684\u7b56\u7565\u5206\u522b\u6dfb\u52a0\u5230\u8fd9\u4e24\u4e2a\u89d2\u8272\uff08\u5373\uff0c\u628a\u8d4b\u6743\u8bbf\u95ee AWS S3 \u7684\u7b56\u7565\u6dfb\u52a0\u5230 ",(0,l.jsx)(s.code,{children:"s3_assumed_role"}),"\uff0c \u628a\u8d4b\u6743\u8bbf\u95ee AWS Glue \u7684\u7b56\u7565\u6dfb\u52a0\u5230 ",(0,l.jsx)(s.code,{children:"glue_assumed_role"}),"\uff09\u3002"]}),"\n",(0,l.jsx)(s.p,{children:"StarRocks \u96c6\u7fa4\u7684 EC2 \u5b9e\u4f8b\u5173\u8054\u89d2\u8272\u901a\u8fc7\u627f\u62c5\u60a8\u6240\u521b\u5efa\u548c\u914d\u7f6e\u7684 IAM \u89d2\u8272\uff0c\u4fbf\u53ef\u4ee5\u83b7\u5f97\u8bbf\u95ee\u7279\u5b9a AWS \u8d44\u6e90\u7684\u6743\u9650\u3002"}),"\n",(0,l.jsxs)(s.p,{children:["\u672c\u6587\u5047\u8bbe\u60a8\u53ea\u521b\u5efa\u4e86\u4e00\u4e2a Assumed Role ",(0,l.jsx)(s.code,{children:"s3_assumed_role"}),"\uff0c\u5e76\u4e14\u5df2\u628a\u8d4b\u6743\u8bbf\u95ee AWS S3 \u7684\u7b56\u7565\u548c\u8d4b\u6743\u8bbf\u95ee AWS Glue \u7684\u7b56\u7565\u90fd\u6dfb\u52a0\u5230\u4e86\u8be5\u89d2\u8272\u3002"]}),"\n",(0,l.jsx)(s.h4,{id:"\u914d\u7f6e\u4fe1\u4efb\u5173\u7cfb",children:"\u914d\u7f6e\u4fe1\u4efb\u5173\u7cfb"}),"\n",(0,l.jsx)(s.p,{children:"\u8bf7\u6309\u5982\u4e0b\u6b65\u9aa4\u914d\u7f6e Assumed Role\uff1a"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u767b\u5f55 ",(0,l.jsx)(s.a,{href:"https://us-east-1.console.aws.amazon.com/iamv2/home#/home",children:"AWS IAM \u63a7\u5236\u53f0"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u5728\u5de6\u4fa7\u5bfc\u822a\u680f\u9009\u62e9 ",(0,l.jsx)(s.strong,{children:"Access management"})," > ",(0,l.jsx)(s.strong,{children:"Roles"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u627e\u5230 Assumed Role (",(0,l.jsx)(s.code,{children:"s3_assumed_role"}),")\uff0c\u5355\u51fb\u89d2\u8272\u540d\u79f0\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u5728\u89d2\u8272\u8be6\u60c5\u9875\u4e0a\uff0c\u5355\u51fb ",(0,l.jsx)(s.strong,{children:"Trust relationships"})," \u9875\u7b7e\uff0c\u7136\u540e\u5728 ",(0,l.jsx)(s.strong,{children:"Trust relationships"})," \u9875\u7b7e\u4e0a\u5355\u51fb ",(0,l.jsx)(s.strong,{children:"Edit trust policy"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u5728 ",(0,l.jsx)(s.strong,{children:"Edit trust policy"})," \u9875\u9762\u4e0a\uff0c\u5220\u6389\u5f53\u524d\u7684 JSON \u683c\u5f0f\u7b56\u7565\uff0c\u7136\u540e\u62f7\u8d1d\u5e76\u7c98\u8d34\u5982\u4e0b\u7b56\u7565\u3002\u6ce8\u610f\u60a8\u9700\u8981\u628a\u4e0b\u9762\u7b56\u7565\u4e2d\u7684 ",(0,l.jsx)(s.code,{children:"<cluster_EC2_iam_role_ARN>"})," \u66ff\u6362\u4e3a EC2 \u5b9e\u4f8b\u5173\u8054\u89d2\u8272\u7684 ARN\u3002\u6700\u540e\uff0c\u5355\u51fb ",(0,l.jsx)(s.strong,{children:"Update policy"}),"\u3002"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-JSON",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Principal": {\n                "AWS": "<cluster_EC2_iam_role_ARN>"\n            },\n            "Action": "sts:AssumeRole"\n        }\n    ]\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["\u5982\u679c\u60a8\u521b\u5efa\u4e86\u4e0d\u540c\u7684 Assumed Role \u7528\u4ee5\u8d4b\u6743\u8bbf\u95ee\u4e0d\u540c\u7684 AWS \u8d44\u6e90\uff0c\u90a3\u4e48\u60a8\u9700\u8981\u53c2\u7167\u4e0a\u8ff0\u64cd\u4f5c\u6b65\u9aa4\u5b8c\u6210\u5176\u4ed6\u6240\u6709 Assumed Role \u7684\u914d\u7f6e\u3002\u4f8b\u5982\uff0c\u60a8\u521b\u5efa\u4e86 ",(0,l.jsx)(s.code,{children:"s3_assumed_role"})," \u548c ",(0,l.jsx)(s.code,{children:"glue_assumed_role"})," \u4e24\u4e2a Assumed Role\uff0c\u5206\u522b\u7528\u4e8e\u8d4b\u6743\u8bbf\u95ee AWS S3 \u548c AWS Glue\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981\u91cd\u590d\u4e0a\u8ff0\u64cd\u4f5c\u6b65\u9aa4\uff0c\u5b8c\u6210\u5bf9 ",(0,l.jsx)(s.code,{children:"glue_assumed_role"})," \u7684\u914d\u7f6e\u3002"]}),"\n",(0,l.jsx)(s.p,{children:"\u8bf7\u6309\u5982\u4e0b\u6b65\u9aa4\u914d\u7f6e EC2 \u5b9e\u4f8b\u5173\u8054\u89d2\u8272\uff1a"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u767b\u5f55 ",(0,l.jsx)(s.a,{href:"https://us-east-1.console.aws.amazon.com/iamv2/home#/home",children:"AWS IAM \u63a7\u5236\u53f0"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u5728\u5de6\u4fa7\u5bfc\u822a\u680f\u9009\u62e9 ",(0,l.jsx)(s.strong,{children:"Access management"})," > ",(0,l.jsx)(s.strong,{children:"Roles"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u627e\u5230 EC2 \u5b9e\u4f8b\u5173\u8054\u89d2\u8272\uff0c\u5355\u51fb\u89d2\u8272\u540d\u79f0\u3002"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u5728\u89d2\u8272\u8be6\u60c5\u9875\u7684 ",(0,l.jsx)(s.strong,{children:"Permissions policies"})," \u533a\u57df\uff0c\u5355\u51fb ",(0,l.jsx)(s.strong,{children:"Add permissions"})," \u5e76\u9009\u62e9 ",(0,l.jsx)(s.strong,{children:"Create inline policy"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u5728 ",(0,l.jsx)(s.strong,{children:"Specify permissions"})," \u6b65\u9aa4\uff0c \u5355\u51fb ",(0,l.jsx)(s.strong,{children:"JSON"})," \u9875\u7b7e\uff0c\u5220\u6389\u5f53\u524d\u7684 JSON \u683c\u5f0f\u7b56\u7565\uff0c\u7136\u540e\u62f7\u8d1d\u5e76\u7c98\u8d34\u5982\u4e0b\u7b56\u7565\u3002\u6ce8\u610f\u60a8\u9700\u8981\u628a\u4e0b\u9762\u7b56\u7565\u4e2d\u7684 ",(0,l.jsx)(s.code,{children:"<s3_assumed_role_ARN>"})," \u66ff\u6362\u4e3a Assumed Role ",(0,l.jsx)(s.code,{children:"s3_assumed_role"})," \u7684 ARN\u3002\u6700\u540e\uff0c\u5355\u51fb ",(0,l.jsx)(s.strong,{children:"Review policy"}),"\u3002"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-JSON",children:'{\n    "Version": "2012-10-17",\n    "Statement": [\n        {\n            "Effect": "Allow",\n            "Action": ["sts:AssumeRole"],\n            "Resource": [\n                "<s3_assumed_role_ARN>"\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,l.jsxs)(s.p,{children:["\u5982\u679c\u60a8\u521b\u5efa\u4e86\u4e0d\u540c\u7684 Assumed Role \u7528\u4ee5\u8d4b\u6743\u8bbf\u95ee\u4e0d\u540c\u7684 AWS \u8d44\u6e90\uff0c\u90a3\u4e48\u60a8\u9700\u8981\u5728\u4e0a\u9762\u7b56\u7565\u7684 ",(0,l.jsx)(s.strong,{children:"Resource"})," \u5b57\u6bb5\u4e2d\u586b\u5165\u6240\u6709 Assumed Role \u7684 ARN\u3002\u4f8b\u5982\uff0c\u60a8\u521b\u5efa\u4e86 ",(0,l.jsx)(s.code,{children:"s3_assumed_role"})," \u548c ",(0,l.jsx)(s.code,{children:"glue_assumed_role"})," \u4e24\u4e2a Assumed Role\uff0c\u5206\u522b\u7528\u4e8e\u8d4b\u6743\u8bbf\u95ee AWS S3 \u548c AWS Glue\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u9700\u8981\u5728 ",(0,l.jsx)(s.strong,{children:"Resource"})," \u5b57\u6bb5\u4e2d\u586b\u5165 ",(0,l.jsx)(s.code,{children:"s3_assumed_role"})," \u7684 ARN \u548c ",(0,l.jsx)(s.code,{children:"glue_assumed_role"})," \u7684 ARN\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a",(0,l.jsx)(s.code,{children:'"<s3_assumed_role_ARN>","<glue_assumed_role_ARN>"'}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["\u5728 ",(0,l.jsx)(s.strong,{children:"Review Policy"})," \u6b65\u9aa4\uff0c\u8f93\u5165\u7b56\u7565\u540d\u79f0\uff0c\u7136\u540e\u5355\u51fb ",(0,l.jsx)(s.strong,{children:"Create policy"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"\u57fa\u4e8e-iam-user-\u8ba4\u8bc1\u9274\u6743-1",children:"\u57fa\u4e8e IAM User \u8ba4\u8bc1\u9274\u6743"}),"\n",(0,l.jsxs)(s.p,{children:["\u521b\u5efa\u4e00\u4e2a IAM \u7528\u6237\u3002\u5177\u4f53\u64cd\u4f5c\u8bf7\u53c2\u89c1 AWS \u5b98\u7f51\u6587\u6863 ",(0,l.jsx)(s.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html",children:"Creating an IAM user in your AWS account"}),"\u3002"]}),"\n",(0,l.jsxs)(s.p,{children:["\u7136\u540e\uff0c\u628a\u58f0\u660e\u4e86\u8bbf\u95ee\u7279\u5b9a AWS \u8d44\u6e90\u7684 ",(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/reference/aws_iam_policies",children:"IAM \u7b56\u7565"})," \u6dfb\u52a0\u5230\u521b\u5efa\u597d\u7684 IAM \u7528\u6237\u3002"]}),"\n",(0,l.jsx)(s.h2,{id:"\u539f\u7406\u56fe",children:"\u539f\u7406\u56fe"}),"\n",(0,l.jsx)(s.p,{children:"StarRocks \u4e2d Instance Profile\u3001Assumed Role\u3001\u4ee5\u53ca IAM User \u4e09\u79cd\u8ba4\u8bc1\u65b9\u5f0f\u7684\u539f\u7406\u548c\u5dee\u5f02\u5982\u4e0b\u56fe\u6240\u793a\u3002"}),"\n",(0,l.jsx)(s.p,{children:(0,l.jsx)(s.img,{alt:"Credentials",src:n(68991).Z+"",width:"1430",height:"1608"})}),"\n",(0,l.jsx)(s.h2,{id:"\u53c2\u6570\u914d\u7f6e",children:"\u53c2\u6570\u914d\u7f6e"}),"\n",(0,l.jsx)(s.h3,{id:"\u8bbf\u95ee-aws-s3-\u7684\u8ba4\u8bc1\u53c2\u6570",children:"\u8bbf\u95ee AWS S3 \u7684\u8ba4\u8bc1\u53c2\u6570"}),"\n",(0,l.jsx)(s.p,{children:"\u5728 StarRocks \u9700\u8981\u4e0e AWS S3 \u8fdb\u884c\u96c6\u6210\u7684\u5404\u7c7b\u573a\u666f\u4e0b\uff0c\u4f8b\u5982\u5728\u521b\u5efa External Catalog \u6216\u6587\u4ef6\u5916\u90e8\u8868\u3001\u4ee5\u53ca\u4ece AWS S3 \u5bfc\u5165\u3001\u5907\u4efd\u6216\u6062\u590d\u6570\u636e\u65f6\uff0cAWS S3 \u7684\u8ba4\u8bc1\u53c2\u6570\u90fd\u9700\u8981\u53c2\u8003\u4e0b\u8ff0\u8fdb\u884c\u914d\u7f6e\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u57fa\u4e8e Instance Profile \u8fdb\u884c\u8ba4\u8bc1\u548c\u9274\u6743\uff0c\u5219\u9700\u8981\u628a ",(0,l.jsx)(s.code,{children:"aws.s3.use_instance_profile"})," \u8bbe\u7f6e\u4e3a ",(0,l.jsx)(s.code,{children:"true"}),"\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u57fa\u4e8e Assumed Role \u8fdb\u884c\u8ba4\u8bc1\u548c\u9274\u6743\uff0c\u5219\u9700\u8981\u628a ",(0,l.jsx)(s.code,{children:"aws.s3.use_instance_profile"})," \u8bbe\u7f6e\u4e3a ",(0,l.jsx)(s.code,{children:"true"}),"\uff0c\u5e76\u5728 ",(0,l.jsx)(s.code,{children:"aws.s3.iam_role_arn"})," \u4e2d\u586b\u5165\u7528\u4e8e\u8bbf\u95ee AWS S3 \u7684 Assumed Role \u7684 ARN\uff08\u4f8b\u5982\uff0c\u524d\u9762\u521b\u5efa\u7684 ",(0,l.jsx)(s.code,{children:"s3_assumed_role"})," \u7684 ARN\uff09\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u57fa\u4e8e IAM User \u8fdb\u884c\u8ba4\u8bc1\u548c\u9274\u6743\uff0c\u5219\u9700\u8981\u628a ",(0,l.jsx)(s.code,{children:"aws.s3.use_instance_profile"})," \u8bbe\u7f6e\u4e3a ",(0,l.jsx)(s.code,{children:"false"}),"\uff0c\u5e76\u5728 ",(0,l.jsx)(s.code,{children:"aws.s3.access_key"})," \u548c ",(0,l.jsx)(s.code,{children:"aws.s3.secret_key"})," \u4e2d\u5206\u522b\u586b\u5165 AWS IAM User \u7684 Access Key \u548c Secret Key\u3002"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"\u53c2\u6570\u8bf4\u660e\u89c1\u4e0b\u8868\u3002"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"\u53c2\u6570"}),(0,l.jsx)(s.th,{children:"\u662f\u5426\u5fc5\u987b"}),(0,l.jsx)(s.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.s3.use_instance_profile"}),(0,l.jsx)(s.td,{children:"\u662f"}),(0,l.jsxs)(s.td,{children:["\u6307\u5b9a\u662f\u5426\u5f00\u542f Instance Profile \u548c Assumed Role \u4e24\u79cd\u9274\u6743\u65b9\u5f0f\u3002\u53d6\u503c\u8303\u56f4\uff1a",(0,l.jsx)(s.code,{children:"true"})," \u548c ",(0,l.jsx)(s.code,{children:"false"}),"\u3002\u9ed8\u8ba4\u503c\uff1a",(0,l.jsx)(s.code,{children:"false"}),"\u3002"]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.s3.iam_role_arn"}),(0,l.jsx)(s.td,{children:"\u5426"}),(0,l.jsx)(s.td,{children:"\u6709\u6743\u9650\u8bbf\u95ee AWS S3 Bucket \u7684 IAM Role \u7684 ARN\u3002\u91c7\u7528 Assumed Role \u9274\u6743\u65b9\u5f0f\u8bbf\u95ee AWS S3 \u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u6b64\u53c2\u6570\u3002"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.s3.access_key"}),(0,l.jsx)(s.td,{children:"\u5426"}),(0,l.jsx)(s.td,{children:"IAM User \u7684 Access Key\u3002\u91c7\u7528 IAM User \u9274\u6743\u65b9\u5f0f\u8bbf\u95ee AWS S3 \u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u6b64\u53c2\u6570\u3002"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.s3.secret_key"}),(0,l.jsx)(s.td,{children:"\u5426"}),(0,l.jsx)(s.td,{children:"IAM User \u7684 Secret Key\u3002\u91c7\u7528 IAM User \u9274\u6743\u65b9\u5f0f\u8bbf\u95ee AWS S3 \u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u6b64\u53c2\u6570\u3002"})]})]})]}),"\n",(0,l.jsx)(s.h3,{id:"\u8bbf\u95ee-aws-glue-\u7684\u8ba4\u8bc1\u53c2\u6570",children:"\u8bbf\u95ee AWS Glue \u7684\u8ba4\u8bc1\u53c2\u6570"}),"\n",(0,l.jsx)(s.p,{children:"\u5728 StarRocks \u9700\u8981\u4e0e AWS Glue \u8fdb\u884c\u96c6\u6210\u7684\u5404\u7c7b\u573a\u666f\u4e0b\uff0c\u4f8b\u5982\u5728\u521b\u5efa External Catalog \u65f6\uff0cAWS Glue \u7684\u8ba4\u8bc1\u53c2\u6570\u90fd\u9700\u8981\u53c2\u8003\u4e0b\u8ff0\u8fdb\u884c\u914d\u7f6e\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u57fa\u4e8e Instance Profile \u8fdb\u884c\u8ba4\u8bc1\u548c\u9274\u6743\uff0c\u5219\u9700\u8981\u628a ",(0,l.jsx)(s.code,{children:"aws.glue.use_instance_profile"})," \u8bbe\u7f6e\u4e3a ",(0,l.jsx)(s.code,{children:"true"}),"\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u57fa\u4e8e Assumed Role \u8fdb\u884c\u8ba4\u8bc1\u548c\u9274\u6743\uff0c\u5219\u9700\u8981\u628a ",(0,l.jsx)(s.code,{children:"aws.glue.use_instance_profile"})," \u8bbe\u7f6e\u4e3a ",(0,l.jsx)(s.code,{children:"true"}),"\uff0c\u5e76\u5728 ",(0,l.jsx)(s.code,{children:"aws.glue.iam_role_arn"})," \u4e2d\u586b\u5165\u7528\u4e8e\u8bbf\u95ee AWS Glue \u7684 Assumed Role \u7684 ARN\uff08\u4f8b\u5982\uff0c\u524d\u9762\u521b\u5efa\u7684 ",(0,l.jsx)(s.code,{children:"glue_assumed_role"})," \u7684 ARN\uff09\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:["\u5982\u679c\u57fa\u4e8e IAM User \u8fdb\u884c\u8ba4\u8bc1\u548c\u9274\u6743\uff0c\u5219\u9700\u8981\u628a ",(0,l.jsx)(s.code,{children:"aws.glue.use_instance_profile"})," \u8bbe\u7f6e\u4e3a ",(0,l.jsx)(s.code,{children:"false"}),"\uff0c\u5e76\u5728 ",(0,l.jsx)(s.code,{children:"aws.glue.access_key"})," \u548c ",(0,l.jsx)(s.code,{children:"aws.glue.secret_key"})," \u4e2d\u5206\u522b\u586b\u5165 AWS IAM User \u7684 Access Key \u548c Secret Key\u3002"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"\u53c2\u6570\u8bf4\u660e\u89c1\u4e0b\u8868\u3002"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"\u53c2\u6570"}),(0,l.jsx)(s.th,{children:"\u662f\u5426\u5fc5\u987b"}),(0,l.jsx)(s.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.glue.use_instance_profile"}),(0,l.jsx)(s.td,{children:"\u662f"}),(0,l.jsxs)(s.td,{children:["\u6307\u5b9a\u662f\u5426\u5f00\u542f Instance Profile \u548c Assumed Role \u4e24\u79cd\u9274\u6743\u65b9\u5f0f\u3002\u53d6\u503c\u8303\u56f4\uff1a",(0,l.jsx)(s.code,{children:"true"})," \u548c ",(0,l.jsx)(s.code,{children:"false"}),"\u3002\u9ed8\u8ba4\u503c\uff1a",(0,l.jsx)(s.code,{children:"false"}),"\u3002"]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.glue.iam_role_arn"}),(0,l.jsx)(s.td,{children:"\u5426"}),(0,l.jsx)(s.td,{children:"\u6709\u6743\u9650\u8bbf\u95ee AWS Glue Data Catalog \u7684 IAM Role \u7684 ARN\u3002\u91c7\u7528 Assumed Role \u9274\u6743\u65b9\u5f0f\u8bbf\u95ee AWS Glue \u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u6b64\u53c2\u6570\u3002"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.glue.access_key"}),(0,l.jsx)(s.td,{children:"\u5426"}),(0,l.jsx)(s.td,{children:"IAM User \u7684 Access Key\u3002\u91c7\u7528 IAM User \u9274\u6743\u65b9\u5f0f\u8bbf\u95ee AWS Glue \u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u6b64\u53c2\u6570\u3002"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"aws.glue.secret_key"}),(0,l.jsx)(s.td,{children:"\u5426"}),(0,l.jsx)(s.td,{children:"IAM User \u7684 Secret Key\u3002\u91c7\u7528 IAM User \u9274\u6743\u65b9\u5f0f\u8bbf\u95ee AWS Glue \u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u6b64\u53c2\u6570\u3002"})]})]})]}),"\n",(0,l.jsx)(s.h2,{id:"\u96c6\u6210\u793a\u4f8b",children:"\u96c6\u6210\u793a\u4f8b"}),"\n",(0,l.jsx)(s.h3,{id:"external-catalog",children:"External Catalog"}),"\n",(0,l.jsx)(s.p,{children:"\u5728 StarRocks \u96c6\u7fa4\u4e2d\u521b\u5efa External Catalog \u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u96c6\u6210\u6570\u636e\u6e56\u7684\u4e24\u4e2a\u5173\u952e\u7ec4\u4ef6\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"\u5206\u5e03\u5f0f\u6587\u4ef6\u5b58\u50a8\uff0c\u5982 AWS S3\uff0c\u7528\u4e8e\u5b58\u50a8\u8868\u6587\u4ef6\u3002"}),"\n",(0,l.jsx)(s.li,{children:"\u5143\u6570\u636e\u670d\u52a1\uff0c\u5982 Hive Metastore\uff08\u4ee5\u4e0b\u7b80\u79f0 HMS\uff09\u6216 AWS Glue\uff0c\u7528\u4e8e\u5b58\u50a8\u8868\u6587\u4ef6\u7684\u5143\u6570\u636e\u548c\u4f4d\u7f6e\u4fe1\u606f\u3002"}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"StarRocks \u652f\u6301\u4ee5\u4e0b\u7c7b\u578b\u7684 External Catalog\uff1a"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/data_source/catalog/hive_catalog",children:"Hive catalog"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/data_source/catalog/iceberg_catalog",children:"Iceberg catalog"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/data_source/catalog/hudi_catalog",children:"Hudi catalog"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/data_source/catalog/deltalake_catalog",children:"Delta Lake catalog"})}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["\u4ee5\u4e0b\u793a\u4f8b\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a ",(0,l.jsx)(s.code,{children:"hive_catalog_hms"})," \u6216 ",(0,l.jsx)(s.code,{children:"hive_catalog_glue"})," \u7684 Hive Catalog\uff0c\u7528\u4e8e\u67e5\u8be2 Hive \u96c6\u7fa4\u91cc\u7684\u6570\u636e\u3002\u6709\u5173\u8be6\u7ec6\u7684\u8bed\u6cd5\u548c\u53c2\u6570\u8bf4\u660e\uff0c\u53c2\u89c1 ",(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/data_source/catalog/hive_catalog",children:"Hive catalog"}),"\u3002"]}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-instance-profile-\u9274\u6743\u8ba4\u8bc1",children:"\u57fa\u4e8e Instance Profile \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u5982\u679c Hive \u96c6\u7fa4\u4f7f\u7528 HMS \u4f5c\u4e3a\u5143\u6570\u636e\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa Hive Catalog\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL CATALOG hive_catalog_hms\nPROPERTIES\n(\n    "type" = "hive",\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.region" = "us-west-2",\n    "hive.metastore.uris" = "thrift://xx.xx.xx:9083"\n);\n'})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u5982\u679c Amazon EMR Hive \u96c6\u7fa4\u4f7f\u7528 AWS Glue \u4f5c\u4e3a\u5143\u6570\u636e\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa Hive Catalog\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL CATALOG hive_catalog_glue\nPROPERTIES\n(\n    "type" = "hive",\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.region" = "us-west-2",\n    "hive.metastore.type" = "glue",\n    "aws.glue.use_instance_profile" = "true",\n    "aws.glue.region" = "us-west-2"\n);\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-assumed-role-\u9274\u6743\u8ba4\u8bc1",children:"\u57fa\u4e8e Assumed Role \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u5982\u679c Hive \u96c6\u7fa4\u4f7f\u7528 HMS \u4f5c\u4e3a\u5143\u6570\u636e\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa Hive Catalog\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL CATALOG hive_catalog_hms\nPROPERTIES\n(\n    "type" = "hive",\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.iam_role_arn" = "arn:aws:iam::081976408565:role/s3_assumed_role",\n    "aws.s3.region" = "us-west-2",\n    "hive.metastore.uris" = "thrift://xx.xx.xx:9083"\n);\n'})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u5982\u679c Amazon EMR Hive \u96c6\u7fa4\u4f7f\u7528 AWS Glue \u4f5c\u4e3a\u5143\u6570\u636e\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa Hive Catalog\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL CATALOG hive_catalog_glue\nPROPERTIES\n(\n    "type" = "hive",\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.iam_role_arn" = "arn:aws:iam::081976408565:role/s3_assumed_role",\n    "aws.s3.region" = "us-west-2",\n    "hive.metastore.type" = "glue",\n    "aws.glue.use_instance_profile" = "true",\n    "aws.glue.iam_role_arn" = "arn:aws:iam::081976408565:role/glue_assumed_role",\n    "aws.glue.region" = "us-west-2"\n);\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-iam-user-\u9274\u6743\u8ba4\u8bc1",children:"\u57fa\u4e8e IAM User \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u5982\u679c Hive \u96c6\u7fa4\u4f7f\u7528 HMS \u4f5c\u4e3a\u5143\u6570\u636e\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa Hive Catalog\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL CATALOG hive_catalog_hms\nPROPERTIES\n(\n    "type" = "hive",\n    "aws.s3.use_instance_profile" = "false",\n    "aws.s3.access_key" = "<iam_user_access_key>",\n    "aws.s3.secret_key" = "<iam_user_access_key>",\n    "aws.s3.region" = "us-west-2",\n    "hive.metastore.uris" = "thrift://xx.xx.xx:9083"\n);\n'})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\u5982\u679c Amazon EMR Hive \u96c6\u7fa4\u4f7f\u7528 AWS Glue \u4f5c\u4e3a\u5143\u6570\u636e\u670d\u52a1\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa Hive Catalog\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL CATALOG hive_catalog_glue\nPROPERTIES\n(\n    "type" = "hive",\n    "aws.s3.use_instance_profile" = "false",\n    "aws.s3.access_key" = "<iam_user_access_key>",\n    "aws.s3.secret_key" = "<iam_user_secret_key>",\n    "aws.s3.region" = "us-west-2",\n    "hive.metastore.type" = "glue",\n    "aws.glue.use_instance_profile" = "false",\n    "aws.glue.access_key" = "<iam_user_access_key>",\n    "aws.glue.secret_key" = "<iam_user_secret_key>",\n    "aws.glue.region" = "us-west-2"\n);\n'})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"\u6587\u4ef6\u5916\u90e8\u8868",children:"\u6587\u4ef6\u5916\u90e8\u8868"}),"\n",(0,l.jsxs)(s.p,{children:["\u5fc5\u987b\u5728 Internal Catalog ",(0,l.jsx)(s.code,{children:"default_catalog"})," \u4e2d\u521b\u5efa\u6587\u4ef6\u5916\u90e8\u8868\u3002\u4ee5\u4e0b\u793a\u4f8b\u5728\u73b0\u6709\u6570\u636e\u5e93 ",(0,l.jsx)(s.code,{children:"test_s3_db"})," \u4e0a\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a ",(0,l.jsx)(s.code,{children:"file_table"})," \u7684\u6587\u4ef6\u5916\u90e8\u8868\u3002\u6709\u5173\u8be6\u7ec6\u7684\u8bed\u6cd5\u548c\u53c2\u6570\u8bf4\u660e\uff0c\u53c2\u89c1 ",(0,l.jsx)(s.a,{href:"/doc/zh/docs/3.0/data_source/file_external_table",children:"\u6587\u4ef6\u5916\u90e8\u8868"}),"\u3002"]}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-instance-profile-\u9274\u6743\u8ba4\u8bc1-1",children:"\u57fa\u4e8e Instance Profile \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsx)(s.p,{children:"\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa\u6587\u4ef6\u5916\u90e8\u8868\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL TABLE test_s3_db.file_table\n(\n    id varchar(65500),\n    attributes map<varchar(100), varchar(2000)>\n) \nENGINE=FILE\nPROPERTIES\n(\n    "path" = "s3://starrocks-test/",\n    "format" = "ORC",\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.region" = "us-west-2"\n);\n'})}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-assumed-role-\u9274\u6743\u8ba4\u8bc1-1",children:"\u57fa\u4e8e Assumed Role \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsx)(s.p,{children:"\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa\u6587\u4ef6\u5916\u90e8\u8868\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL TABLE test_s3_db.file_table\n(\n    id varchar(65500),\n    attributes map<varchar(100), varchar(2000)>\n) \nENGINE=FILE\nPROPERTIES\n(\n    "path" = "s3://starrocks-test/",\n    "format" = "ORC",\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.iam_role_arn" = "arn:aws:iam::081976408565:role/s3_assumed_role",\n    "aws.s3.region" = "us-west-2"\n);\n'})}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-iam-user-\u9274\u6743\u8ba4\u8bc1-1",children:"\u57fa\u4e8e IAM User \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsx)(s.p,{children:"\u60a8\u53ef\u4ee5\u8fd9\u6837\u521b\u5efa\u6587\u4ef6\u5916\u90e8\u8868\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'CREATE EXTERNAL TABLE test_s3_db.file_table\n(\n    id varchar(65500),\n    attributes map<varchar(100), varchar(2000)>\n) \nENGINE=FILE\nPROPERTIES\n(\n    "path" = "s3://starrocks-test/",\n    "format" = "ORC",\n    "aws.s3.use_instance_profile" = "false",\n    "aws.s3.access_key" = "<iam_user_access_key>",\n    "aws.s3.secret_key" = "<iam_user_secret_key>",\n    "aws.s3.region" = "us-west-2"\n);\n'})}),"\n",(0,l.jsx)(s.h3,{id:"\u6570\u636e\u5bfc\u5165",children:"\u6570\u636e\u5bfc\u5165"}),"\n",(0,l.jsxs)(s.p,{children:["\u60a8\u53ef\u4ee5\u4ece AWS S3 \u5bfc\u5165\u6570\u636e\u3002 \u4ee5\u4e0b\u793a\u4f8b\u5c06\u5b58\u50a8\u5728 ",(0,l.jsx)(s.code,{children:"s3a://test-bucket/test_brokerload_ingestion"})," \u8def\u5f84\u4e0b\u7684\u6240\u6709 Parquet \u683c\u5f0f\u6570\u636e\u6587\u4ef6\u90fd\u5bfc\u5165\u5230\u4e86\u73b0\u6709\u6570\u636e\u5e93 ",(0,l.jsx)(s.code,{children:"test_s3_db"})," \u4e2d\u4e00\u4e2a\u540d\u4e3a ",(0,l.jsx)(s.code,{children:"test_ingestion_2"})," \u7684\u8868\u4e2d\u3002\u6709\u5173\u8be6\u7ec6\u7684\u8bed\u6cd5\u548c\u53c2\u6570\u8bf4\u660e\uff0c\u53c2\u89c1 ",(0,l.jsx)(s.a,{href:"../sql-reference/sql-statements/data-manipulation/BROKER_LOAD.md",children:"BROKER LOAD"}),"\u3002"]}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-instance-profile-\u9274\u6743\u8ba4\u8bc1-2",children:"\u57fa\u4e8e Instance Profile \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsx)(s.p,{children:"\u60a8\u53ef\u4ee5\u8fd9\u6837\u5bfc\u5165\u6570\u636e\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'LOAD LABEL test_s3_db.test_credential_instanceprofile_7\n(\n    DATA INFILE("s3a://test-bucket/test_brokerload_ingestion/*")\n    INTO TABLE test_ingestion_2\n    FORMAT AS "parquet"\n)\nWITH BROKER\n(\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.region" = "us-west-1"\n)\nPROPERTIES\n(\n    "timeout" = "1200"\n);\n'})}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-assumed-role-\u9274\u6743\u8ba4\u8bc1-2",children:"\u57fa\u4e8e Assumed Role \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsx)(s.p,{children:"\u60a8\u53ef\u4ee5\u8fd9\u6837\u5bfc\u5165\u6570\u636e\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'LOAD LABEL test_s3_db.test_credential_instanceprofile_7\n(\n    DATA INFILE("s3a://test-bucket/test_brokerload_ingestion/*")\n    INTO TABLE test_ingestion_2\n    FORMAT AS "parquet"\n)\nWITH BROKER\n(\n    "aws.s3.use_instance_profile" = "true",\n    "aws.s3.iam_role_arn" = "arn:aws:iam::081976408565:role/s3_assumed_role",\n    "aws.s3.region" = "us-west-1"\n)\nPROPERTIES\n(\n    "timeout" = "1200"\n);\n'})}),"\n",(0,l.jsx)(s.h4,{id:"\u57fa\u4e8e-iam-user-\u9274\u6743\u8ba4\u8bc1-2",children:"\u57fa\u4e8e IAM User \u9274\u6743\u8ba4\u8bc1"}),"\n",(0,l.jsx)(s.p,{children:"\u60a8\u53ef\u4ee5\u8fd9\u6837\u5bfc\u5165\u6570\u636e\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-SQL",children:'LOAD LABEL test_s3_db.test_credential_instanceprofile_7\n(\n    DATA INFILE("s3a://test-bucket/test_brokerload_ingestion/*")\n    INTO TABLE test_ingestion_2\n    FORMAT AS "parquet"\n)\nWITH BROKER\n(\n    "aws.s3.use_instance_profile" = "false",\n    "aws.s3.access_key" = "<iam_user_access_key>",\n    "aws.s3.secret_key" = "<iam_user_secret_key>",\n    "aws.s3.region" = "us-west-1"\n)\nPROPERTIES\n(\n    "timeout" = "1200"\n);\n'})})]})}const h=function(e={}){const{wrapper:s}=Object.assign({},(0,r.ah)(),e.components);return s?(0,l.jsx)(s,Object.assign({},e,{children:(0,l.jsx)(o,e)})):o(e)}},68991:(e,s,n)=>{n.d(s,{Z:()=>l});const l=n.p+"assets/images/authenticate_s3_credential_methods-a4866ca19199b88b7ae2474ad2e1462c.png"},11151:(e,s,n)=>{n.d(s,{Zo:()=>a,ah:()=>i});var l=n(67294);const r=l.createContext({});function i(e){const s=l.useContext(r);return l.useMemo((()=>"function"==typeof e?e(s):{...s,...e}),[s,e])}const c={};function a({components:e,children:s,disableParentContext:n}){let a;return a=n?"function"==typeof e?e({}):e||c:i(e),l.createElement(r.Provider,{value:a},s)}}}]);