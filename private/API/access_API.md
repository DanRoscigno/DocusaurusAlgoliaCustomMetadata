---
sidebar_position: 10
---

# CelerData Cloud Private API

CelerData Cloud Private provides a RESTful API over HTTPS to help you securely query information about various resources.

## Access the API

The procedure for making an API call is as follows:

1. Create an access token.

   The use of the CelerData Cloud Private API requires an [(access token)](../API/obtain_access_credentials.md), which is a base64 encoded string generated by using the [application key](../API/application_keys.md) and helps you access specific resources. Currently, the API supports querying CCU usage and billing information. When you make an API call, you can use the `access_token` value as a header in the HTTP request.

2. Make an API call.

   After you [generate an access token](../API/obtain_access_credentials.md), you can call the actions supported by the CelerData Cloud Private API to query the information of your concern. See [API list](../API/API_list.md).

## Example usage

This example illustrates how to [query the CCU usage of a cluster](../API/actions/query_cluster_CCU_usage.md).

### Before you begin

- Create an access token. See [Obtain access credentials](../API/obtain_access_credentials.md).
- Obtain the ID of the cluster you want to query. To obtain the cluster ID, follow these steps:

  1. Sign in to the [CelerData Cloud Private console](https://cloud.celerdata.com/login), and in the left-side navigation tree choose **Clusters**.
  2. On the page that appears, click the cluster you want to query. The cluster ID is displayed in the URL. Example:
    ![Obtain cluster ID](../assets/obtain_clusterID_from_url.png)

### Sample request

Use the access token with the `Authorization: Bearer <access_token>` header to query the CCU usage of a cluster whose `cluster_id` is `82964bc5-a8ce-4236-9fe6-1ad1e0f80e15`:

```Plaintext
    curl --request GET \
  --url 'https://cloud-api.celerdata.com/api/1.0/usages/82964bc5-a8ce-4236-9fe6-1ad1e0f80e15?start_date=20230701&end_date=20230731&show_detail=true' \
  --header 'Authorization: Bearer NWM0MWU1NJGTZME1OC0ZZDNKLTK0MZKTODQXM2EXNGM3MTYX'
```

### Sample response

The response body consists of three parts:

- `code`: the error code. If the error code returned is `20000`, the request succeeded. If any other error code is returned, the request failed.
- `data`: the result of the API call. The `data` object may not be returned for some API actions.
- `message`: the error message. This field is returned only when the `code` returned is not `20000`. **Do not conclude whether a request succeeded or failed based on the return value of `message`.**

The following sample response is the result of a successful request:

```Plaintext
{
    "code": 20000,
    "data": {
         // <The result of the API call>       
    }
}
```

The following sample response is the result of a failed request:

```Plaintext
{
    "code": 30000,
    "message": "<The error message>"
}
```
